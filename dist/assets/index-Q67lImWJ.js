function Sm(s,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in s)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Uh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hl={exports:{}},Is={},fl={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function jm(){if(qd)return ke;qd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function E(N,P,J){this.props=N,this.context=P,this.refs=T,this.updater=J||C}E.prototype.isReactComponent={},E.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},E.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=E.prototype;function B(N,P,J){this.props=N,this.context=P,this.refs=T,this.updater=J||C}var j=B.prototype=new M;j.constructor=B,O(j,E.prototype),j.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,G={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ye(N,P,J){var ee,le={},fe=null,L=null;if(P!=null)for(ee in P.ref!==void 0&&(L=P.ref),P.key!==void 0&&(fe=""+P.key),P)F.call(P,ee)&&!oe.hasOwnProperty(ee)&&(le[ee]=P[ee]);var q=arguments.length-2;if(q===1)le.children=J;else if(1<q){for(var ne=Array(q),be=0;be<q;be++)ne[be]=arguments[be+2];le.children=ne}if(N&&N.defaultProps)for(ee in q=N.defaultProps,q)le[ee]===void 0&&(le[ee]=q[ee]);return{$$typeof:s,type:N,key:fe,ref:L,props:le,_owner:G.current}}function xe(N,P){return{$$typeof:s,type:N.type,key:P,ref:N.ref,props:N.props,_owner:N._owner}}function Ce(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function pe(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(J){return P[J]})}var te=/\/+/g;function me(N,P){return typeof N=="object"&&N!==null&&N.key!=null?pe(""+N.key):P.toString(36)}function _e(N,P,J,ee,le){var fe=typeof N;(fe==="undefined"||fe==="boolean")&&(N=null);var L=!1;if(N===null)L=!0;else switch(fe){case"string":case"number":L=!0;break;case"object":switch(N.$$typeof){case s:case r:L=!0}}if(L)return L=N,le=le(L),N=ee===""?"."+me(L,0):ee,D(le)?(J="",N!=null&&(J=N.replace(te,"$&/")+"/"),_e(le,P,J,"",function(be){return be})):le!=null&&(Ce(le)&&(le=xe(le,J+(!le.key||L&&L.key===le.key?"":(""+le.key).replace(te,"$&/")+"/")+N)),P.push(le)),1;if(L=0,ee=ee===""?".":ee+":",D(N))for(var q=0;q<N.length;q++){fe=N[q];var ne=ee+me(fe,q);L+=_e(fe,P,J,ne,le)}else if(ne=b(N),typeof ne=="function")for(N=ne.call(N),q=0;!(fe=N.next()).done;)fe=fe.value,ne=ee+me(fe,q++),L+=_e(fe,P,J,ne,le);else if(fe==="object")throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return L}function je(N,P,J){if(N==null)return N;var ee=[],le=0;return _e(N,ee,"","",function(fe){return P.call(J,fe,le++)}),ee}function Se(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(J){(N._status===0||N._status===-1)&&(N._status=1,N._result=J)},function(J){(N._status===0||N._status===-1)&&(N._status=2,N._result=J)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var we={current:null},V={transition:null},ae={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:V,ReactCurrentOwner:G};function H(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:je,forEach:function(N,P,J){je(N,function(){P.apply(this,arguments)},J)},count:function(N){var P=0;return je(N,function(){P++}),P},toArray:function(N){return je(N,function(P){return P})||[]},only:function(N){if(!Ce(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ke.Component=E,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=B,ke.StrictMode=a,ke.Suspense=m,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ke.act=H,ke.cloneElement=function(N,P,J){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ee=O({},N.props),le=N.key,fe=N.ref,L=N._owner;if(P!=null){if(P.ref!==void 0&&(fe=P.ref,L=G.current),P.key!==void 0&&(le=""+P.key),N.type&&N.type.defaultProps)var q=N.type.defaultProps;for(ne in P)F.call(P,ne)&&!oe.hasOwnProperty(ne)&&(ee[ne]=P[ne]===void 0&&q!==void 0?q[ne]:P[ne])}var ne=arguments.length-2;if(ne===1)ee.children=J;else if(1<ne){q=Array(ne);for(var be=0;be<ne;be++)q[be]=arguments[be+2];ee.children=q}return{$$typeof:s,type:N.type,key:le,ref:fe,props:ee,_owner:L}},ke.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},ke.createElement=ye,ke.createFactory=function(N){var P=ye.bind(null,N);return P.type=N,P},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:p,render:N}},ke.isValidElement=Ce,ke.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:Se}},ke.memo=function(N,P){return{$$typeof:y,type:N,compare:P===void 0?null:P}},ke.startTransition=function(N){var P=V.transition;V.transition={};try{N()}finally{V.transition=P}},ke.unstable_act=H,ke.useCallback=function(N,P){return we.current.useCallback(N,P)},ke.useContext=function(N){return we.current.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N){return we.current.useDeferredValue(N)},ke.useEffect=function(N,P){return we.current.useEffect(N,P)},ke.useId=function(){return we.current.useId()},ke.useImperativeHandle=function(N,P,J){return we.current.useImperativeHandle(N,P,J)},ke.useInsertionEffect=function(N,P){return we.current.useInsertionEffect(N,P)},ke.useLayoutEffect=function(N,P){return we.current.useLayoutEffect(N,P)},ke.useMemo=function(N,P){return we.current.useMemo(N,P)},ke.useReducer=function(N,P,J){return we.current.useReducer(N,P,J)},ke.useRef=function(N){return we.current.useRef(N)},ke.useState=function(N){return we.current.useState(N)},ke.useSyncExternalStore=function(N,P,J){return we.current.useSyncExternalStore(N,P,J)},ke.useTransition=function(){return we.current.useTransition()},ke.version="18.3.1",ke}var Hd;function Kl(){return Hd||(Hd=1,fl.exports=jm()),fl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function Em(){if(Gd)return Is;Gd=1;var s=Kl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var v,w={},b=null,C=null;y!==void 0&&(b=""+y),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(C=m.ref);for(v in m)a.call(m,v)&&!c.hasOwnProperty(v)&&(w[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)w[v]===void 0&&(w[v]=m[v]);return{$$typeof:r,type:p,key:b,ref:C,props:w,_owner:l.current}}return Is.Fragment=n,Is.jsx=h,Is.jsxs=h,Is}var Jd;function Nm(){return Jd||(Jd=1,hl.exports=Em()),hl.exports}var u=Nm(),S=Kl();const zh=Uh(S),Cm=Sm({__proto__:null,default:zh},[S]);var aa={},pl={exports:{}},jt={},ml={exports:{}},gl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Tm(){return Qd||(Qd=1,(function(s){function r(V,ae){var H=V.length;V.push(ae);e:for(;0<H;){var N=H-1>>>1,P=V[N];if(0<l(P,ae))V[N]=ae,V[H]=P,H=N;else break e}}function n(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var ae=V[0],H=V.pop();if(H!==ae){V[0]=H;e:for(var N=0,P=V.length,J=P>>>1;N<J;){var ee=2*(N+1)-1,le=V[ee],fe=ee+1,L=V[fe];if(0>l(le,H))fe<P&&0>l(L,le)?(V[N]=L,V[fe]=H,N=fe):(V[N]=le,V[ee]=H,N=ee);else if(fe<P&&0>l(L,H))V[N]=L,V[fe]=H,N=fe;else break e}}return ae}function l(V,ae){var H=V.sortIndex-ae.sortIndex;return H!==0?H:V.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],y=[],v=1,w=null,b=3,C=!1,O=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(V){for(var ae=n(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=V)a(y),ae.sortIndex=ae.expirationTime,r(m,ae);else break;ae=n(y)}}function D(V){if(T=!1,j(V),!O)if(n(m)!==null)O=!0,Se(F);else{var ae=n(y);ae!==null&&we(D,ae.startTime-V)}}function F(V,ae){O=!1,T&&(T=!1,M(ye),ye=-1),C=!0;var H=b;try{for(j(ae),w=n(m);w!==null&&(!(w.expirationTime>ae)||V&&!pe());){var N=w.callback;if(typeof N=="function"){w.callback=null,b=w.priorityLevel;var P=N(w.expirationTime<=ae);ae=s.unstable_now(),typeof P=="function"?w.callback=P:w===n(m)&&a(m),j(ae)}else a(m);w=n(m)}if(w!==null)var J=!0;else{var ee=n(y);ee!==null&&we(D,ee.startTime-ae),J=!1}return J}finally{w=null,b=H,C=!1}}var G=!1,oe=null,ye=-1,xe=5,Ce=-1;function pe(){return!(s.unstable_now()-Ce<xe)}function te(){if(oe!==null){var V=s.unstable_now();Ce=V;var ae=!0;try{ae=oe(!0,V)}finally{ae?me():(G=!1,oe=null)}}else G=!1}var me;if(typeof B=="function")me=function(){B(te)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,je=_e.port2;_e.port1.onmessage=te,me=function(){je.postMessage(null)}}else me=function(){E(te,0)};function Se(V){oe=V,G||(G=!0,me())}function we(V,ae){ye=E(function(){V(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_continueExecution=function(){O||C||(O=!0,Se(F))},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(V){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var H=b;b=ae;try{return V()}finally{b=H}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=b;b=V;try{return ae()}finally{b=H}},s.unstable_scheduleCallback=function(V,ae,H){var N=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?N+H:N):H=N,V){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=H+P,V={id:v++,callback:ae,priorityLevel:V,startTime:H,expirationTime:P,sortIndex:-1},H>N?(V.sortIndex=H,r(y,V),n(m)===null&&V===n(y)&&(T?(M(ye),ye=-1):T=!0,we(D,H-N))):(V.sortIndex=P,r(m,V),O||C||(O=!0,Se(F))),V},s.unstable_shouldYield=pe,s.unstable_wrapCallback=function(V){var ae=b;return function(){var H=b;b=ae;try{return V.apply(this,arguments)}finally{b=H}}}})(gl)),gl}var Yd;function Pm(){return Yd||(Yd=1,ml.exports=Tm()),ml.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function Rm(){if(Xd)return jt;Xd=1;var s=Kl(),r=Pm();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function b(e){return m.call(w,e)?!0:m.call(v,e)?!1:y.test(e)?w[e]=!0:(v[e]=!0,!1)}function C(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,i,o){if(t===null||typeof t>"u"||C(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,i,o,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,B);E[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,B);E[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,B);E[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,t,i,o){var d=E.hasOwnProperty(t)?E[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,i,d,o)&&(i=null),o||d===null?b(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,o=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),G=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),pe=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),V=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,N;function P(e){if(N===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var J=!1;function ee(e,t){if(!e||J)return"";J=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var o=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){o=I}e.call(t.prototype)}else{try{throw Error()}catch(I){o=I}e()}}catch(I){if(I&&o&&typeof I.stack=="string"){for(var d=I.stack.split(`
`),f=o.stack.split(`
`),g=d.length-1,x=f.length-1;1<=g&&0<=x&&d[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(d[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||d[g]!==f[x]){var k=`
`+d[g].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=g&&0<=x);break}}}finally{J=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?P(e):""}function le(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case G:return"Portal";case xe:return"Profiler";case ye:return"StrictMode";case me:return"Suspense";case _e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case Ce:return(e._context.displayName||"Context")+".Provider";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function L(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function be(e){var t=ne(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qe(e){e._valueTracker||(e._valueTracker=be(e))}function Be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=ne(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ut(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K(e,t){var i=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function se(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=q(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ve(e,t){t=t.checked,t!=null&&j(e,"checked",t,!1)}function Qe(e,t){ve(e,t);var i=q(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tt(e,t.type,i):t.hasOwnProperty("defaultValue")&&tt(e,t.type,q(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fe(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function tt(e,t,i){(t!=="number"||ut(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Oe=Array.isArray;function Ye(e,t,i,o){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+q(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function gt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $r(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Oe(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:q(i)}}function zt(e,t){var i=q(t.value),o=q(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Ys(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xs,au=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cf=["Webkit","ms","Moz","O"];Object.keys(Yn).forEach(function(e){Cf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yn[t]=Yn[e]})});function ou(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Yn.hasOwnProperty(e)&&Yn[e]?(""+t).trim():t+"px"}function lu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=ou(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,d):e[i]=d}}var Tf=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(e,t){if(t){if(Tf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,un=null,cn=null;function uu(e){if(e=xs(e)){if(typeof Na!="function")throw Error(n(280));var t=e.stateNode;t&&(t=bi(t),Na(e.stateNode,e.type,t))}}function cu(e){un?cn?cn.push(e):cn=[e]:un=e}function du(){if(un){var e=un,t=cn;if(cn=un=null,uu(e),t)for(e=0;e<t.length;e++)uu(t[e])}}function hu(e,t){return e(t)}function fu(){}var Ca=!1;function pu(e,t,i){if(Ca)return e(t,i);Ca=!0;try{return hu(e,t,i)}finally{Ca=!1,(un!==null||cn!==null)&&(fu(),du())}}function Xn(e,t){var i=e.stateNode;if(i===null)return null;var o=bi(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Ta=!1;if(p)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Ta=!1}function Pf(e,t,i,o,d,f,g,x,k){var I=Array.prototype.slice.call(arguments,3);try{t.apply(i,I)}catch(U){this.onError(U)}}var es=!1,Zs=null,ei=!1,Pa=null,Rf={onError:function(e){es=!0,Zs=e}};function Of(e,t,i,o,d,f,g,x,k){es=!1,Zs=null,Pf.apply(Rf,arguments)}function Af(e,t,i,o,d,f,g,x,k){if(Of.apply(this,arguments),es){if(es){var I=Zs;es=!1,Zs=null}else throw Error(n(198));ei||(ei=!0,Pa=I)}}function Dr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gu(e){if(Dr(e)!==e)throw Error(n(188))}function If(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return gu(d),e;if(f===o)return gu(d),t;f=f.sibling}throw Error(n(188))}if(i.return!==o.return)i=d,o=f;else{for(var g=!1,x=d.child;x;){if(x===i){g=!0,i=d,o=f;break}if(x===o){g=!0,o=d,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,o=d;break}if(x===o){g=!0,o=f,i=d;break}x=x.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function yu(e){return e=If(e),e!==null?vu(e):null}function vu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vu(e);if(t!==null)return t;e=e.sibling}return null}var xu=r.unstable_scheduleCallback,wu=r.unstable_cancelCallback,Bf=r.unstable_shouldYield,Mf=r.unstable_requestPaint,We=r.unstable_now,Lf=r.unstable_getCurrentPriorityLevel,Ra=r.unstable_ImmediatePriority,bu=r.unstable_UserBlockingPriority,ti=r.unstable_NormalPriority,$f=r.unstable_LowPriority,ku=r.unstable_IdlePriority,ri=null,Zt=null;function Df(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ri,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Ff,Uf=Math.log,zf=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-(Uf(e)/zf|0)|0}var ni=64,si=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ii(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~d;x!==0?o=ts(x):(f&=g,f!==0&&(o=ts(f)))}else g=i&~d,g!==0?o=ts(g):f!==0&&(o=ts(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ft(t),d=1<<i,o|=e[i],t&=~d;return o}function Wf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kf(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Ft(f),x=1<<g,k=d[g];k===-1?((x&i)===0||(x&o)!==0)&&(d[g]=Wf(x,t)):k<=t&&(e.expiredLanes|=x),f&=~x}}function Oa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _u(){var e=ni;return ni<<=1,(ni&4194240)===0&&(ni=64),e}function Aa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function rs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=i}function Vf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Ft(i),f=1<<d;t[d]=0,o[d]=-1,e[d]=-1,i&=~f}}function Ia(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ft(i),d=1<<o;d&t|e[o]&t&&(e[o]|=t),i&=~d}}var Te=0;function Su(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ju,Ba,Eu,Nu,Cu,Ma=!1,ai=[],pr=null,mr=null,gr=null,ns=new Map,ss=new Map,yr=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function is(e,t,i,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=xs(t),t!==null&&Ba(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Hf(e,t,i,o,d){switch(t){case"focusin":return pr=is(pr,e,t,i,o,d),!0;case"dragenter":return mr=is(mr,e,t,i,o,d),!0;case"mouseover":return gr=is(gr,e,t,i,o,d),!0;case"pointerover":var f=d.pointerId;return ns.set(f,is(ns.get(f)||null,e,t,i,o,d)),!0;case"gotpointercapture":return f=d.pointerId,ss.set(f,is(ss.get(f)||null,e,t,i,o,d)),!0}return!1}function Pu(e){var t=Ur(e.target);if(t!==null){var i=Dr(t);if(i!==null){if(t=i.tag,t===13){if(t=mu(i),t!==null){e.blockedOn=t,Cu(e.priority,function(){Eu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=$a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);ja=o,i.target.dispatchEvent(o),ja=null}else return t=xs(i),t!==null&&Ba(t),e.blockedOn=i,!1;t.shift()}return!0}function Ru(e,t,i){oi(e)&&i.delete(t)}function Gf(){Ma=!1,pr!==null&&oi(pr)&&(pr=null),mr!==null&&oi(mr)&&(mr=null),gr!==null&&oi(gr)&&(gr=null),ns.forEach(Ru),ss.forEach(Ru)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gf)))}function os(e){function t(d){return as(d,e)}if(0<ai.length){as(ai[0],e);for(var i=1;i<ai.length;i++){var o=ai[i];o.blockedOn===e&&(o.blockedOn=null)}}for(pr!==null&&as(pr,e),mr!==null&&as(mr,e),gr!==null&&as(gr,e),ns.forEach(t),ss.forEach(t),i=0;i<yr.length;i++)o=yr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<yr.length&&(i=yr[0],i.blockedOn===null);)Pu(i),i.blockedOn===null&&yr.shift()}var dn=D.ReactCurrentBatchConfig,li=!0;function Jf(e,t,i,o){var d=Te,f=dn.transition;dn.transition=null;try{Te=1,La(e,t,i,o)}finally{Te=d,dn.transition=f}}function Qf(e,t,i,o){var d=Te,f=dn.transition;dn.transition=null;try{Te=4,La(e,t,i,o)}finally{Te=d,dn.transition=f}}function La(e,t,i,o){if(li){var d=$a(e,t,i,o);if(d===null)to(e,t,o,ui,i),Tu(e,o);else if(Hf(d,e,t,i,o))o.stopPropagation();else if(Tu(e,o),t&4&&-1<qf.indexOf(e)){for(;d!==null;){var f=xs(d);if(f!==null&&ju(f),f=$a(e,t,i,o),f===null&&to(e,t,o,ui,i),f===d)break;d=f}d!==null&&o.stopPropagation()}else to(e,t,o,null,i)}}var ui=null;function $a(e,t,i,o){if(ui=null,e=Ea(o),e=Ur(e),e!==null)if(t=Dr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=mu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ui=e,null}function Ou(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lf()){case Ra:return 1;case bu:return 4;case ti:case $f:return 16;case ku:return 536870912;default:return 16}default:return 16}}var vr=null,Da=null,ci=null;function Au(){if(ci)return ci;var e,t=Da,i=t.length,o,d="value"in vr?vr.value:vr.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===d[f-o];o++);return ci=d.slice(e,1<o?1-o:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hi(){return!0}function Iu(){return!1}function Nt(e){function t(i,o,d,f,g){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?hi:Iu,this.isPropagationStopped=Iu,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Nt(hn),ls=H({},hn,{view:0,detail:0}),Yf=Nt(ls),za,Fa,us,fi=H({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(za=e.screenX-us.screenX,Fa=e.screenY-us.screenY):Fa=za=0,us=e),za)},movementY:function(e){return"movementY"in e?e.movementY:Fa}}),Bu=Nt(fi),Xf=H({},fi,{dataTransfer:0}),Zf=Nt(Xf),ep=H({},ls,{relatedTarget:0}),Wa=Nt(ep),tp=H({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=Nt(tp),np=H({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sp=Nt(np),ip=H({},hn,{data:0}),Mu=Nt(ip),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lp[e])?!!t[e]:!1}function Ka(){return up}var cp=H({},ls,{key:function(e){if(e.key){var t=ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=Nt(cp),hp=H({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=Nt(hp),fp=H({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),pp=Nt(fp),mp=H({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=Nt(mp),yp=H({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vp=Nt(yp),xp=[9,13,27,32],Va=p&&"CompositionEvent"in window,cs=null;p&&"documentMode"in document&&(cs=document.documentMode);var wp=p&&"TextEvent"in window&&!cs,$u=p&&(!Va||cs&&8<cs&&11>=cs),Du=" ",Uu=!1;function zu(e,t){switch(e){case"keyup":return xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function bp(e,t){switch(e){case"compositionend":return Fu(t);case"keypress":return t.which!==32?null:(Uu=!0,Du);case"textInput":return e=t.data,e===Du&&Uu?null:e;default:return null}}function kp(e,t){if(fn)return e==="compositionend"||!Va&&zu(e,t)?(e=Au(),ci=Da=vr=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $u&&t.locale!=="ko"?null:t.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_p[e.type]:t==="textarea"}function Ku(e,t,i,o){cu(o),t=vi(t,"onChange"),0<t.length&&(i=new Ua("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var ds=null,hs=null;function Sp(e){lc(e,0)}function pi(e){var t=vn(e);if(Be(t))return e}function jp(e,t){if(e==="change")return t}var Vu=!1;if(p){var qa;if(p){var Ha="oninput"in document;if(!Ha){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),Ha=typeof qu.oninput=="function"}qa=Ha}else qa=!1;Vu=qa&&(!document.documentMode||9<document.documentMode)}function Hu(){ds&&(ds.detachEvent("onpropertychange",Gu),hs=ds=null)}function Gu(e){if(e.propertyName==="value"&&pi(hs)){var t=[];Ku(t,hs,e,Ea(e)),pu(Sp,t)}}function Ep(e,t,i){e==="focusin"?(Hu(),ds=t,hs=i,ds.attachEvent("onpropertychange",Gu)):e==="focusout"&&Hu()}function Np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pi(hs)}function Cp(e,t){if(e==="click")return pi(t)}function Tp(e,t){if(e==="input"||e==="change")return pi(t)}function Pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:Pp;function fs(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!m.call(t,d)||!Wt(e[d],t[d]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var i=Ju(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ju(i)}}function Yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(){for(var e=window,t=ut();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ut(e.document)}return t}function Ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rp(e){var t=Xu(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Yu(i.ownerDocument.documentElement,i)){if(o!==null&&Ga(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(o.start,d);o=o.end===void 0?f:Math.min(o.end,d),!e.extend&&f>o&&(d=o,o=f,f=d),d=Qu(i,f);var g=Qu(i,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=p&&"documentMode"in document&&11>=document.documentMode,pn=null,Ja=null,ps=null,Qa=!1;function Zu(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Qa||pn==null||pn!==ut(o)||(o=pn,"selectionStart"in o&&Ga(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ps&&fs(ps,o)||(ps=o,o=vi(Ja,"onSelect"),0<o.length&&(t=new Ua("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=pn)))}function mi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var mn={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionend:mi("Transition","TransitionEnd")},Ya={},ec={};p&&(ec=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function gi(e){if(Ya[e])return Ya[e];if(!mn[e])return e;var t=mn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ec)return Ya[e]=t[i];return e}var tc=gi("animationend"),rc=gi("animationiteration"),nc=gi("animationstart"),sc=gi("transitionend"),ic=new Map,ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){ic.set(e,t),c(t,[e])}for(var Xa=0;Xa<ac.length;Xa++){var Za=ac[Xa],Ap=Za.toLowerCase(),Ip=Za[0].toUpperCase()+Za.slice(1);xr(Ap,"on"+Ip)}xr(tc,"onAnimationEnd"),xr(rc,"onAnimationIteration"),xr(nc,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(sc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function oc(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Af(o,t,void 0,e),e.currentTarget=null}function lc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var x=o[g],k=x.instance,I=x.currentTarget;if(x=x.listener,k!==f&&d.isPropagationStopped())break e;oc(d,x,I),f=k}else for(g=0;g<o.length;g++){if(x=o[g],k=x.instance,I=x.currentTarget,x=x.listener,k!==f&&d.isPropagationStopped())break e;oc(d,x,I),f=k}}}if(ei)throw e=Pa,ei=!1,Pa=null,e}function Ae(e,t){var i=t[oo];i===void 0&&(i=t[oo]=new Set);var o=e+"__bubble";i.has(o)||(uc(t,e,2,!1),i.add(o))}function eo(e,t,i){var o=0;t&&(o|=4),uc(i,e,o,t)}var yi="_reactListening"+Math.random().toString(36).slice(2);function gs(e){if(!e[yi]){e[yi]=!0,a.forEach(function(i){i!=="selectionchange"&&(Bp.has(i)||eo(i,!1,e),eo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yi]||(t[yi]=!0,eo("selectionchange",!1,t))}}function uc(e,t,i,o){switch(Ou(t)){case 1:var d=Jf;break;case 4:d=Qf;break;default:d=La}i=d.bind(null,t,i,e),d=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function to(e,t,i,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var x=o.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var k=g.tag;if((k===3||k===4)&&(k=g.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;g=g.return}for(;x!==null;){if(g=Ur(x),g===null)return;if(k=g.tag,k===5||k===6){o=f=g;continue e}x=x.parentNode}}o=o.return}pu(function(){var I=f,U=Ea(i),z=[];e:{var $=ic.get(e);if($!==void 0){var Q=Ua,X=e;switch(e){case"keypress":if(di(i)===0)break e;case"keydown":case"keyup":Q=dp;break;case"focusin":X="focus",Q=Wa;break;case"focusout":X="blur",Q=Wa;break;case"beforeblur":case"afterblur":Q=Wa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=pp;break;case tc:case rc:case nc:Q=rp;break;case sc:Q=gp;break;case"scroll":Q=Yf;break;case"wheel":Q=vp;break;case"copy":case"cut":case"paste":Q=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Lu}var Z=(t&4)!==0,Ke=!Z&&e==="scroll",R=Z?$!==null?$+"Capture":null:$;Z=[];for(var _=I,A;_!==null;){A=_;var W=A.stateNode;if(A.tag===5&&W!==null&&(A=W,R!==null&&(W=Xn(_,R),W!=null&&Z.push(ys(_,W,A)))),Ke)break;_=_.return}0<Z.length&&($=new Q($,X,null,i,U),z.push({event:$,listeners:Z}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",$&&i!==ja&&(X=i.relatedTarget||i.fromElement)&&(Ur(X)||X[sr]))break e;if((Q||$)&&($=U.window===U?U:($=U.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(X=i.relatedTarget||i.toElement,Q=I,X=X?Ur(X):null,X!==null&&(Ke=Dr(X),X!==Ke||X.tag!==5&&X.tag!==6)&&(X=null)):(Q=null,X=I),Q!==X)){if(Z=Bu,W="onMouseLeave",R="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Lu,W="onPointerLeave",R="onPointerEnter",_="pointer"),Ke=Q==null?$:vn(Q),A=X==null?$:vn(X),$=new Z(W,_+"leave",Q,i,U),$.target=Ke,$.relatedTarget=A,W=null,Ur(U)===I&&(Z=new Z(R,_+"enter",X,i,U),Z.target=A,Z.relatedTarget=Ke,W=Z),Ke=W,Q&&X)t:{for(Z=Q,R=X,_=0,A=Z;A;A=gn(A))_++;for(A=0,W=R;W;W=gn(W))A++;for(;0<_-A;)Z=gn(Z),_--;for(;0<A-_;)R=gn(R),A--;for(;_--;){if(Z===R||R!==null&&Z===R.alternate)break t;Z=gn(Z),R=gn(R)}Z=null}else Z=null;Q!==null&&cc(z,$,Q,Z,!1),X!==null&&Ke!==null&&cc(z,Ke,X,Z,!0)}}e:{if($=I?vn(I):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var re=jp;else if(Wu($))if(Vu)re=Tp;else{re=Np;var ue=Ep}else(Q=$.nodeName)&&Q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(re=Cp);if(re&&(re=re(e,I))){Ku(z,re,i,U);break e}ue&&ue(e,$,I),e==="focusout"&&(ue=$._wrapperState)&&ue.controlled&&$.type==="number"&&tt($,"number",$.value)}switch(ue=I?vn(I):window,e){case"focusin":(Wu(ue)||ue.contentEditable==="true")&&(pn=ue,Ja=I,ps=null);break;case"focusout":ps=Ja=pn=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Zu(z,i,U);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":Zu(z,i,U)}var ce;if(Va)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else fn?zu(e,i)&&(ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ge="onCompositionStart");ge&&($u&&i.locale!=="ko"&&(fn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&fn&&(ce=Au()):(vr=U,Da="value"in vr?vr.value:vr.textContent,fn=!0)),ue=vi(I,ge),0<ue.length&&(ge=new Mu(ge,e,null,i,U),z.push({event:ge,listeners:ue}),ce?ge.data=ce:(ce=Fu(i),ce!==null&&(ge.data=ce)))),(ce=wp?bp(e,i):kp(e,i))&&(I=vi(I,"onBeforeInput"),0<I.length&&(U=new Mu("onBeforeInput","beforeinput",null,i,U),z.push({event:U,listeners:I}),U.data=ce))}lc(z,t)})}function ys(e,t,i){return{instance:e,listener:t,currentTarget:i}}function vi(e,t){for(var i=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Xn(e,i),f!=null&&o.unshift(ys(e,f,d)),f=Xn(e,t),f!=null&&o.push(ys(e,f,d))),e=e.return}return o}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cc(e,t,i,o,d){for(var f=t._reactName,g=[];i!==null&&i!==o;){var x=i,k=x.alternate,I=x.stateNode;if(k!==null&&k===o)break;x.tag===5&&I!==null&&(x=I,d?(k=Xn(i,f),k!=null&&g.unshift(ys(i,k,x))):d||(k=Xn(i,f),k!=null&&g.push(ys(i,k,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Mp=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function dc(e){return(typeof e=="string"?e:""+e).replace(Mp,`
`).replace(Lp,"")}function xi(e,t,i){if(t=dc(t),dc(e)!==t&&i)throw Error(n(425))}function wi(){}var ro=null,no=null;function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var io=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,Dp=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(Up)}:io;function Up(e){setTimeout(function(){throw e})}function ao(e,t){var i=t,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){e.removeChild(d),os(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);os(t)}function wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var yn=Math.random().toString(36).slice(2),er="__reactFiber$"+yn,vs="__reactProps$"+yn,sr="__reactContainer$"+yn,oo="__reactEvents$"+yn,zp="__reactListeners$"+yn,Fp="__reactHandles$"+yn;function Ur(e){var t=e[er];if(t)return t;for(var i=e.parentNode;i;){if(t=i[sr]||i[er]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=fc(e);e!==null;){if(i=e[er])return i;e=fc(e)}return t}e=i,i=e.parentNode}return null}function xs(e){return e=e[er]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function bi(e){return e[vs]||null}var lo=[],xn=-1;function br(e){return{current:e}}function Ie(e){0>xn||(e.current=lo[xn],lo[xn]=null,xn--)}function Pe(e,t){xn++,lo[xn]=e.current,e.current=t}var kr={},ct=br(kr),wt=br(!1),zr=kr;function wn(e,t){var i=e.type.contextTypes;if(!i)return kr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function bt(e){return e=e.childContextTypes,e!=null}function ki(){Ie(wt),Ie(ct)}function pc(e,t,i){if(ct.current!==kr)throw Error(n(168));Pe(ct,t),Pe(wt,i)}function mc(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(n(108,L(e)||"Unknown",d));return H({},i,o)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,zr=ct.current,Pe(ct,e),Pe(wt,wt.current),!0}function gc(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=mc(e,t,zr),o.__reactInternalMemoizedMergedChildContext=e,Ie(wt),Ie(ct),Pe(ct,e)):Ie(wt),Pe(wt,i)}var ir=null,Si=!1,uo=!1;function yc(e){ir===null?ir=[e]:ir.push(e)}function Wp(e){Si=!0,yc(e)}function _r(){if(!uo&&ir!==null){uo=!0;var e=0,t=Te;try{var i=ir;for(Te=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}ir=null,Si=!1}catch(d){throw ir!==null&&(ir=ir.slice(e+1)),xu(Ra,_r),d}finally{Te=t,uo=!1}}return null}var bn=[],kn=0,ji=null,Ei=0,It=[],Bt=0,Fr=null,ar=1,or="";function Wr(e,t){bn[kn++]=Ei,bn[kn++]=ji,ji=e,Ei=t}function vc(e,t,i){It[Bt++]=ar,It[Bt++]=or,It[Bt++]=Fr,Fr=e;var o=ar;e=or;var d=32-Ft(o)-1;o&=~(1<<d),i+=1;var f=32-Ft(t)+d;if(30<f){var g=d-d%5;f=(o&(1<<g)-1).toString(32),o>>=g,d-=g,ar=1<<32-Ft(t)+d|i<<d|o,or=f+e}else ar=1<<f|i<<d|o,or=e}function co(e){e.return!==null&&(Wr(e,1),vc(e,1,0))}function ho(e){for(;e===ji;)ji=bn[--kn],bn[kn]=null,Ei=bn[--kn],bn[kn]=null;for(;e===Fr;)Fr=It[--Bt],It[Bt]=null,or=It[--Bt],It[Bt]=null,ar=It[--Bt],It[Bt]=null}var Ct=null,Tt=null,Me=!1,Kt=null;function xc(e,t){var i=Dt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function wc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,Tt=wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Fr!==null?{id:ar,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Dt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Ct=e,Tt=null,!0):!1;default:return!1}}function fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function po(e){if(Me){var t=Tt;if(t){var i=t;if(!wc(e,t)){if(fo(e))throw Error(n(418));t=wr(i.nextSibling);var o=Ct;t&&wc(e,t)?xc(o,i):(e.flags=e.flags&-4097|2,Me=!1,Ct=e)}}else{if(fo(e))throw Error(n(418));e.flags=e.flags&-4097|2,Me=!1,Ct=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Ni(e){if(e!==Ct)return!1;if(!Me)return bc(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!so(e.type,e.memoizedProps)),t&&(t=Tt)){if(fo(e))throw kc(),Error(n(418));for(;t;)xc(e,t),t=wr(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Tt=wr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Ct?wr(e.stateNode.nextSibling):null;return!0}function kc(){for(var e=Tt;e;)e=wr(e.nextSibling)}function _n(){Tt=Ct=null,Me=!1}function mo(e){Kt===null?Kt=[e]:Kt.push(e)}var Kp=D.ReactCurrentBatchConfig;function ws(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var d=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=d.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function Sc(e){function t(R,_){if(e){var A=R.deletions;A===null?(R.deletions=[_],R.flags|=16):A.push(_)}}function i(R,_){if(!e)return null;for(;_!==null;)t(R,_),_=_.sibling;return null}function o(R,_){for(R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function d(R,_){return R=Rr(R,_),R.index=0,R.sibling=null,R}function f(R,_,A){return R.index=A,e?(A=R.alternate,A!==null?(A=A.index,A<_?(R.flags|=2,_):A):(R.flags|=2,_)):(R.flags|=1048576,_)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function x(R,_,A,W){return _===null||_.tag!==6?(_=al(A,R.mode,W),_.return=R,_):(_=d(_,A),_.return=R,_)}function k(R,_,A,W){var re=A.type;return re===oe?U(R,_,A.props.children,W,A.key):_!==null&&(_.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&_c(re)===_.type)?(W=d(_,A.props),W.ref=ws(R,_,A),W.return=R,W):(W=Xi(A.type,A.key,A.props,null,R.mode,W),W.ref=ws(R,_,A),W.return=R,W)}function I(R,_,A,W){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=ol(A,R.mode,W),_.return=R,_):(_=d(_,A.children||[]),_.return=R,_)}function U(R,_,A,W,re){return _===null||_.tag!==7?(_=Yr(A,R.mode,W,re),_.return=R,_):(_=d(_,A),_.return=R,_)}function z(R,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=al(""+_,R.mode,A),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case F:return A=Xi(_.type,_.key,_.props,null,R.mode,A),A.ref=ws(R,null,_),A.return=R,A;case G:return _=ol(_,R.mode,A),_.return=R,_;case Se:var W=_._init;return z(R,W(_._payload),A)}if(Oe(_)||ae(_))return _=Yr(_,R.mode,A,null),_.return=R,_;Ci(R,_)}return null}function $(R,_,A,W){var re=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return re!==null?null:x(R,_,""+A,W);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return A.key===re?k(R,_,A,W):null;case G:return A.key===re?I(R,_,A,W):null;case Se:return re=A._init,$(R,_,re(A._payload),W)}if(Oe(A)||ae(A))return re!==null?null:U(R,_,A,W,null);Ci(R,A)}return null}function Q(R,_,A,W,re){if(typeof W=="string"&&W!==""||typeof W=="number")return R=R.get(A)||null,x(_,R,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return R=R.get(W.key===null?A:W.key)||null,k(_,R,W,re);case G:return R=R.get(W.key===null?A:W.key)||null,I(_,R,W,re);case Se:var ue=W._init;return Q(R,_,A,ue(W._payload),re)}if(Oe(W)||ae(W))return R=R.get(A)||null,U(_,R,W,re,null);Ci(_,W)}return null}function X(R,_,A,W){for(var re=null,ue=null,ce=_,ge=_=0,st=null;ce!==null&&ge<A.length;ge++){ce.index>ge?(st=ce,ce=null):st=ce.sibling;var Ne=$(R,ce,A[ge],W);if(Ne===null){ce===null&&(ce=st);break}e&&ce&&Ne.alternate===null&&t(R,ce),_=f(Ne,_,ge),ue===null?re=Ne:ue.sibling=Ne,ue=Ne,ce=st}if(ge===A.length)return i(R,ce),Me&&Wr(R,ge),re;if(ce===null){for(;ge<A.length;ge++)ce=z(R,A[ge],W),ce!==null&&(_=f(ce,_,ge),ue===null?re=ce:ue.sibling=ce,ue=ce);return Me&&Wr(R,ge),re}for(ce=o(R,ce);ge<A.length;ge++)st=Q(ce,R,ge,A[ge],W),st!==null&&(e&&st.alternate!==null&&ce.delete(st.key===null?ge:st.key),_=f(st,_,ge),ue===null?re=st:ue.sibling=st,ue=st);return e&&ce.forEach(function(Or){return t(R,Or)}),Me&&Wr(R,ge),re}function Z(R,_,A,W){var re=ae(A);if(typeof re!="function")throw Error(n(150));if(A=re.call(A),A==null)throw Error(n(151));for(var ue=re=null,ce=_,ge=_=0,st=null,Ne=A.next();ce!==null&&!Ne.done;ge++,Ne=A.next()){ce.index>ge?(st=ce,ce=null):st=ce.sibling;var Or=$(R,ce,Ne.value,W);if(Or===null){ce===null&&(ce=st);break}e&&ce&&Or.alternate===null&&t(R,ce),_=f(Or,_,ge),ue===null?re=Or:ue.sibling=Or,ue=Or,ce=st}if(Ne.done)return i(R,ce),Me&&Wr(R,ge),re;if(ce===null){for(;!Ne.done;ge++,Ne=A.next())Ne=z(R,Ne.value,W),Ne!==null&&(_=f(Ne,_,ge),ue===null?re=Ne:ue.sibling=Ne,ue=Ne);return Me&&Wr(R,ge),re}for(ce=o(R,ce);!Ne.done;ge++,Ne=A.next())Ne=Q(ce,R,ge,Ne.value,W),Ne!==null&&(e&&Ne.alternate!==null&&ce.delete(Ne.key===null?ge:Ne.key),_=f(Ne,_,ge),ue===null?re=Ne:ue.sibling=Ne,ue=Ne);return e&&ce.forEach(function(_m){return t(R,_m)}),Me&&Wr(R,ge),re}function Ke(R,_,A,W){if(typeof A=="object"&&A!==null&&A.type===oe&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case F:e:{for(var re=A.key,ue=_;ue!==null;){if(ue.key===re){if(re=A.type,re===oe){if(ue.tag===7){i(R,ue.sibling),_=d(ue,A.props.children),_.return=R,R=_;break e}}else if(ue.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&_c(re)===ue.type){i(R,ue.sibling),_=d(ue,A.props),_.ref=ws(R,ue,A),_.return=R,R=_;break e}i(R,ue);break}else t(R,ue);ue=ue.sibling}A.type===oe?(_=Yr(A.props.children,R.mode,W,A.key),_.return=R,R=_):(W=Xi(A.type,A.key,A.props,null,R.mode,W),W.ref=ws(R,_,A),W.return=R,R=W)}return g(R);case G:e:{for(ue=A.key;_!==null;){if(_.key===ue)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){i(R,_.sibling),_=d(_,A.children||[]),_.return=R,R=_;break e}else{i(R,_);break}else t(R,_);_=_.sibling}_=ol(A,R.mode,W),_.return=R,R=_}return g(R);case Se:return ue=A._init,Ke(R,_,ue(A._payload),W)}if(Oe(A))return X(R,_,A,W);if(ae(A))return Z(R,_,A,W);Ci(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(i(R,_.sibling),_=d(_,A),_.return=R,R=_):(i(R,_),_=al(A,R.mode,W),_.return=R,R=_),g(R)):i(R,_)}return Ke}var Sn=Sc(!0),jc=Sc(!1),Ti=br(null),Pi=null,jn=null,go=null;function yo(){go=jn=Pi=null}function vo(e){var t=Ti.current;Ie(Ti),e._currentValue=t}function xo(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function En(e,t){Pi=e,go=jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(kt=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(go!==e)if(e={context:e,memoizedValue:t,next:null},jn===null){if(Pi===null)throw Error(n(308));jn=e,Pi.dependencies={lanes:0,firstContext:e}}else jn=jn.next=e;return t}var Kr=null;function wo(e){Kr===null?Kr=[e]:Kr.push(e)}function Ec(e,t,i,o){var d=t.interleaved;return d===null?(i.next=i,wo(t)):(i.next=d.next,d.next=i),t.interleaved=i,lr(e,o)}function lr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Sr=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ee&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,lr(e,i)}return d=o.interleaved,d===null?(t.next=t,wo(o)):(t.next=d.next,d.next=t),o.interleaved=t,lr(e,i)}function Ri(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Ia(e,i)}}function Cc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Oi(e,t,i,o){var d=e.updateQueue;Sr=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var k=x,I=k.next;k.next=null,g===null?f=I:g.next=I,g=k;var U=e.alternate;U!==null&&(U=U.updateQueue,x=U.lastBaseUpdate,x!==g&&(x===null?U.firstBaseUpdate=I:x.next=I,U.lastBaseUpdate=k))}if(f!==null){var z=d.baseState;g=0,U=I=k=null,x=f;do{var $=x.lane,Q=x.eventTime;if((o&$)===$){U!==null&&(U=U.next={eventTime:Q,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var X=e,Z=x;switch($=t,Q=i,Z.tag){case 1:if(X=Z.payload,typeof X=="function"){z=X.call(Q,z,$);break e}z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Z.payload,$=typeof X=="function"?X.call(Q,z,$):X,$==null)break e;z=H({},z,$);break e;case 2:Sr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,$=d.effects,$===null?d.effects=[x]:$.push(x))}else Q={eventTime:Q,lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},U===null?(I=U=Q,k=z):U=U.next=Q,g|=$;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;$=x,x=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(U===null&&(k=z),d.baseState=k,d.firstBaseUpdate=I,d.lastBaseUpdate=U,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Hr|=g,e.lanes=g,e.memoizedState=z}}function Tc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(n(191,d));d.call(o)}}}var bs={},tr=br(bs),ks=br(bs),_s=br(bs);function Vr(e){if(e===bs)throw Error(n(174));return e}function ko(e,t){switch(Pe(_s,t),Pe(ks,e),Pe(tr,bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ka(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ka(t,e)}Ie(tr),Pe(tr,t)}function Nn(){Ie(tr),Ie(ks),Ie(_s)}function Pc(e){Vr(_s.current);var t=Vr(tr.current),i=ka(t,e.type);t!==i&&(Pe(ks,e),Pe(tr,i))}function _o(e){ks.current===e&&(Ie(tr),Ie(ks))}var Le=br(0);function Ai(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=[];function jo(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var Ii=D.ReactCurrentDispatcher,Eo=D.ReactCurrentBatchConfig,qr=0,$e=null,Xe=null,rt=null,Bi=!1,Ss=!1,js=0,Vp=0;function dt(){throw Error(n(321))}function No(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Wt(e[i],t[i]))return!1;return!0}function Co(e,t,i,o,d,f){if(qr=f,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?Jp:Qp,e=i(o,d),Ss){f=0;do{if(Ss=!1,js=0,25<=f)throw Error(n(301));f+=1,rt=Xe=null,t.updateQueue=null,Ii.current=Yp,e=i(o,d)}while(Ss)}if(Ii.current=$i,t=Xe!==null&&Xe.next!==null,qr=0,rt=Xe=$e=null,Bi=!1,t)throw Error(n(300));return e}function To(){var e=js!==0;return js=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?$e.memoizedState=rt=e:rt=rt.next=e,rt}function Lt(){if(Xe===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=rt===null?$e.memoizedState:rt.next;if(t!==null)rt=t,Xe=e;else{if(e===null)throw Error(n(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?$e.memoizedState=rt=e:rt=rt.next=e}return rt}function Es(e,t){return typeof t=="function"?t(e):t}function Po(e){var t=Lt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=Xe,d=o.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}o.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,o=o.baseState;var x=g=null,k=null,I=f;do{var U=I.lane;if((qr&U)===U)k!==null&&(k=k.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),o=I.hasEagerState?I.eagerState:e(o,I.action);else{var z={lane:U,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};k===null?(x=k=z,g=o):k=k.next=z,$e.lanes|=U,Hr|=U}I=I.next}while(I!==null&&I!==f);k===null?g=o:k.next=x,Wt(o,t.memoizedState)||(kt=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=k,i.lastRenderedState=o}if(e=i.interleaved,e!==null){d=e;do f=d.lane,$e.lanes|=f,Hr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ro(e){var t=Lt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);Wt(f,t.memoizedState)||(kt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function Rc(){}function Oc(e,t){var i=$e,o=Lt(),d=t(),f=!Wt(o.memoizedState,d);if(f&&(o.memoizedState=d,kt=!0),o=o.queue,Oo(Bc.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||rt!==null&&rt.memoizedState.tag&1){if(i.flags|=2048,Ns(9,Ic.bind(null,i,o,d,t),void 0,null),nt===null)throw Error(n(349));(qr&30)!==0||Ac(i,t,d)}return d}function Ac(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ic(e,t,i,o){t.value=i,t.getSnapshot=o,Mc(t)&&Lc(e)}function Bc(e,t,i){return i(function(){Mc(t)&&Lc(e)})}function Mc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Wt(e,i)}catch{return!0}}function Lc(e){var t=lr(e,1);t!==null&&Gt(t,e,1,-1)}function $c(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=Gp.bind(null,$e,e),[t.memoizedState,e]}function Ns(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Dc(){return Lt().memoizedState}function Mi(e,t,i,o){var d=rr();$e.flags|=e,d.memoizedState=Ns(1|t,i,void 0,o===void 0?null:o)}function Li(e,t,i,o){var d=Lt();o=o===void 0?null:o;var f=void 0;if(Xe!==null){var g=Xe.memoizedState;if(f=g.destroy,o!==null&&No(o,g.deps)){d.memoizedState=Ns(t,i,f,o);return}}$e.flags|=e,d.memoizedState=Ns(1|t,i,f,o)}function Uc(e,t){return Mi(8390656,8,e,t)}function Oo(e,t){return Li(2048,8,e,t)}function zc(e,t){return Li(4,2,e,t)}function Fc(e,t){return Li(4,4,e,t)}function Wc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kc(e,t,i){return i=i!=null?i.concat([e]):null,Li(4,4,Wc.bind(null,t,e),i)}function Ao(){}function Vc(e,t){var i=Lt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&No(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function qc(e,t){var i=Lt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&No(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Hc(e,t,i){return(qr&21)===0?(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=i):(Wt(i,t)||(i=_u(),$e.lanes|=i,Hr|=i,e.baseState=!0),t)}function qp(e,t){var i=Te;Te=i!==0&&4>i?i:4,e(!0);var o=Eo.transition;Eo.transition={};try{e(!1),t()}finally{Te=i,Eo.transition=o}}function Gc(){return Lt().memoizedState}function Hp(e,t,i){var o=Tr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Jc(e))Qc(t,i);else if(i=Ec(e,t,i,o),i!==null){var d=vt();Gt(i,e,o,d),Yc(i,t,o)}}function Gp(e,t,i){var o=Tr(e),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jc(e))Qc(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(d.hasEagerState=!0,d.eagerState=x,Wt(x,g)){var k=t.interleaved;k===null?(d.next=d,wo(t)):(d.next=k.next,k.next=d),t.interleaved=d;return}}catch{}finally{}i=Ec(e,t,d,o),i!==null&&(d=vt(),Gt(i,e,o,d),Yc(i,t,o))}}function Jc(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Qc(e,t){Ss=Bi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Yc(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Ia(e,i)}}var $i={readContext:Mt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Jp={readContext:Mt,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:Uc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Mi(4194308,4,Wc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var i=rr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=rr();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Hp.bind(null,$e,e),[o.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:Ao,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=qp.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=$e,d=rr();if(Me){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),nt===null)throw Error(n(349));(qr&30)!==0||Ac(o,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,Uc(Bc.bind(null,o,f,e),[e]),o.flags|=2048,Ns(9,Ic.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=rr(),t=nt.identifierPrefix;if(Me){var i=or,o=ar;i=(o&~(1<<32-Ft(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=js++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Vp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qp={readContext:Mt,useCallback:Vc,useContext:Mt,useEffect:Oo,useImperativeHandle:Kc,useInsertionEffect:zc,useLayoutEffect:Fc,useMemo:qc,useReducer:Po,useRef:Dc,useState:function(){return Po(Es)},useDebugValue:Ao,useDeferredValue:function(e){var t=Lt();return Hc(t,Xe.memoizedState,e)},useTransition:function(){var e=Po(Es)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Rc,useSyncExternalStore:Oc,useId:Gc,unstable_isNewReconciler:!1},Yp={readContext:Mt,useCallback:Vc,useContext:Mt,useEffect:Oo,useImperativeHandle:Kc,useInsertionEffect:zc,useLayoutEffect:Fc,useMemo:qc,useReducer:Ro,useRef:Dc,useState:function(){return Ro(Es)},useDebugValue:Ao,useDeferredValue:function(e){var t=Lt();return Xe===null?t.memoizedState=e:Hc(t,Xe.memoizedState,e)},useTransition:function(){var e=Ro(Es)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Rc,useSyncExternalStore:Oc,useId:Gc,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Io(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:H({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Di={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=vt(),d=Tr(e),f=ur(o,d);f.payload=t,i!=null&&(f.callback=i),t=jr(e,f,d),t!==null&&(Gt(t,e,d,o),Ri(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=vt(),d=Tr(e),f=ur(o,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=jr(e,f,d),t!==null&&(Gt(t,e,d,o),Ri(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=vt(),o=Tr(e),d=ur(i,o);d.tag=2,t!=null&&(d.callback=t),t=jr(e,d,o),t!==null&&(Gt(t,e,o,i),Ri(t,e,o))}};function Xc(e,t,i,o,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!fs(i,o)||!fs(d,f):!0}function Zc(e,t,i){var o=!1,d=kr,f=t.contextType;return typeof f=="object"&&f!==null?f=Mt(f):(d=bt(t)?zr:ct.current,o=t.contextTypes,f=(o=o!=null)?wn(e,d):kr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function ed(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Bo(e,t,i,o){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},bo(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Mt(f):(f=bt(t)?zr:ct.current,d.context=wn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Io(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Di.enqueueReplaceState(d,d.state,null),Oi(e,i,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Cn(e,t){try{var i="",o=t;do i+=le(o),o=o.return;while(o);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Mo(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Xp=typeof WeakMap=="function"?WeakMap:Map;function td(e,t,i){i=ur(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){qi||(qi=!0,Xo=o),Lo(e,t)},i}function rd(e,t,i){i=ur(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;i.payload=function(){return o(d)},i.callback=function(){Lo(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Lo(e,t),typeof o!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function nd(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Xp;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(i)||(d.add(i),e=hm.bind(null,e,t,i),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,i,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=ur(-1,1),t.tag=2,jr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Zp=D.ReactCurrentOwner,kt=!1;function yt(e,t,i,o){t.child=e===null?jc(t,null,i,o):Sn(t,e.child,i,o)}function ad(e,t,i,o,d){i=i.render;var f=t.ref;return En(t,d),o=Co(e,t,i,o,f,d),i=To(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,cr(e,t,d)):(Me&&i&&co(t),t.flags|=1,yt(e,t,o,d),t.child)}function od(e,t,i,o,d){if(e===null){var f=i.type;return typeof f=="function"&&!il(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,ld(e,t,f,o,d)):(e=Xi(i.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:fs,i(g,o)&&e.ref===t.ref)return cr(e,t,d)}return t.flags|=1,e=Rr(f,o),e.ref=t.ref,e.return=t,t.child=e}function ld(e,t,i,o,d){if(e!==null){var f=e.memoizedProps;if(fs(f,o)&&e.ref===t.ref)if(kt=!1,t.pendingProps=o=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(kt=!0);else return t.lanes=e.lanes,cr(e,t,d)}return $o(e,t,i,o,d)}function ud(e,t,i){var o=t.pendingProps,d=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Pn,Pt),Pt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Pn,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,Pe(Pn,Pt),Pt|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,Pe(Pn,Pt),Pt|=o;return yt(e,t,d,i),t.child}function cd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,i,o,d){var f=bt(i)?zr:ct.current;return f=wn(t,f),En(t,d),i=Co(e,t,i,o,f,d),o=To(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,cr(e,t,d)):(Me&&o&&co(t),t.flags|=1,yt(e,t,i,d),t.child)}function dd(e,t,i,o,d){if(bt(i)){var f=!0;_i(t)}else f=!1;if(En(t,d),t.stateNode===null)zi(e,t),Zc(t,i,o),Bo(t,i,o,d),o=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var k=g.context,I=i.contextType;typeof I=="object"&&I!==null?I=Mt(I):(I=bt(i)?zr:ct.current,I=wn(t,I));var U=i.getDerivedStateFromProps,z=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function";z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==o||k!==I)&&ed(t,g,o,I),Sr=!1;var $=t.memoizedState;g.state=$,Oi(t,o,g,d),k=t.memoizedState,x!==o||$!==k||wt.current||Sr?(typeof U=="function"&&(Io(t,i,U,o),k=t.memoizedState),(x=Sr||Xc(t,i,x,o,$,k,I))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=k),g.props=o,g.state=k,g.context=I,o=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,Nc(e,t),x=t.memoizedProps,I=t.type===t.elementType?x:Vt(t.type,x),g.props=I,z=t.pendingProps,$=g.context,k=i.contextType,typeof k=="object"&&k!==null?k=Mt(k):(k=bt(i)?zr:ct.current,k=wn(t,k));var Q=i.getDerivedStateFromProps;(U=typeof Q=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==z||$!==k)&&ed(t,g,o,k),Sr=!1,$=t.memoizedState,g.state=$,Oi(t,o,g,d);var X=t.memoizedState;x!==z||$!==X||wt.current||Sr?(typeof Q=="function"&&(Io(t,i,Q,o),X=t.memoizedState),(I=Sr||Xc(t,i,I,o,$,X,k)||!1)?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,X,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,X,k)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=X),g.props=o,g.state=X,g.context=k,o=I):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),o=!1)}return Do(e,t,i,o,f,d)}function Do(e,t,i,o,d,f){cd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return d&&gc(t,i,!1),cr(e,t,f);o=t.stateNode,Zp.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=Sn(t,e.child,null,f),t.child=Sn(t,null,x,f)):yt(e,t,x,f),t.memoizedState=o.state,d&&gc(t,i,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pc(e,t.context,!1),ko(e,t.containerInfo)}function fd(e,t,i,o,d){return _n(),mo(d),t.flags|=256,yt(e,t,i,o),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,i){var o=t.pendingProps,d=Le.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Pe(Le,d&1),e===null)return po(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Zi(g,o,0,null),e=Yr(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=zo(i),t.memoizedState=Uo,e):Fo(t,g));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return em(e,t,g,o,x,d,i);if(f){f=o.fallback,g=t.mode,d=e.child,x=d.sibling;var k={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=k,t.deletions=null):(o=Rr(d,k),o.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=Rr(x,f):(f=Yr(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?zo(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Uo,o}return f=e.child,e=f.sibling,o=Rr(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Fo(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,i,o){return o!==null&&mo(o),Sn(t,e.child,null,i),e=Fo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function em(e,t,i,o,d,f,g){if(i)return t.flags&256?(t.flags&=-257,o=Mo(Error(n(422))),Ui(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,d=t.mode,o=Zi({mode:"visible",children:o.children},d,0,null),f=Yr(f,d,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&Sn(t,e.child,null,g),t.child.memoizedState=zo(g),t.memoizedState=Uo,f);if((t.mode&1)===0)return Ui(e,t,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var x=o.dgst;return o=x,f=Error(n(419)),o=Mo(f,o,void 0),Ui(e,t,g,o)}if(x=(g&e.childLanes)!==0,kt||x){if(o=nt,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,lr(e,d),Gt(o,e,d,-1))}return sl(),o=Mo(Error(n(421))),Ui(e,t,g,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=fm.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Tt=wr(d.nextSibling),Ct=t,Me=!0,Kt=null,e!==null&&(It[Bt++]=ar,It[Bt++]=or,It[Bt++]=Fr,ar=e.id,or=e.overflow,Fr=t),t=Fo(t,o.children),t.flags|=4096,t)}function md(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),xo(e.return,t,i)}function Wo(e,t,i,o,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=d)}function gd(e,t,i){var o=t.pendingProps,d=o.revealOrder,f=o.tail;if(yt(e,t,o.children,i),o=Le.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,i,t);else if(e.tag===19)md(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Pe(Le,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&Ai(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Wo(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ai(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Wo(t,!0,i,null,f);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Rr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Rr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function tm(e,t,i){switch(t.tag){case 3:hd(t),_n();break;case 5:Pc(t);break;case 1:bt(t.type)&&_i(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;Pe(Ti,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Pe(Le,Le.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?pd(e,t,i):(Pe(Le,Le.current&1),e=cr(e,t,i),e!==null?e.sibling:null);Pe(Le,Le.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return gd(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Pe(Le,Le.current),o)break;return null;case 22:case 23:return t.lanes=0,ud(e,t,i)}return cr(e,t,i)}var yd,Ko,vd,xd;yd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ko=function(){},vd=function(e,t,i,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Vr(tr.current);var f=null;switch(i){case"input":d=K(e,d),o=K(e,o),f=[];break;case"select":d=H({},d,{value:void 0}),o=H({},o,{value:void 0}),f=[];break;case"textarea":d=gt(e,d),o=gt(e,o),f=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=wi)}_a(i,o);var g;i=null;for(I in d)if(!o.hasOwnProperty(I)&&d.hasOwnProperty(I)&&d[I]!=null)if(I==="style"){var x=d[I];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in o){var k=o[I];if(x=d!=null?d[I]:void 0,o.hasOwnProperty(I)&&k!==x&&(k!=null||x!=null))if(I==="style")if(x){for(g in x)!x.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in k)k.hasOwnProperty(g)&&x[g]!==k[g]&&(i||(i={}),i[g]=k[g])}else i||(f||(f=[]),f.push(I,i)),i=k;else I==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,x=x?x.__html:void 0,k!=null&&x!==k&&(f=f||[]).push(I,k)):I==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(I,""+k):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(k!=null&&I==="onScroll"&&Ae("scroll",e),f||x===k||(f=[])):(f=f||[]).push(I,k))}i&&(f=f||[]).push("style",i);var I=f;(t.updateQueue=I)&&(t.flags|=4)}},xd=function(e,t,i,o){i!==o&&(t.flags|=4)};function Cs(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function rm(e,t,i){var o=t.pendingProps;switch(ho(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return bt(t.type)&&ki(),ht(t),null;case 3:return o=t.stateNode,Nn(),Ie(wt),Ie(ct),jo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ni(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kt!==null&&(tl(Kt),Kt=null))),Ko(e,t),ht(t),null;case 5:_o(t);var d=Vr(_s.current);if(i=t.type,e!==null&&t.stateNode!=null)vd(e,t,i,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return ht(t),null}if(e=Vr(tr.current),Ni(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[er]=t,o[vs]=f,e=(t.mode&1)!==0,i){case"dialog":Ae("cancel",o),Ae("close",o);break;case"iframe":case"object":case"embed":Ae("load",o);break;case"video":case"audio":for(d=0;d<ms.length;d++)Ae(ms[d],o);break;case"source":Ae("error",o);break;case"img":case"image":case"link":Ae("error",o),Ae("load",o);break;case"details":Ae("toggle",o);break;case"input":se(o,f),Ae("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Ae("invalid",o);break;case"textarea":$r(o,f),Ae("invalid",o)}_a(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?o.textContent!==x&&(f.suppressHydrationWarning!==!0&&xi(o.textContent,x,e),d=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&xi(o.textContent,x,e),d=["children",""+x]):l.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Ae("scroll",o)}switch(i){case"input":qe(o),Fe(o,f,!0);break;case"textarea":qe(o),Ys(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=wi)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[er]=t,e[vs]=o,yd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Sa(i,o),i){case"dialog":Ae("cancel",e),Ae("close",e),d=o;break;case"iframe":case"object":case"embed":Ae("load",e),d=o;break;case"video":case"audio":for(d=0;d<ms.length;d++)Ae(ms[d],e);d=o;break;case"source":Ae("error",e),d=o;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),d=o;break;case"details":Ae("toggle",e),d=o;break;case"input":se(e,o),d=K(e,o),Ae("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=H({},o,{value:void 0}),Ae("invalid",e);break;case"textarea":$r(e,o),d=gt(e,o),Ae("invalid",e);break;default:d=o}_a(i,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var k=x[f];f==="style"?lu(e,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&au(e,k)):f==="children"?typeof k=="string"?(i!=="textarea"||k!=="")&&Qn(e,k):typeof k=="number"&&Qn(e,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?k!=null&&f==="onScroll"&&Ae("scroll",e):k!=null&&j(e,f,k,g))}switch(i){case"input":qe(e),Fe(e,o,!1);break;case"textarea":qe(e),Ys(e);break;case"option":o.value!=null&&e.setAttribute("value",""+q(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?Ye(e,!!o.multiple,f,!1):o.defaultValue!=null&&Ye(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=wi)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)xd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=Vr(_s.current),Vr(tr.current),Ni(t)){if(o=t.stateNode,i=t.memoizedProps,o[er]=t,(f=o.nodeValue!==i)&&(e=Ct,e!==null))switch(e.tag){case 3:xi(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xi(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[er]=t,t.stateNode=o}return ht(t),null;case 13:if(Ie(Le),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Tt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)kc(),_n(),t.flags|=98560,f=!1;else if(f=Ni(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[er]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),f=!1}else Kt!==null&&(tl(Kt),Kt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Le.current&1)!==0?Ze===0&&(Ze=3):sl())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Nn(),Ko(e,t),e===null&&gs(t.stateNode.containerInfo),ht(t),null;case 10:return vo(t.type._context),ht(t),null;case 17:return bt(t.type)&&ki(),ht(t),null;case 19:if(Ie(Le),f=t.memoizedState,f===null)return ht(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)Cs(f,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ai(e),g!==null){for(t.flags|=128,Cs(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Pe(Le,Le.current&1|2),t.child}e=e.sibling}f.tail!==null&&We()>Rn&&(t.flags|=128,o=!0,Cs(f,!1),t.lanes=4194304)}else{if(!o)if(e=Ai(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Cs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Me)return ht(t),null}else 2*We()-f.renderingStartTime>Rn&&i!==1073741824&&(t.flags|=128,o=!0,Cs(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=We(),t.sibling=null,i=Le.current,Pe(Le,o?i&1|2:i&1),t):(ht(t),null);case 22:case 23:return nl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Pt&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function nm(e,t){switch(ho(t),t.tag){case 1:return bt(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),Ie(wt),Ie(ct),jo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return _o(t),null;case 13:if(Ie(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Le),null;case 4:return Nn(),null;case 10:return vo(t.type._context),null;case 22:case 23:return nl(),null;case 24:return null;default:return null}}var Fi=!1,ft=!1,sm=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Tn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ue(e,t,o)}else i.current=null}function Vo(e,t,i){try{i()}catch(o){Ue(e,t,o)}}var wd=!1;function im(e,t){if(ro=li,e=Xu(),Ga(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,k=-1,I=0,U=0,z=e,$=null;t:for(;;){for(var Q;z!==i||d!==0&&z.nodeType!==3||(x=g+d),z!==f||o!==0&&z.nodeType!==3||(k=g+o),z.nodeType===3&&(g+=z.nodeValue.length),(Q=z.firstChild)!==null;)$=z,z=Q;for(;;){if(z===e)break t;if($===i&&++I===d&&(x=g),$===f&&++U===o&&(k=g),(Q=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=Q}i=x===-1||k===-1?null:{start:x,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(no={focusedElem:e,selectionRange:i},li=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Z=X.memoizedProps,Ke=X.memoizedState,R=t.stateNode,_=R.getSnapshotBeforeUpdate(t.elementType===t.type?Z:Vt(t.type,Z),Ke);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Ue(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return X=wd,wd=!1,X}function Ts(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Vo(t,i,f)}d=d.next}while(d!==o)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function qo(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[vs],delete t[oo],delete t[zp],delete t[Fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kd(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=wi));else if(o!==4&&(e=e.child,e!==null))for(Ho(e,t,i),e=e.sibling;e!==null;)Ho(e,t,i),e=e.sibling}function Go(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Go(e,t,i),e=e.sibling;e!==null;)Go(e,t,i),e=e.sibling}var it=null,qt=!1;function Er(e,t,i){for(i=i.child;i!==null;)Sd(e,t,i),i=i.sibling}function Sd(e,t,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ri,i)}catch{}switch(i.tag){case 5:ft||Tn(i,t);case 6:var o=it,d=qt;it=null,Er(e,t,i),it=o,qt=d,it!==null&&(qt?(e=it,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):it.removeChild(i.stateNode));break;case 18:it!==null&&(qt?(e=it,i=i.stateNode,e.nodeType===8?ao(e.parentNode,i):e.nodeType===1&&ao(e,i),os(e)):ao(it,i.stateNode));break;case 4:o=it,d=qt,it=i.stateNode.containerInfo,qt=!0,Er(e,t,i),it=o,qt=d;break;case 0:case 11:case 14:case 15:if(!ft&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Vo(i,t,g),d=d.next}while(d!==o)}Er(e,t,i);break;case 1:if(!ft&&(Tn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(x){Ue(i,t,x)}Er(e,t,i);break;case 21:Er(e,t,i);break;case 22:i.mode&1?(ft=(o=ft)||i.memoizedState!==null,Er(e,t,i),ft=o):Er(e,t,i);break;default:Er(e,t,i)}}function jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new sm),t.forEach(function(o){var d=pm.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}}function Ht(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:it=x.stateNode,qt=!1;break e;case 3:it=x.stateNode.containerInfo,qt=!0;break e;case 4:it=x.stateNode.containerInfo,qt=!0;break e}x=x.return}if(it===null)throw Error(n(160));Sd(f,g,d),it=null,qt=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(I){Ue(d,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ed(t,e),t=t.sibling}function Ed(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),nr(e),o&4){try{Ts(3,e,e.return),Wi(3,e)}catch(Z){Ue(e,e.return,Z)}try{Ts(5,e,e.return)}catch(Z){Ue(e,e.return,Z)}}break;case 1:Ht(t,e),nr(e),o&512&&i!==null&&Tn(i,i.return);break;case 5:if(Ht(t,e),nr(e),o&512&&i!==null&&Tn(i,i.return),e.flags&32){var d=e.stateNode;try{Qn(d,"")}catch(Z){Ue(e,e.return,Z)}}if(o&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&ve(d,f),Sa(x,g);var I=Sa(x,f);for(g=0;g<k.length;g+=2){var U=k[g],z=k[g+1];U==="style"?lu(d,z):U==="dangerouslySetInnerHTML"?au(d,z):U==="children"?Qn(d,z):j(d,U,z,I)}switch(x){case"input":Qe(d,f);break;case"textarea":zt(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?Ye(d,!!f.multiple,Q,!1):$!==!!f.multiple&&(f.defaultValue!=null?Ye(d,!!f.multiple,f.defaultValue,!0):Ye(d,!!f.multiple,f.multiple?[]:"",!1))}d[vs]=f}catch(Z){Ue(e,e.return,Z)}}break;case 6:if(Ht(t,e),nr(e),o&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Z){Ue(e,e.return,Z)}}break;case 3:if(Ht(t,e),nr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(Z){Ue(e,e.return,Z)}break;case 4:Ht(t,e),nr(e);break;case 13:Ht(t,e),nr(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Yo=We())),o&4&&jd(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(ft=(I=ft)||U,Ht(t,e),ft=I):Ht(t,e),nr(e),o&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!U&&(e.mode&1)!==0)for(Y=e,U=e.child;U!==null;){for(z=Y=U;Y!==null;){switch($=Y,Q=$.child,$.tag){case 0:case 11:case 14:case 15:Ts(4,$,$.return);break;case 1:Tn($,$.return);var X=$.stateNode;if(typeof X.componentWillUnmount=="function"){o=$,i=$.return;try{t=o,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(Z){Ue(o,i,Z)}}break;case 5:Tn($,$.return);break;case 22:if($.memoizedState!==null){Td(z);continue}}Q!==null?(Q.return=$,Y=Q):Td(z)}U=U.sibling}e:for(U=null,z=e;;){if(z.tag===5){if(U===null){U=z;try{d=z.stateNode,I?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=z.stateNode,k=z.memoizedProps.style,g=k!=null&&k.hasOwnProperty("display")?k.display:null,x.style.display=ou("display",g))}catch(Z){Ue(e,e.return,Z)}}}else if(z.tag===6){if(U===null)try{z.stateNode.nodeValue=I?"":z.memoizedProps}catch(Z){Ue(e,e.return,Z)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;U===z&&(U=null),z=z.return}U===z&&(U=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Ht(t,e),nr(e),o&4&&jd(e);break;case 21:break;default:Ht(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(kd(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Qn(d,""),o.flags&=-33);var f=_d(e);Go(e,f,d);break;case 3:case 4:var g=o.stateNode.containerInfo,x=_d(e);Ho(e,x,g);break;default:throw Error(n(161))}}catch(k){Ue(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function am(e,t,i){Y=e,Nd(e)}function Nd(e,t,i){for(var o=(e.mode&1)!==0;Y!==null;){var d=Y,f=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Fi;if(!g){var x=d.alternate,k=x!==null&&x.memoizedState!==null||ft;x=Fi;var I=ft;if(Fi=g,(ft=k)&&!I)for(Y=d;Y!==null;)g=Y,k=g.child,g.tag===22&&g.memoizedState!==null?Pd(d):k!==null?(k.return=g,Y=k):Pd(d);for(;f!==null;)Y=f,Nd(f),f=f.sibling;Y=d,Fi=x,ft=I}Cd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Y=f):Cd(e)}}function Cd(e){for(;Y!==null;){var t=Y;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ft||Wi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ft)if(i===null)o.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Vt(t.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Tc(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Tc(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&i.focus();break;case"img":k.src&&(i.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var U=I.memoizedState;if(U!==null){var z=U.dehydrated;z!==null&&os(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||t.flags&512&&qo(t)}catch($){Ue(t,t.return,$)}}if(t===e){Y=null;break}if(i=t.sibling,i!==null){i.return=t.return,Y=i;break}Y=t.return}}function Td(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Y=i;break}Y=t.return}}function Pd(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Wi(4,t)}catch(k){Ue(t,i,k)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(k){Ue(t,d,k)}}var f=t.return;try{qo(t)}catch(k){Ue(t,f,k)}break;case 5:var g=t.return;try{qo(t)}catch(k){Ue(t,g,k)}}}catch(k){Ue(t,t.return,k)}if(t===e){Y=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Y=x;break}Y=t.return}}var om=Math.ceil,Ki=D.ReactCurrentDispatcher,Jo=D.ReactCurrentOwner,$t=D.ReactCurrentBatchConfig,Ee=0,nt=null,He=null,at=0,Pt=0,Pn=br(0),Ze=0,Ps=null,Hr=0,Vi=0,Qo=0,Rs=null,_t=null,Yo=0,Rn=1/0,dr=null,qi=!1,Xo=null,Nr=null,Hi=!1,Cr=null,Gi=0,Os=0,Zo=null,Ji=-1,Qi=0;function vt(){return(Ee&6)!==0?We():Ji!==-1?Ji:Ji=We()}function Tr(e){return(e.mode&1)===0?1:(Ee&2)!==0&&at!==0?at&-at:Kp.transition!==null?(Qi===0&&(Qi=_u()),Qi):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Ou(e.type)),e)}function Gt(e,t,i,o){if(50<Os)throw Os=0,Zo=null,Error(n(185));rs(e,i,o),((Ee&2)===0||e!==nt)&&(e===nt&&((Ee&2)===0&&(Vi|=i),Ze===4&&Pr(e,at)),St(e,o),i===1&&Ee===0&&(t.mode&1)===0&&(Rn=We()+500,Si&&_r()))}function St(e,t){var i=e.callbackNode;Kf(e,t);var o=ii(e,e===nt?at:0);if(o===0)i!==null&&wu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&wu(i),t===1)e.tag===0?Wp(Od.bind(null,e)):yc(Od.bind(null,e)),Dp(function(){(Ee&6)===0&&_r()}),i=null;else{switch(Su(o)){case 1:i=Ra;break;case 4:i=bu;break;case 16:i=ti;break;case 536870912:i=ku;break;default:i=ti}i=Ud(i,Rd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Rd(e,t){if(Ji=-1,Qi=0,(Ee&6)!==0)throw Error(n(327));var i=e.callbackNode;if(On()&&e.callbackNode!==i)return null;var o=ii(e,e===nt?at:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Yi(e,o);else{t=o;var d=Ee;Ee|=2;var f=Id();(nt!==e||at!==t)&&(dr=null,Rn=We()+500,Jr(e,t));do try{cm();break}catch(x){Ad(e,x)}while(!0);yo(),Ki.current=f,Ee=d,He!==null?t=0:(nt=null,at=0,t=Ze)}if(t!==0){if(t===2&&(d=Oa(e),d!==0&&(o=d,t=el(e,d))),t===1)throw i=Ps,Jr(e,0),Pr(e,o),St(e,We()),i;if(t===6)Pr(e,o);else{if(d=e.current.alternate,(o&30)===0&&!lm(d)&&(t=Yi(e,o),t===2&&(f=Oa(e),f!==0&&(o=f,t=el(e,f))),t===1))throw i=Ps,Jr(e,0),Pr(e,o),St(e,We()),i;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:Qr(e,_t,dr);break;case 3:if(Pr(e,o),(o&130023424)===o&&(t=Yo+500-We(),10<t)){if(ii(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){vt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=io(Qr.bind(null,e,_t,dr),t);break}Qr(e,_t,dr);break;case 4:if(Pr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var g=31-Ft(o);f=1<<g,g=t[g],g>d&&(d=g),o&=~f}if(o=d,o=We()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*om(o/1960))-o,10<o){e.timeoutHandle=io(Qr.bind(null,e,_t,dr),o);break}Qr(e,_t,dr);break;case 5:Qr(e,_t,dr);break;default:throw Error(n(329))}}}return St(e,We()),e.callbackNode===i?Rd.bind(null,e):null}function el(e,t){var i=Rs;return e.current.memoizedState.isDehydrated&&(Jr(e,t).flags|=256),e=Yi(e,t),e!==2&&(t=_t,_t=i,t!==null&&tl(t)),e}function tl(e){_t===null?_t=e:_t.push.apply(_t,e)}function lm(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],f=d.getSnapshot;d=d.value;try{if(!Wt(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~Qo,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ft(t),o=1<<i;e[i]=-1,t&=~o}}function Od(e){if((Ee&6)!==0)throw Error(n(327));On();var t=ii(e,0);if((t&1)===0)return St(e,We()),null;var i=Yi(e,t);if(e.tag!==0&&i===2){var o=Oa(e);o!==0&&(t=o,i=el(e,o))}if(i===1)throw i=Ps,Jr(e,0),Pr(e,t),St(e,We()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,_t,dr),St(e,We()),null}function rl(e,t){var i=Ee;Ee|=1;try{return e(t)}finally{Ee=i,Ee===0&&(Rn=We()+500,Si&&_r())}}function Gr(e){Cr!==null&&Cr.tag===0&&(Ee&6)===0&&On();var t=Ee;Ee|=1;var i=$t.transition,o=Te;try{if($t.transition=null,Te=1,e)return e()}finally{Te=o,$t.transition=i,Ee=t,(Ee&6)===0&&_r()}}function nl(){Pt=Pn.current,Ie(Pn)}function Jr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,$p(i)),He!==null)for(i=He.return;i!==null;){var o=i;switch(ho(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ki();break;case 3:Nn(),Ie(wt),Ie(ct),jo();break;case 5:_o(o);break;case 4:Nn();break;case 13:Ie(Le);break;case 19:Ie(Le);break;case 10:vo(o.type._context);break;case 22:case 23:nl()}i=i.return}if(nt=e,He=e=Rr(e.current,null),at=Pt=t,Ze=0,Ps=null,Qo=Vi=Hr=0,_t=Rs=null,Kr!==null){for(t=0;t<Kr.length;t++)if(i=Kr[t],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,o.next=g}i.pending=o}Kr=null}return e}function Ad(e,t){do{var i=He;try{if(yo(),Ii.current=$i,Bi){for(var o=$e.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Bi=!1}if(qr=0,rt=Xe=$e=null,Ss=!1,js=0,Jo.current=null,i===null||i.return===null){Ze=1,Ps=t,He=null;break}e:{var f=e,g=i.return,x=i,k=t;if(t=at,x.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var I=k,U=x,z=U.tag;if((U.mode&1)===0&&(z===0||z===11||z===15)){var $=U.alternate;$?(U.updateQueue=$.updateQueue,U.memoizedState=$.memoizedState,U.lanes=$.lanes):(U.updateQueue=null,U.memoizedState=null)}var Q=sd(g);if(Q!==null){Q.flags&=-257,id(Q,g,x,f,t),Q.mode&1&&nd(f,I,t),t=Q,k=I;var X=t.updateQueue;if(X===null){var Z=new Set;Z.add(k),t.updateQueue=Z}else X.add(k);break e}else{if((t&1)===0){nd(f,I,t),sl();break e}k=Error(n(426))}}else if(Me&&x.mode&1){var Ke=sd(g);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),id(Ke,g,x,f,t),mo(Cn(k,x));break e}}f=k=Cn(k,x),Ze!==4&&(Ze=2),Rs===null?Rs=[f]:Rs.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var R=td(f,k,t);Cc(f,R);break e;case 1:x=k;var _=f.type,A=f.stateNode;if((f.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Nr===null||!Nr.has(A)))){f.flags|=65536,t&=-t,f.lanes|=t;var W=rd(f,x,t);Cc(f,W);break e}}f=f.return}while(f!==null)}Md(i)}catch(re){t=re,He===i&&i!==null&&(He=i=i.return);continue}break}while(!0)}function Id(){var e=Ki.current;return Ki.current=$i,e===null?$i:e}function sl(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),nt===null||(Hr&268435455)===0&&(Vi&268435455)===0||Pr(nt,at)}function Yi(e,t){var i=Ee;Ee|=2;var o=Id();(nt!==e||at!==t)&&(dr=null,Jr(e,t));do try{um();break}catch(d){Ad(e,d)}while(!0);if(yo(),Ee=i,Ki.current=o,He!==null)throw Error(n(261));return nt=null,at=0,Ze}function um(){for(;He!==null;)Bd(He)}function cm(){for(;He!==null&&!Bf();)Bd(He)}function Bd(e){var t=Dd(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?Md(e):He=t,Jo.current=null}function Md(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=rm(i,t,Pt),i!==null){He=i;return}}else{if(i=nm(i,t),i!==null){i.flags&=32767,He=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ze===0&&(Ze=5)}function Qr(e,t,i){var o=Te,d=$t.transition;try{$t.transition=null,Te=1,dm(e,t,i,o)}finally{$t.transition=d,Te=o}return null}function dm(e,t,i,o){do On();while(Cr!==null);if((Ee&6)!==0)throw Error(n(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Vf(e,f),e===nt&&(He=nt=null,at=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Hi||(Hi=!0,Ud(ti,function(){return On(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=$t.transition,$t.transition=null;var g=Te;Te=1;var x=Ee;Ee|=4,Jo.current=null,im(e,i),Ed(i,e),Rp(no),li=!!ro,no=ro=null,e.current=i,am(i),Mf(),Ee=x,Te=g,$t.transition=f}else e.current=i;if(Hi&&(Hi=!1,Cr=e,Gi=d),f=e.pendingLanes,f===0&&(Nr=null),Df(i.stateNode),St(e,We()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(qi)throw qi=!1,e=Xo,Xo=null,e;return(Gi&1)!==0&&e.tag!==0&&On(),f=e.pendingLanes,(f&1)!==0?e===Zo?Os++:(Os=0,Zo=e):Os=0,_r(),null}function On(){if(Cr!==null){var e=Su(Gi),t=$t.transition,i=Te;try{if($t.transition=null,Te=16>e?16:e,Cr===null)var o=!1;else{if(e=Cr,Cr=null,Gi=0,(Ee&6)!==0)throw Error(n(331));var d=Ee;for(Ee|=4,Y=e.current;Y!==null;){var f=Y,g=f.child;if((Y.flags&16)!==0){var x=f.deletions;if(x!==null){for(var k=0;k<x.length;k++){var I=x[k];for(Y=I;Y!==null;){var U=Y;switch(U.tag){case 0:case 11:case 15:Ts(8,U,f)}var z=U.child;if(z!==null)z.return=U,Y=z;else for(;Y!==null;){U=Y;var $=U.sibling,Q=U.return;if(bd(U),U===I){Y=null;break}if($!==null){$.return=Q,Y=$;break}Y=Q}}}var X=f.alternate;if(X!==null){var Z=X.child;if(Z!==null){X.child=null;do{var Ke=Z.sibling;Z.sibling=null,Z=Ke}while(Z!==null)}}Y=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,Y=g;else e:for(;Y!==null;){if(f=Y,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ts(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,Y=R;break e}Y=f.return}}var _=e.current;for(Y=_;Y!==null;){g=Y;var A=g.child;if((g.subtreeFlags&2064)!==0&&A!==null)A.return=g,Y=A;else e:for(g=_;Y!==null;){if(x=Y,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Wi(9,x)}}catch(re){Ue(x,x.return,re)}if(x===g){Y=null;break e}var W=x.sibling;if(W!==null){W.return=x.return,Y=W;break e}Y=x.return}}if(Ee=d,_r(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ri,e)}catch{}o=!0}return o}finally{Te=i,$t.transition=t}}return!1}function Ld(e,t,i){t=Cn(i,t),t=td(e,t,1),e=jr(e,t,1),t=vt(),e!==null&&(rs(e,1,t),St(e,t))}function Ue(e,t,i){if(e.tag===3)Ld(e,e,i);else for(;t!==null;){if(t.tag===3){Ld(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){e=Cn(i,e),e=rd(t,e,1),t=jr(t,e,1),e=vt(),t!==null&&(rs(t,1,e),St(t,e));break}}t=t.return}}function hm(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&i,nt===e&&(at&i)===i&&(Ze===4||Ze===3&&(at&130023424)===at&&500>We()-Yo?Jr(e,0):Qo|=i),St(e,t)}function $d(e,t){t===0&&((e.mode&1)===0?t=1:(t=si,si<<=1,(si&130023424)===0&&(si=4194304)));var i=vt();e=lr(e,t),e!==null&&(rs(e,t,i),St(e,i))}function fm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),$d(e,i)}function pm(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),$d(e,i)}var Dd;Dd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)kt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return kt=!1,tm(e,t,i);kt=(e.flags&131072)!==0}else kt=!1,Me&&(t.flags&1048576)!==0&&vc(t,Ei,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;zi(e,t),e=t.pendingProps;var d=wn(t,ct.current);En(t,i),d=Co(null,t,o,e,d,i);var f=To();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(o)?(f=!0,_i(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,bo(t),d.updater=Di,t.stateNode=d,d._reactInternals=t,Bo(t,o,e,i),t=Do(null,t,o,!0,f,i)):(t.tag=0,Me&&f&&co(t),yt(null,t,d,i),t=t.child),t;case 16:o=t.elementType;e:{switch(zi(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=gm(o),e=Vt(o,e),d){case 0:t=$o(null,t,o,e,i);break e;case 1:t=dd(null,t,o,e,i);break e;case 11:t=ad(null,t,o,e,i);break e;case 14:t=od(null,t,o,Vt(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Vt(o,d),$o(e,t,o,d,i);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Vt(o,d),dd(e,t,o,d,i);case 3:e:{if(hd(t),e===null)throw Error(n(387));o=t.pendingProps,f=t.memoizedState,d=f.element,Nc(e,t),Oi(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Cn(Error(n(423)),t),t=fd(e,t,o,i,d);break e}else if(o!==d){d=Cn(Error(n(424)),t),t=fd(e,t,o,i,d);break e}else for(Tt=wr(t.stateNode.containerInfo.firstChild),Ct=t,Me=!0,Kt=null,i=jc(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(_n(),o===d){t=cr(e,t,i);break e}yt(e,t,o,i)}t=t.child}return t;case 5:return Pc(t),e===null&&po(t),o=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,so(o,d)?g=null:f!==null&&so(o,f)&&(t.flags|=32),cd(e,t),yt(e,t,g,i),t.child;case 6:return e===null&&po(t),null;case 13:return pd(e,t,i);case 4:return ko(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Sn(t,null,o,i):yt(e,t,o,i),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Vt(o,d),ad(e,t,o,d,i);case 7:return yt(e,t,t.pendingProps,i),t.child;case 8:return yt(e,t,t.pendingProps.children,i),t.child;case 12:return yt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,Pe(Ti,o._currentValue),o._currentValue=g,f!==null)if(Wt(f.value,g)){if(f.children===d.children&&!wt.current){t=cr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var k=x.firstContext;k!==null;){if(k.context===o){if(f.tag===1){k=ur(-1,i&-i),k.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var U=I.pending;U===null?k.next=k:(k.next=U.next,U.next=k),I.pending=k}}f.lanes|=i,k=f.alternate,k!==null&&(k.lanes|=i),xo(f.return,i,t),x.lanes|=i;break}k=k.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),xo(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}yt(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,En(t,i),d=Mt(d),o=o(d),t.flags|=1,yt(e,t,o,i),t.child;case 14:return o=t.type,d=Vt(o,t.pendingProps),d=Vt(o.type,d),od(e,t,o,d,i);case 15:return ld(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Vt(o,d),zi(e,t),t.tag=1,bt(o)?(e=!0,_i(t)):e=!1,En(t,i),Zc(t,o,d),Bo(t,o,d,i),Do(null,t,o,!0,e,i);case 19:return gd(e,t,i);case 22:return ud(e,t,i)}throw Error(n(156,t.tag))};function Ud(e,t){return xu(e,t)}function mm(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,i,o){return new mm(e,t,i,o)}function il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gm(e){if(typeof e=="function")return il(e)?1:0;if(e!=null){if(e=e.$$typeof,e===te)return 11;if(e===je)return 14}return 2}function Rr(e,t){var i=e.alternate;return i===null?(i=Dt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Xi(e,t,i,o,d,f){var g=2;if(o=e,typeof e=="function")il(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case oe:return Yr(i.children,d,f,t);case ye:g=8,d|=8;break;case xe:return e=Dt(12,i,t,d|2),e.elementType=xe,e.lanes=f,e;case me:return e=Dt(13,i,t,d),e.elementType=me,e.lanes=f,e;case _e:return e=Dt(19,i,t,d),e.elementType=_e,e.lanes=f,e;case we:return Zi(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:g=10;break e;case pe:g=9;break e;case te:g=11;break e;case je:g=14;break e;case Se:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Dt(g,i,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function Yr(e,t,i,o){return e=Dt(7,e,o,t),e.lanes=i,e}function Zi(e,t,i,o){return e=Dt(22,e,o,t),e.elementType=we,e.lanes=i,e.stateNode={isHidden:!1},e}function al(e,t,i){return e=Dt(6,e,null,t),e.lanes=i,e}function ol(e,t,i){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ym(e,t,i,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ll(e,t,i,o,d,f,g,x,k){return e=new ym(e,t,i,x,k),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Dt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},bo(f),e}function vm(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function zd(e){if(!e)return kr;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(bt(i))return mc(e,i,t)}return t}function Fd(e,t,i,o,d,f,g,x,k){return e=ll(i,o,!0,e,d,f,g,x,k),e.context=zd(null),i=e.current,o=vt(),d=Tr(i),f=ur(o,d),f.callback=t??null,jr(i,f,d),e.current.lanes=d,rs(e,d,o),St(e,o),e}function ea(e,t,i,o){var d=t.current,f=vt(),g=Tr(d);return i=zd(i),t.context===null?t.context=i:t.pendingContext=i,t=ur(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=jr(d,t,g),e!==null&&(Gt(e,d,g,f),Ri(e,d,g)),g}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ul(e,t){Wd(e,t),(e=e.alternate)&&Wd(e,t)}function xm(){return null}var Kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function cl(e){this._internalRoot=e}ra.prototype.render=cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ea(e,t,null,null)},ra.prototype.unmount=cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gr(function(){ea(null,e,null,null)}),t[sr]=null}};function ra(e){this._internalRoot=e}ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yr.length&&t!==0&&t<yr[i].priority;i++);yr.splice(i,0,e),i===0&&Pu(e)}};function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vd(){}function wm(e,t,i,o,d){if(d){if(typeof o=="function"){var f=o;o=function(){var I=ta(g);f.call(I)}}var g=Fd(t,o,e,0,null,!1,!1,"",Vd);return e._reactRootContainer=g,e[sr]=g.current,gs(e.nodeType===8?e.parentNode:e),Gr(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var x=o;o=function(){var I=ta(k);x.call(I)}}var k=ll(e,0,!1,null,null,!1,!1,"",Vd);return e._reactRootContainer=k,e[sr]=k.current,gs(e.nodeType===8?e.parentNode:e),Gr(function(){ea(t,k,i,o)}),k}function sa(e,t,i,o,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var x=d;d=function(){var k=ta(g);x.call(k)}}ea(t,g,e,d)}else g=wm(i,t,e,d,o);return ta(g)}ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ts(t.pendingLanes);i!==0&&(Ia(t,i|1),St(t,We()),(Ee&6)===0&&(Rn=We()+500,_r()))}break;case 13:Gr(function(){var o=lr(e,1);if(o!==null){var d=vt();Gt(o,e,1,d)}}),ul(e,1)}},Ba=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var i=vt();Gt(t,e,134217728,i)}ul(e,134217728)}},Eu=function(e){if(e.tag===13){var t=Tr(e),i=lr(e,t);if(i!==null){var o=vt();Gt(i,e,t,o)}ul(e,t)}},Nu=function(){return Te},Cu=function(e,t){var i=Te;try{return Te=e,t()}finally{Te=i}},Na=function(e,t,i){switch(t){case"input":if(Qe(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var d=bi(o);if(!d)throw Error(n(90));Be(o),Qe(o,d)}}}break;case"textarea":zt(e,i);break;case"select":t=i.value,t!=null&&Ye(e,!!i.multiple,t,!1)}},hu=rl,fu=Gr;var bm={usingClientEntryPoint:!1,Events:[xs,vn,bi,cu,du,rl]},As={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yu(e),e===null?null:e.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||xm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{ri=ia.inject(km),Zt=ia}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bm,jt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(t))throw Error(n(200));return vm(e,t,null,i)},jt.createRoot=function(e,t){if(!dl(e))throw Error(n(299));var i=!1,o="",d=Kd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=ll(e,1,!1,null,null,i,!1,o,d),e[sr]=t.current,gs(e.nodeType===8?e.parentNode:e),new cl(t)},jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=yu(t),e=e===null?null:e.stateNode,e},jt.flushSync=function(e){return Gr(e)},jt.hydrate=function(e,t,i){if(!na(t))throw Error(n(200));return sa(null,e,t,!0,i)},jt.hydrateRoot=function(e,t,i){if(!dl(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,d=!1,f="",g=Kd;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Fd(t,null,e,1,i??null,d,!1,f,g),e[sr]=t.current,gs(e),o)for(e=0;e<o.length;e++)i=o[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new ra(t)},jt.render=function(e,t,i){if(!na(t))throw Error(n(200));return sa(null,e,t,!1,i)},jt.unmountComponentAtNode=function(e){if(!na(e))throw Error(n(40));return e._reactRootContainer?(Gr(function(){sa(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1},jt.unstable_batchedUpdates=rl,jt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!na(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return sa(e,t,i,!1,o)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var Zd;function Fh(){if(Zd)return pl.exports;Zd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),pl.exports=Rm(),pl.exports}var eh;function Om(){if(eh)return aa;eh=1;var s=Fh();return aa.createRoot=s.createRoot,aa.hydrateRoot=s.hydrateRoot,aa}var Am=Om();const Im=Uh(Am);Fh();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Ds.apply(this,arguments)}var Br;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Br||(Br={}));const th="popstate";function Bm(s){s===void 0&&(s={});function r(a,l){let{pathname:c,search:h,hash:p}=a.location;return Cl("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:da(l)}return Lm(r,n,null,s)}function Je(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Vl(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Mm(){return Math.random().toString(36).substr(2,8)}function rh(s,r){return{usr:s.state,key:s.key,idx:r}}function Cl(s,r,n,a){return n===void 0&&(n=null),Ds({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Gn(r):r,{state:n,key:r&&r.key||a||Mm()})}function da(s){let{pathname:r="/",search:n="",hash:a=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Gn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substr(a),s=s.substr(0,a)),s&&(r.pathname=s)}return r}function Lm(s,r,n,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:c=!1}=a,h=l.history,p=Br.Pop,m=null,y=v();y==null&&(y=0,h.replaceState(Ds({},h.state,{idx:y}),""));function v(){return(h.state||{idx:null}).idx}function w(){p=Br.Pop;let E=v(),M=E==null?null:E-y;y=E,m&&m({action:p,location:T.location,delta:M})}function b(E,M){p=Br.Push;let B=Cl(T.location,E,M);y=v()+1;let j=rh(B,y),D=T.createHref(B);try{h.pushState(j,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(D)}c&&m&&m({action:p,location:T.location,delta:1})}function C(E,M){p=Br.Replace;let B=Cl(T.location,E,M);y=v();let j=rh(B,y),D=T.createHref(B);h.replaceState(j,"",D),c&&m&&m({action:p,location:T.location,delta:0})}function O(E){let M=l.location.origin!=="null"?l.location.origin:l.location.href,B=typeof E=="string"?E:da(E);return B=B.replace(/ $/,"%20"),Je(M,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,M)}let T={get action(){return p},get location(){return s(l,h)},listen(E){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(th,w),m=E,()=>{l.removeEventListener(th,w),m=null}},createHref(E){return r(l,E)},createURL:O,encodeLocation(E){let M=O(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:C,go(E){return h.go(E)}};return T}var nh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(nh||(nh={}));function $m(s,r,n){return n===void 0&&(n="/"),Dm(s,r,n)}function Dm(s,r,n,a){let l=typeof r=="string"?Gn(r):r,c=ql(l.pathname||"/",n);if(c==null)return null;let h=Wh(s);Um(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let y=Xm(c);p=Jm(h[m],y)}return p}function Wh(s,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let l=(c,h,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};m.relativePath.startsWith("/")&&(Je(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let y=Mr([a,m.relativePath]),v=n.concat(m);c.children&&c.children.length>0&&(Je(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Wh(c.children,r,v,y)),!(c.path==null&&!c.index)&&r.push({path:y,score:Hm(y,c.index),routesMeta:v})};return s.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,h);else for(let m of Kh(c.path))l(c,h,m)}),r}function Kh(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let h=Kh(a.join("/")),p=[];return p.push(...h.map(m=>m===""?c:[c,m].join("/"))),l&&p.push(...h),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function Um(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:Gm(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const zm=/^:[\w-]+$/,Fm=3,Wm=2,Km=1,Vm=10,qm=-2,sh=s=>s==="*";function Hm(s,r){let n=s.split("/"),a=n.length;return n.some(sh)&&(a+=qm),r&&(a+=Wm),n.filter(l=>!sh(l)).reduce((l,c)=>l+(zm.test(c)?Fm:c===""?Km:Vm),a)}function Gm(s,r){return s.length===r.length&&s.slice(0,-1).every((a,l)=>a===r[l])?s[s.length-1]-r[r.length-1]:0}function Jm(s,r,n){let{routesMeta:a}=s,l={},c="/",h=[];for(let p=0;p<a.length;++p){let m=a[p],y=p===a.length-1,v=c==="/"?r:r.slice(c.length)||"/",w=Qm({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),b=m.route;if(!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:Mr([c,w.pathname]),pathnameBase:ng(Mr([c,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(c=Mr([c,w.pathnameBase]))}return h}function Qm(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Ym(s.path,s.caseSensitive,s.end),l=r.match(n);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((y,v,w)=>{let{paramName:b,isOptional:C}=v;if(b==="*"){let T=p[w]||"";h=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const O=p[w];return C&&!O?y[b]=void 0:y[b]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function Ym(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Vl(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),a]}function Xm(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Vl(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function ql(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}const Zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eg=s=>Zm.test(s);function tg(s,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Gn(s):s,c;if(n)if(eg(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Vl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?c=ih(n.substring(1),"/"):c=ih(n,r)}else c=r;return{pathname:c,search:sg(a),hash:ig(l)}}function ih(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function yl(s,r,n,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rg(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Vh(s,r){let n=rg(s);return r?n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function qh(s,r,n,a){a===void 0&&(a=!1);let l;typeof s=="string"?l=Gn(s):(l=Ds({},s),Je(!l.pathname||!l.pathname.includes("?"),yl("?","pathname","search",l)),Je(!l.pathname||!l.pathname.includes("#"),yl("#","pathname","hash",l)),Je(!l.search||!l.search.includes("#"),yl("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,p;if(h==null)p=n;else{let w=r.length-1;if(!a&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),w-=1;l.pathname=b.join("/")}p=w>=0?r[w]:"/"}let m=tg(l,p),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}const Mr=s=>s.join("/").replace(/\/\/+/g,"/"),ng=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),sg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ig=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ag(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Hh=["post","put","patch","delete"];new Set(Hh);const og=["get",...Hh];new Set(og);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Us.apply(this,arguments)}const Hl=S.createContext(null),lg=S.createContext(null),an=S.createContext(null),ma=S.createContext(null),on=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Gh=S.createContext(null);function ug(s,r){let{relative:n}=r===void 0?{}:r;Gs()||Je(!1);let{basename:a,navigator:l}=S.useContext(an),{hash:c,pathname:h,search:p}=Qh(s,{relative:n}),m=h;return a!=="/"&&(m=h==="/"?a:Mr([a,h])),l.createHref({pathname:m,search:p,hash:c})}function Gs(){return S.useContext(ma)!=null}function ga(){return Gs()||Je(!1),S.useContext(ma).location}function Jh(s){S.useContext(an).static||S.useLayoutEffect(s)}function ya(){let{isDataRoute:s}=S.useContext(on);return s?kg():cg()}function cg(){Gs()||Je(!1);let s=S.useContext(Hl),{basename:r,future:n,navigator:a}=S.useContext(an),{matches:l}=S.useContext(on),{pathname:c}=ga(),h=JSON.stringify(Vh(l,n.v7_relativeSplatPath)),p=S.useRef(!1);return Jh(()=>{p.current=!0}),S.useCallback(function(y,v){if(v===void 0&&(v={}),!p.current)return;if(typeof y=="number"){a.go(y);return}let w=qh(y,JSON.parse(h),c,v.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Mr([r,w.pathname])),(v.replace?a.replace:a.push)(w,v.state,v)},[r,a,h,c,s])}function Qh(s,r){let{relative:n}=r===void 0?{}:r,{future:a}=S.useContext(an),{matches:l}=S.useContext(on),{pathname:c}=ga(),h=JSON.stringify(Vh(l,a.v7_relativeSplatPath));return S.useMemo(()=>qh(s,JSON.parse(h),c,n==="path"),[s,h,c,n])}function dg(s,r){return hg(s,r)}function hg(s,r,n,a){Gs()||Je(!1);let{navigator:l}=S.useContext(an),{matches:c}=S.useContext(on),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let y=ga(),v;if(r){var w;let E=typeof r=="string"?Gn(r):r;m==="/"||(w=E.pathname)!=null&&w.startsWith(m)||Je(!1),v=E}else v=y;let b=v.pathname||"/",C=b;if(m!=="/"){let E=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let O=$m(s,{pathname:C}),T=yg(O&&O.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:Mr([m,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:Mr([m,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,n,a);return r&&T?S.createElement(ma.Provider,{value:{location:Us({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Br.Pop}},T):T}function fg(){let s=bg(),r=ag(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},r),n?S.createElement("pre",{style:l},n):null,null)}const pg=S.createElement(fg,null);class mg extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?S.createElement(on.Provider,{value:this.props.routeContext},S.createElement(Gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gg(s){let{routeContext:r,match:n,children:a}=s,l=S.useContext(Hl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(on.Provider,{value:r},a)}function yg(s,r,n,a){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),s==null){var c;if(!n)return null;if(n.errors)s=n.matches;else if((c=a)!=null&&c.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,p=(l=n)==null?void 0:l.errors;if(p!=null){let v=h.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);v>=0||Je(!1),h=h.slice(0,Math.min(h.length,v+1))}let m=!1,y=-1;if(n&&a&&a.v7_partialHydration)for(let v=0;v<h.length;v++){let w=h[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=v),w.route.id){let{loaderData:b,errors:C}=n,O=w.route.loader&&b[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||O){m=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((v,w,b)=>{let C,O=!1,T=null,E=null;n&&(C=p&&w.route.id?p[w.route.id]:void 0,T=w.route.errorElement||pg,m&&(y<0&&b===0?(_g("route-fallback"),O=!0,E=null):y===b&&(O=!0,E=w.route.hydrateFallbackElement||null)));let M=r.concat(h.slice(0,b+1)),B=()=>{let j;return C?j=T:O?j=E:w.route.Component?j=S.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=v,S.createElement(gg,{match:w,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:j})};return n&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?S.createElement(mg,{location:n.location,revalidation:n.revalidation,component:T,error:C,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):B()},null)}var Yh=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Yh||{}),Xh=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Xh||{});function vg(s){let r=S.useContext(Hl);return r||Je(!1),r}function xg(s){let r=S.useContext(lg);return r||Je(!1),r}function wg(s){let r=S.useContext(on);return r||Je(!1),r}function Zh(s){let r=wg(),n=r.matches[r.matches.length-1];return n.route.id||Je(!1),n.route.id}function bg(){var s;let r=S.useContext(Gh),n=xg(),a=Zh();return r!==void 0?r:(s=n.errors)==null?void 0:s[a]}function kg(){let{router:s}=vg(Yh.UseNavigateStable),r=Zh(Xh.UseNavigateStable),n=S.useRef(!1);return Jh(()=>{n.current=!0}),S.useCallback(function(l,c){c===void 0&&(c={}),n.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,Us({fromRouteId:r},c)))},[s,r])}const ah={};function _g(s,r,n){ah[s]||(ah[s]=!0)}function Sg(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Ut(s){Je(!1)}function jg(s){let{basename:r="/",children:n=null,location:a,navigationType:l=Br.Pop,navigator:c,static:h=!1,future:p}=s;Gs()&&Je(!1);let m=r.replace(/^\/*/,"/"),y=S.useMemo(()=>({basename:m,navigator:c,static:h,future:Us({v7_relativeSplatPath:!1},p)}),[m,p,c,h]);typeof a=="string"&&(a=Gn(a));let{pathname:v="/",search:w="",hash:b="",state:C=null,key:O="default"}=a,T=S.useMemo(()=>{let E=ql(v,m);return E==null?null:{location:{pathname:E,search:w,hash:b,state:C,key:O},navigationType:l}},[m,v,w,b,C,O,l]);return T==null?null:S.createElement(an.Provider,{value:y},S.createElement(ma.Provider,{children:n,value:T}))}function Eg(s){let{children:r,location:n}=s;return dg(Tl(r),n)}new Promise(()=>{});function Tl(s,r){r===void 0&&(r=[]);let n=[];return S.Children.forEach(s,(a,l)=>{if(!S.isValidElement(a))return;let c=[...r,l];if(a.type===S.Fragment){n.push.apply(n,Tl(a.props.children,c));return}a.type!==Ut&&Je(!1),!a.props.index||!a.props.children||Je(!1);let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Tl(a.props.children,c)),n.push(h)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Pl.apply(this,arguments)}function Ng(s,r){if(s==null)return{};var n={},a=Object.keys(s),l,c;for(c=0;c<a.length;c++)l=a[c],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function Cg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Tg(s,r){return s.button===0&&(!r||r==="_self")&&!Cg(s)}const Pg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rg="6";try{window.__reactRouterVersion=Rg}catch{}const Og="startTransition",oh=Cm[Og];function Ag(s){let{basename:r,children:n,future:a,window:l}=s,c=S.useRef();c.current==null&&(c.current=Bm({window:l,v5Compat:!0}));let h=c.current,[p,m]=S.useState({action:h.action,location:h.location}),{v7_startTransition:y}=a||{},v=S.useCallback(w=>{y&&oh?oh(()=>m(w)):m(w)},[m,y]);return S.useLayoutEffect(()=>h.listen(v),[h,v]),S.useEffect(()=>Sg(a),[a]),S.createElement(jg,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:h,future:a})}const Ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=S.forwardRef(function(r,n){let{onClick:a,relative:l,reloadDocument:c,replace:h,state:p,target:m,to:y,preventScrollReset:v,viewTransition:w}=r,b=Ng(r,Pg),{basename:C}=S.useContext(an),O,T=!1;if(typeof y=="string"&&Bg.test(y)&&(O=y,Ig))try{let j=new URL(window.location.href),D=y.startsWith("//")?new URL(j.protocol+y):new URL(y),F=ql(D.pathname,C);D.origin===j.origin&&F!=null?y=F+D.search+D.hash:T=!0}catch{}let E=ug(y,{relative:l}),M=Mg(y,{replace:h,state:p,target:m,preventScrollReset:v,relative:l,viewTransition:w});function B(j){a&&a(j),j.defaultPrevented||M(j)}return S.createElement("a",Pl({},b,{href:O||E,onClick:T||c?a:B,ref:n,target:m}))});var lh;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(lh||(lh={}));var uh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(uh||(uh={}));function Mg(s,r){let{target:n,replace:a,state:l,preventScrollReset:c,relative:h,viewTransition:p}=r===void 0?{}:r,m=ya(),y=ga(),v=Qh(s,{relative:h});return S.useCallback(w=>{if(Tg(w,n)){w.preventDefault();let b=a!==void 0?a:da(y)===da(v);m(s,{replace:b,state:l,preventScrollReset:c,relative:h,viewTransition:p})}},[y,m,v,a,l,n,s,c,h,p])}const Lg={"landing.badge":{EN:"Ready for adventure?",BM:"Sedia untuk pengembaraan?"},"landing.title.welcome":{EN:"Welcome, Young",BM:"Selamat Datang,"},"landing.title.ceo":{EN:"CEO!",BM:"CEO Muda!"},"landing.subtitle":{EN:"Your entrepreneurship journey starts here! Create amazing products, design cool logos, and build your business empire!",BM:"Perjalanan keusahawanan anda bermula di sini! Cipta produk hebat, reka logo keren, dan bina empayar perniagaan anda!"},"landing.cta":{EN:"Start Creating!",BM:"Mula Mencipta!"},"landing.tools.title":{EN:"Your AI Superpowers",BM:"Kuasa AI Anda"},"tool.product":{EN:"AI Product Idea",BM:"Idea Produk AI"},"tool.product.desc":{EN:"Get amazing product ideas for your carnival booth!",BM:"Dapatkan idea produk hebat untuk gerai karnival anda!"},"tool.packaging":{EN:"AI Packaging Idea",BM:"Idea Pembungkusan AI"},"tool.packaging.desc":{EN:"Make your products look irresistible!",BM:"Jadikan produk anda kelihatan menarik!"},"tool.logo":{EN:"AI Logo Maker",BM:"Pembuat Logo AI"},"tool.logo.desc":{EN:"Design a cool logo for your brand!",BM:"Reka logo keren untuk jenama anda!"},"tool.booth":{EN:"Booth Ready Mode",BM:"Mod Sedia Gerai"},"tool.booth.desc":{EN:"Print banners, stickers & price tags!",BM:"Cetak sepanduk, pelekat & tanda harga!"},"tool.profit":{EN:"Profit Calculator",BM:"Kalkulator Untung"},"tool.profit.desc":{EN:"See how much money you can make!",BM:"Lihat berapa banyak wang anda boleh buat!"},"tool.businessName":{EN:"Business Name Generator",BM:"Penjana Nama Perniagaan"},"tool.businessName.desc":{EN:"Find the perfect name for your business!",BM:"Cari nama yang sempurna untuk perniagaan anda!"},"tool.marketing":{EN:"Marketing Ideas",BM:"Idea Pemasaran"},"tool.marketing.desc":{EN:"Get creative marketing strategies!",BM:"Dapatkan strategi pemasaran kreatif!"},"dashboard.welcome":{EN:"Welcome Back,",BM:"Selamat Kembali,"},"dashboard.tip.title":{EN:"Tip of the Day",BM:"Tip Hari Ini"},"dashboard.tools":{EN:"Your Tools",BM:"Alatan Anda"},"dashboard.recent":{EN:"Recent Creations",BM:"Ciptaan Terbaru"},"dashboard.seeMore":{EN:"See More",BM:"Lihat Lagi"},"dashboard.company":{EN:"Your Company",BM:"Syarikat Anda"},"state.available":{EN:"Available",BM:"Tersedia"},"state.inProgress":{EN:"In Progress",BM:"Sedang Berjalan"},"state.usedToday":{EN:"Used Today",BM:"Digunakan Hari Ini"},"state.comingSoon":{EN:"Coming Soon",BM:"Akan Datang"},"common.back":{EN:"Back to Adventure!",BM:"Kembali ke Pengembaraan!"},"common.next":{EN:"Next",BM:"Seterusnya"},"common.previous":{EN:"Previous",BM:"Sebelumnya"},"common.finish":{EN:"Finish",BM:"Selesai"},"common.save":{EN:"Save",BM:"Simpan"},"common.cancel":{EN:"Cancel",BM:"Batal"},"common.help":{EN:"What should I do?",BM:"Apa yang perlu saya buat?"},"common.optional":{EN:"Optional",BM:"Pilihan"},"wizard.step":{EN:"Step",BM:"Langkah"},"wizard.generating":{EN:"Generating...",BM:"Menjana..."},"product.step1.title":{EN:"What do you like?",BM:"Apa yang anda suka?"},"product.step1.subtitle":{EN:"Pick your favorite topic!",BM:"Pilih topik kegemaran anda!"},"product.step2.title":{EN:"What's your budget?",BM:"Berapa bajet anda?"},"product.step2.subtitle":{EN:"How much can you spend to make products?",BM:"Berapa anda boleh belanja untuk buat produk?"},"product.step3.title":{EN:"Make or Buy?",BM:"Buat atau Beli?"},"product.step3.subtitle":{EN:"Do you want to make things yourself or sell ready-made items?",BM:"Nak buat sendiri atau jual barang siap?"},"product.step4.title":{EN:"AI Suggestions!",BM:"Cadangan AI!"},"product.step4.subtitle":{EN:"Here are some cool ideas for you!",BM:"Ini beberapa idea hebat untuk anda!"},"product.interest.food":{EN:"Food",BM:"Makanan"},"product.interest.crafts":{EN:"Crafts",BM:"Kraf"},"product.interest.games":{EN:"Games",BM:"Permainan"},"product.interest.books":{EN:"Books",BM:"Buku"},"product.interest.toys":{EN:"Toys",BM:"Mainan"},"product.budget.low":{EN:"Small",BM:"Kecil"},"product.budget.medium":{EN:"Medium",BM:"Sederhana"},"product.budget.high":{EN:"Big",BM:"Besar"},"product.type.diy":{EN:"Make It",BM:"Buat Sendiri"},"product.type.resale":{EN:"Buy & Sell",BM:"Beli & Jual"},"product.type.both":{EN:"Both!",BM:"Dua-dua!"},"product.success.title":{EN:"Great Choice!",BM:"Pilihan Hebat!"},"product.success.desc":{EN:"You picked an awesome product idea! Let's make it look amazing.",BM:"Anda pilih idea produk yang hebat! Jom jadikan ia menawan."},"product.success.next":{EN:"Design Packaging",BM:"Reka Pembungkusan"},"packaging.step1.title":{EN:"What's your product?",BM:"Apa produk anda?"},"packaging.step1.subtitle":{EN:"Pick the type that matches best!",BM:"Pilih jenis yang paling sesuai!"},"packaging.step2.title":{EN:"Who will buy it?",BM:"Siapa akan beli?"},"packaging.step2.subtitle":{EN:"Think about your customers!",BM:"Fikirkan pelanggan anda!"},"packaging.step3.title":{EN:"Packaging style?",BM:"Gaya pembungkusan?"},"packaging.step3.subtitle":{EN:"What feeling do you want?",BM:"Apa perasaan yang anda mahu?"},"packaging.step4.title":{EN:"Packaging Ideas!",BM:"Idea Pembungkusan!"},"packaging.step4.subtitle":{EN:"Pick the one you like best!",BM:"Pilih yang anda paling suka!"},"packaging.type.baked":{EN:"Baked Goods",BM:"Kek & Kuih"},"packaging.type.liquid":{EN:"Drinks",BM:"Minuman"},"packaging.type.boxed":{EN:"Boxed Items",BM:"Barang Berkotak"},"packaging.type.flat":{EN:"Flat Items",BM:"Barang Rata"},"packaging.type.soft":{EN:"Soft Items",BM:"Barang Lembut"},"packaging.buyer.kids":{EN:"Kids",BM:"Kanak-kanak"},"packaging.buyer.teens":{EN:"Teens",BM:"Remaja"},"packaging.buyer.parents":{EN:"Parents",BM:"Ibu Bapa"},"packaging.buyer.gifts":{EN:"Gift Buyers",BM:"Pembeli Hadiah"},"packaging.budget.eco":{EN:"Eco-Friendly",BM:"Mesra Alam"},"packaging.budget.fancy":{EN:"Fancy",BM:"Mewah"},"packaging.budget.creative":{EN:"Creative",BM:"Kreatif"},"packaging.success.title":{EN:"Packaging Ready!",BM:"Pembungkusan Siap!"},"packaging.success.desc":{EN:"Your packaging idea is saved! Time to make a cool logo.",BM:"Idea pembungkusan disimpan! Masa untuk buat logo yang keren."},"packaging.success.next":{EN:"Create Logo",BM:"Buat Logo"},"logo.step1.title":{EN:"Name Your Shop!",BM:"Namakan Kedai Anda!"},"logo.step1.subtitle":{EN:"What's your business called?",BM:"Apakah nama perniagaan anda?"},"logo.step2.title":{EN:"Style Your Logo!",BM:"Gayakan Logo Anda!"},"logo.step2.subtitle":{EN:"Pick the look you want!",BM:"Pilih rupa yang anda mahu!"},"logo.step3.title":{EN:"Add Fun Details!",BM:"Tambah Butiran Seronok!"},"logo.step3.subtitle":{EN:"Optional extras for your logo!",BM:"Tambahan pilihan untuk logo anda!"},"logo.step5.title":{EN:"Pick Your Favorite!",BM:"Pilih Kegemaran Anda!"},"logo.step5.subtitle":{EN:"AI made these logos just for you!",BM:"AI buat logo ini khas untuk anda!"},"logo.step6.title":{EN:"Logo Saved!",BM:"Logo Disimpan!"},"logo.step6.subtitle":{EN:"Your new logo is ready!",BM:"Logo baru anda siap!"},"logo.shopName":{EN:"Shop Name",BM:"Nama Kedai"},"logo.shopName.placeholder":{EN:"e.g. Ahmad's Cookies",BM:"cth. Kek Ahmad"},"logo.businessType":{EN:"Business Type",BM:"Jenis Perniagaan"},"logo.type.food":{EN:"Food",BM:"Makanan"},"logo.type.crafts":{EN:"Crafts",BM:"Kraf"},"logo.type.toys":{EN:"Toys",BM:"Mainan"},"logo.type.accessories":{EN:"Accessories",BM:"Aksesori"},"logo.type.diy":{EN:"DIY",BM:"DIY"},"logo.type.fashion":{EN:"Fashion",BM:"Fesyen"},"logo.type.games":{EN:"Games",BM:"Permainan"},"logo.type.services":{EN:"Services",BM:"Perkhidmatan"},"logo.style":{EN:"Logo Style",BM:"Gaya Logo"},"logo.style.wordmark":{EN:"Wordmark",BM:"Teks Logo"},"logo.style.symbol":{EN:"Symbol",BM:"Simbol"},"logo.style.emblem":{EN:"Emblem",BM:"Lambang"},"logo.style.mascot":{EN:"Mascot",BM:"Maskot"},"logo.style.text":{EN:"Text Only",BM:"Teks Sahaja"},"logo.style.icon":{EN:"Icon Only",BM:"Ikon Sahaja"},"logo.style.combined":{EN:"Text + Icon",BM:"Teks + Ikon"},"logo.vibe":{EN:"Brand Vibe",BM:"Suasana Jenama"},"logo.vibe.cheerful":{EN:"Cheerful",BM:"Ceria"},"logo.vibe.premium":{EN:"Premium",BM:"Premium"},"logo.vibe.minimal":{EN:"Minimal",BM:"Minimal"},"logo.vibe.playful":{EN:"Playful",BM:"Bermain"},"logo.vibe.traditional":{EN:"Traditional",BM:"Tradisional"},"logo.vibe.fun":{EN:"Fun & Playful",BM:"Seronok & Ceria"},"logo.vibe.professional":{EN:"Professional",BM:"Profesional"},"logo.vibe.creative":{EN:"Creative",BM:"Kreatif"},"logo.vibe.natural":{EN:"Natural",BM:"Semulajadi"},"logo.colors":{EN:"Color Theme",BM:"Tema Warna"},"logo.symbol":{EN:"Add a Symbol",BM:"Tambah Simbol"},"logo.slogan":{EN:"Add a Slogan",BM:"Tambah Slogan"},"logo.slogan.placeholder":{EN:"e.g. Made with love!",BM:"cth. Dibuat dengan kasih sayang!"},"logo.generating.title":{EN:"Creating Your Logos...",BM:"Mencipta Logo Anda..."},"logo.generating.subtitle":{EN:"AI is designing something special!",BM:"AI sedang mereka sesuatu yang istimewa!"},"logo.option":{EN:"Option",BM:"Pilihan"},"logo.download":{EN:"Download",BM:"Muat Turun"},"logo.backToDashboard":{EN:"Back to Dashboard",BM:"Kembali ke Dashboard"},"logo.success.title":{EN:"Logo Saved!",BM:"Logo Disimpan!"},"logo.success.desc":{EN:"Your new logo is ready! Want to create booth materials?",BM:"Logo baru anda siap! Mahu buat bahan gerai?"},"logo.success.booth":{EN:"Create Booth Materials",BM:"Buat Bahan Gerai"},"booth.select.title":{EN:"What do you need?",BM:"Apa yang anda perlukan?"},"booth.select.subtitle":{EN:"Pick the materials for your booth!",BM:"Pilih bahan untuk gerai anda!"},"booth.generate":{EN:"Generate Mockups",BM:"Jana Mockup"},"booth.generating":{EN:"Creating your mockups...",BM:"Mencipta mockup anda..."},"booth.ready.title":{EN:"Your Booth Materials!",BM:"Bahan Gerai Anda!"},"booth.ready.subtitle":{EN:"Download and print for your carnival!",BM:"Muat turun dan cetak untuk karnival anda!"},"booth.export.label":{EN:"Download Format:",BM:"Format Muat Turun:"},"booth.download":{EN:"Download",BM:"Muat Turun"},"booth.next":{EN:"Calculate Profit",BM:"Kira Untung"},"profit.title":{EN:"Calculate Your Profit!",BM:"Kira Untung Anda!"},"profit.subtitle":{EN:"See how much money you can make!",BM:"Lihat berapa wang anda boleh buat!"},"profit.cost":{EN:"Cost per item",BM:"Kos setiap item"},"profit.price":{EN:"Selling price",BM:"Harga jualan"},"profit.quantity":{EN:"How many to sell?",BM:"Berapa banyak nak jual?"},"profit.items":{EN:"items",BM:"item"},"profit.revenue":{EN:"Revenue",BM:"Pendapatan"},"profit.totalCost":{EN:"Total Cost",BM:"Jumlah Kos"},"profit.totalProfit":{EN:"Total Profit",BM:"Jumlah Untung"},"profit.perItem":{EN:"Profit per item",BM:"Untung setiap item"},"profit.margin":{EN:"Margin",BM:"Margin"},"profit.formula":{EN:"Formula",BM:"Formula"},"profit.status.loss":{EN:"You're losing money!",BM:"Anda rugi!"},"profit.status.low":{EN:"Low profit margin",BM:"Margin untung rendah"},"profit.status.good":{EN:"Good profit!",BM:"Untung bagus!"},"profit.status.great":{EN:"Amazing profit!",BM:"Untung hebat!"},"profit.done":{EN:"Back to Dashboard",BM:"Kembali ke Dashboard"},"tool.salesBuddy":{EN:"AI Sales Buddy",BM:"AI Sales Buddy"},"tool.salesBuddy.desc":{EN:"Practice your sales pitch!",BM:"Latih teknik jualan anda!"},"salesBuddy.intro.title":{EN:"Sales Training",BM:"Latihan Jualan"},"salesBuddy.intro.desc":{EN:"Practice selling to different customers",BM:"Berlatih menjual kepada pelanggan berbeza"},"salesBuddy.start":{EN:"Start Practice",BM:"Mula Latihan"},"salesBuddy.selectProduct":{EN:"What are you selling?",BM:"Apa yang anda jual?"},"salesBuddy.selectProduct.desc":{EN:"Pick your product type",BM:"Pilih jenis produk anda"},"salesBuddy.productName":{EN:"Product Name",BM:"Nama Produk"},"salesBuddy.productPrice":{EN:"Price",BM:"Harga"},"salesBuddy.selectCustomer":{EN:"Who is your customer?",BM:"Siapa pelanggan anda?"},"salesBuddy.selectCustomer.desc":{EN:"Each customer has different needs",BM:"Setiap pelanggan ada keperluan berbeza"},"salesBuddy.product.food":{EN:"Food",BM:"Makanan"},"salesBuddy.product.drinks":{EN:"Drinks",BM:"Minuman"},"salesBuddy.product.gifts":{EN:"Gifts",BM:"Hadiah"},"salesBuddy.product.others":{EN:"Others",BM:"Lain-lain"},"salesBuddy.customer":{EN:"Customer",BM:"Pelanggan"},"salesBuddy.customer.friendly":{EN:"Friendly Customer",BM:"Pelanggan Ramah"},"salesBuddy.customer.friendly.desc":{EN:"Easy going, likes to chat",BM:"Senang mesra, suka berbual"},"salesBuddy.customer.picky":{EN:"Picky Customer",BM:"Pelanggan Cerewet"},"salesBuddy.customer.picky.desc":{EN:"Asks many questions",BM:"Banyak soalan"},"salesBuddy.customer.bargain":{EN:"Bargain Hunter",BM:"Kaki Tawar"},"salesBuddy.customer.bargain.desc":{EN:"Wants discounts",BM:"Suka minta diskaun"},"salesBuddy.customerMood":{EN:"Customer Mood",BM:"Mood Pelanggan"},"salesBuddy.options":{EN:"Quick replies",BM:"Balasan pantas"},"salesBuddy.typeOwn":{EN:"Or type your own response",BM:"Atau taip respons sendiri"},"salesBuddy.typeHere":{EN:"Type your answer...",BM:"Taip jawapan anda..."},"salesBuddy.viewResults":{EN:"View Results",BM:"Lihat Keputusan"},"salesBuddy.tryAgain":{EN:"Try Again",BM:"Cuba Lagi"},"salesBuddy.result.success":{EN:"Great Job!",BM:"Tahniah!"},"salesBuddy.result.fail":{EN:"Session Ended",BM:"Sesi Tamat"},"salesBuddy.result.fail.desc":{EN:"It's okay, not every customer buys",BM:"Takpe, tak semua pelanggan akan beli"},"salesBuddy.analysis":{EN:"AI Analysis",BM:"Analisa AI"},"salesBuddy.strength":{EN:"Strength",BM:"Kekuatan"},"salesBuddy.suggestion":{EN:"Suggestion",BM:"Cadangan"},"salesBuddy.justNow":{EN:"Just now",BM:"Baru sahaja"}},ef=S.createContext(void 0);function $g({children:s}){const[r,n]=S.useState("EN");S.useEffect(()=>{const c=localStorage.getItem("bizkids-language");c&&(c==="EN"||c==="BM")&&n(c)},[]);const a=c=>{n(c),localStorage.setItem("bizkids-language",c)},l=c=>{var h;return((h=Lg[c])==null?void 0:h[r])||c};return u.jsx(ef.Provider,{value:{language:r,setLanguage:a,t:l},children:s})}function xt(){const s=S.useContext(ef);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s}function Wn(){const{language:s,setLanguage:r}=xt();return u.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full p-1 shadow-[var(--shadow-medium)]",children:[u.jsx("button",{onClick:()=>r("BM"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${s==="BM"?"bg-[var(--sky-blue)] text-white":"text-[var(--text-secondary)] hover:bg-[var(--muted)]"}`,children:"BM"}),u.jsx("button",{onClick:()=>r("EN"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${s==="EN"?"bg-[var(--sky-blue)] text-white":"text-[var(--text-secondary)] hover:bg-[var(--muted)]"}`,children:"ENG"})]})}function sn(){return u.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[u.jsx("div",{className:"absolute top-20 left-[10%] animate-float",style:{animationDelay:"0s"},children:u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, rgba(255, 200, 80, 0.4) 0%, rgba(255, 200, 80, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 200, 80, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute top-40 right-[15%] animate-float",style:{animationDelay:"1s"},children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xl",style:{background:"linear-gradient(135deg, rgba(255, 200, 80, 0.4) 0%, rgba(255, 200, 80, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 200, 80, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute bottom-32 left-[20%] animate-float-slow",style:{animationDelay:"0.5s"},children:u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{background:"linear-gradient(135deg, rgba(255, 184, 77, 0.4) 0%, rgba(255, 184, 77, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 184, 77, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute top-32 right-[8%] animate-float-slow",style:{animationDelay:"2s"},children:u.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, rgba(168, 213, 247, 0.5) 0%, rgba(168, 213, 247, 0.2) 100%)",boxShadow:"0 8px 32px rgba(96, 181, 244, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute top-[60%] left-[5%] animate-float",style:{animationDelay:"1.5s"},children:u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-xl",style:{background:"linear-gradient(135deg, rgba(255, 182, 193, 0.5) 0%, rgba(255, 182, 193, 0.2) 100%)",boxShadow:"0 8px 32px rgba(255, 182, 193, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute bottom-48 right-[12%] animate-float-slow",style:{animationDelay:"0.8s"},children:u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, rgba(168, 230, 207, 0.5) 0%, rgba(168, 230, 207, 0.2) 100%)",boxShadow:"0 8px 32px rgba(168, 230, 207, 0.25), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute top-[45%] right-[5%] animate-float",style:{animationDelay:"2.5s"},children:u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{background:"linear-gradient(135deg, rgba(255, 200, 80, 0.4) 0%, rgba(255, 200, 80, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 200, 80, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),u.jsx("div",{className:"absolute bottom-20 left-8 animate-bounce-gentle hidden md:flex",children:u.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(96, 181, 244, 0.5) 0%, rgba(96, 181, 244, 0.25) 100%)",boxShadow:"0 12px 40px rgba(96, 181, 244, 0.3), inset 0 0 30px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(6px)",border:"2px solid rgba(255, 255, 255, 0.5)"},children:u.jsx("span",{className:"text-4xl",children:""})})}),u.jsx("div",{className:"absolute -top-12 -right-12 w-40 h-40 rounded-full",style:{background:"linear-gradient(135deg, rgba(168, 213, 247, 0.4) 0%, rgba(96, 181, 244, 0.15) 100%)",boxShadow:"0 0 60px rgba(96, 181, 244, 0.2)"}})]})}function Rl({icon:s,iconImage:r,titleKey:n,descKey:a,href:l,state:c="available",progress:h}){const{t:p}=xt(),m=c==="comingSoon",y={available:"bg-[var(--mint-green)]",inProgress:"bg-[var(--sunshine-orange)]",usedToday:"bg-[var(--sky-blue)]",comingSoon:"bg-[var(--text-muted)]"},v=u.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[r?u.jsx("img",{src:r,alt:p(n),className:"w-16 h-16 object-contain"}):u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--sky-blue-light)] to-[var(--sky-blue)] flex items-center justify-center shadow-[var(--shadow-low)]",children:u.jsx("span",{className:"text-3xl",children:s})}),u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:p(n)}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:p(a)}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${y[c]}`,children:p(`state.${c}`)}),c==="inProgress"&&h!==void 0&&u.jsx("div",{className:"w-full h-2 bg-[var(--muted)] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-[var(--sunshine-orange)] rounded-full transition-all duration-500",style:{width:`${h}%`}})})]});return m?u.jsx("div",{className:"block bg-white rounded-3xl p-6 shadow-[var(--shadow-medium)] transition-all duration-300 opacity-60 cursor-not-allowed",children:v}):u.jsx(mt,{to:l,className:"block bg-white rounded-3xl p-6 shadow-[var(--shadow-medium)] transition-all duration-300 hover:shadow-[var(--shadow-high)] hover:scale-[1.02] cursor-pointer",children:v})}function zs(){const{t:s}=xt(),[r,n]=S.useState(!1);return u.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[r&&u.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-2xl shadow-[var(--shadow-high)] p-4 w-64 mb-2 animate-fade-up",children:[u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:s("common.help")}),u.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"Click on any tool to start your adventure! "})]}),u.jsx("button",{onClick:()=>n(!r),className:"w-14 h-14 rounded-full bg-[var(--sky-blue)] text-white shadow-[var(--shadow-high)] flex items-center justify-center text-2xl hover:scale-110 transition-transform duration-200",children:""})]})}function Dg(){const{t:s}=xt(),r=[{icon:"",titleKey:"tool.product",descKey:"tool.product.desc",href:"/tools/product-idea"},{icon:"",titleKey:"tool.packaging",descKey:"tool.packaging.desc",href:"/tools/packaging-idea"},{icon:"",titleKey:"tool.logo",descKey:"tool.logo.desc",href:"/tools/logo-maker"},{icon:"",titleKey:"tool.booth",descKey:"tool.booth.desc",href:"/tools/booth-ready"},{icon:"",titleKey:"tool.profit",descKey:"tool.profit.desc",href:"/tools/profit-calculator"}];return u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] text-lg",children:"BizKids AI"})]}),u.jsx(Wn,{})]}),u.jsx("main",{className:"relative z-10 px-4 md:px-8 py-8 md:py-12",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[u.jsx("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 shadow-[var(--shadow-low)] mb-6",children:u.jsx("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:s("landing.badge")})}),u.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6",children:[u.jsx("span",{className:"text-[var(--sky-blue)]",children:s("landing.title.welcome")}),u.jsx("br",{}),u.jsx("span",{className:"text-[var(--sunshine-orange)]",children:s("landing.title.ceo")})]}),u.jsx("div",{className:"max-w-2xl mx-auto bg-white/60 backdrop-blur-sm rounded-2xl border-2 border-dashed border-[var(--sky-blue-light)] p-6 mb-8",children:u.jsx("p",{className:"text-lg md:text-xl text-[var(--text-secondary)] leading-relaxed",children:s("landing.subtitle")})}),u.jsx(mt,{to:"/dashboard",className:"inline-flex items-center gap-2 bg-[var(--sky-blue)] text-white font-bold text-lg px-8 py-4 rounded-full shadow-[var(--shadow-medium)] hover:shadow-[var(--shadow-high)] hover:scale-105 transition-all duration-200",children:s("landing.cta")})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-[var(--text-primary)] text-center mb-8",children:[" ",s("landing.tools.title")," "]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:r.map(n=>u.jsx(Rl,{icon:n.icon,titleKey:n.titleKey,descKey:n.descKey,href:n.href,state:"available"},n.titleKey))})]})]})}),u.jsx(zs,{})]})}function va(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function Ug(s,r,n,a){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(v){try{y(a.next(v))}catch(w){h(w)}}function m(v){try{y(a.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(s,r||[])).next())})}const zg=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Gl extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class Fg extends Gl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class ch extends Gl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class dh extends Gl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ol;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Ol||(Ol={}));class Wg{constructor(r,{headers:n={},customFetch:a,region:l=Ol.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=zg(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Ug(this,arguments,void 0,function*(n,a={}){var l;let c,h;try{const{headers:p,method:m,body:y,signal:v,timeout:w}=a;let b={},{region:C}=a;C||(C=this.region);const O=new URL(`${this.url}/${n}`);C&&C!=="any"&&(b["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let T;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=y):typeof y=="string"?(b["Content-Type"]="text/plain",T=y):typeof FormData<"u"&&y instanceof FormData?T=y:(b["Content-Type"]="application/json",T=JSON.stringify(y)):T=y;let E=v;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),v?(E=h.signal,v.addEventListener("abort",()=>h.abort())):E=h.signal);const M=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),p),body:T,signal:E}).catch(F=>{throw new Fg(F)}),B=M.headers.get("x-relay-error");if(B&&B==="true")throw new ch(M);if(!M.ok)throw new dh(M);let j=((l=M.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),D;return j==="application/json"?D=yield M.json():j==="application/octet-stream"||j==="application/pdf"?D=yield M.blob():j==="text/event-stream"?D=M:j==="multipart/form-data"?D=yield M.formData():D=yield M.text(),{data:D,error:null,response:M}}catch(p){return{data:null,error:p,response:p instanceof dh||p instanceof ch?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var Kg=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Vg=class{constructor(s){var r,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,p=null,m=null,y=c.status,v=c.statusText;if(c.ok){var w,b;if(n.method!=="HEAD"){var C;const M=await c.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((C=n.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?p=M:p=JSON.parse(M))}const T=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),E=(b=c.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&E&&E.length>1&&(m=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var O;const T=await c.text();try{h=JSON.parse(T),Array.isArray(h)&&c.status===404&&(p=[],h=null,y=200,v="OK")}catch{c.status===404&&T===""?(y=204,v="No Content"):h={message:T}}if(h&&n.isMaybeSingle&&(!(h==null||(O=h.details)===null||O===void 0)&&O.includes("0 rows"))&&(h=null,y=200,v="OK"),h&&n.shouldThrowOnError)throw new Kg(h)}return{error:h,data:p,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var h;let p="";const m=c==null?void 0:c.cause;if(m){var y,v,w,b;const O=(y=m==null?void 0:m.message)!==null&&y!==void 0?y:"",T=(v=m==null?void 0:m.code)!==null&&v!==void 0?v:"";p=`${(w=c==null?void 0:c.name)!==null&&w!==void 0?w:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(b=m==null?void 0:m.name)!==null&&b!==void 0?b:"Error"}: ${O}`,T&&(p+=` (${T})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var C;p=(C=c==null?void 0:c.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},qg=class extends Vg{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var h;const p=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const hh=new RegExp("[,()]");var Dn=class extends qg{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&hh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&hh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${c}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},Hg=class{constructor(s,{headers:r={},schema:n,fetch:a}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(s,r){const{head:n=!1,count:a}=r??{},l=n?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),a&&this.headers.append("Prefer",`count=${a}`),new Dn({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:n=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Dn({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new Dn({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Dn({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var r;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new Dn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},Gg=class tf{constructor(r,{headers:n={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(n),this.schemaName=a,this.fetch=l}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Hg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new tf(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:a=!1,get:l=!1,count:c}={}){var h;let p;const m=new URL(`${this.url}/rpc/${r}`);let y;a||l?(p=a?"HEAD":"GET",Object.entries(n).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{m.searchParams.append(w,b)})):(p="POST",y=n);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new Dn({method:p,url:m,headers:v,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Jg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Qg="2.89.0",Yg=`realtime-js/${Qg}`,rf="1.0.0",Xg="2.0.0",fh=rf,Al=1e4,Zg=1e3,ey=100;var Ar;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ar||(Ar={}));var et;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(et||(et={}));var Yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Yt||(Yt={}));var Il;(function(s){s.websocket="websocket"})(Il||(Il={}));var tn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(tn||(tn={}));class ty{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,a;const l=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,a;const l=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,a){var l,c;const h=r.topic,p=(l=r.ref)!==null&&l!==void 0?l:"",m=(c=r.join_ref)!==null&&c!==void 0?c:"",y=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+y.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+b);let O=new DataView(C),T=0;O.setUint8(T++,this.KINDS.userBroadcastPush),O.setUint8(T++,m.length),O.setUint8(T++,p.length),O.setUint8(T++,h.length),O.setUint8(T++,y.length),O.setUint8(T++,w.length),O.setUint8(T++,n),Array.from(m,M=>O.setUint8(T++,M.charCodeAt(0))),Array.from(p,M=>O.setUint8(T++,M.charCodeAt(0))),Array.from(h,M=>O.setUint8(T++,M.charCodeAt(0))),Array.from(y,M=>O.setUint8(T++,M.charCodeAt(0))),Array.from(w,M=>O.setUint8(T++,M.charCodeAt(0)));var E=new Uint8Array(C.byteLength+a.byteLength);return E.set(new Uint8Array(C),0),E.set(new Uint8Array(a),C.byteLength),E.buffer}decode(r,n){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return n(a)}if(typeof r=="string"){const a=JSON.parse(r),[l,c,h,p,m]=a;return n({join_ref:l,ref:c,topic:h,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),a=n.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const y=a.decode(r.slice(m,m+l));m=m+l;const v=a.decode(r.slice(m,m+c));m=m+c;const w=a.decode(r.slice(m,m+h));m=m+h;const b=r.slice(m,r.byteLength),C=p===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,O={type:this.BROADCAST_EVENT,event:v,payload:C};return h>0&&(O.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>n.includes(a)))}}class nf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Re||(Re={}));const ph=(s,r,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=ry(h,s,r,l),c),{}):{}},ry=(s,r,n,a)=>{const l=r.find(p=>p.name===s),c=l==null?void 0:l.type,h=n[s];return c&&!a.includes(c)?sf(c,h):Bl(h)},sf=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return ay(r,n)}switch(s){case Re.bool:return ny(r);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return sy(r);case Re.json:case Re.jsonb:return iy(r);case Re.timestamp:return oy(r);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Bl(r);default:return Bl(r)}},Bl=s=>s,ny=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},sy=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},iy=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},ay=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let c;const h=s.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>sf(r,p))}return s},oy=s=>typeof s=="string"?s.replace(" ","T"):s,af=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class vl{constructor(r,n,a={},l=Al){this.channel=r,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var mh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(mh||(mh={}));class Ls{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=Ls.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ls.syncDiff(this.state,l,c,h),p())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,l){const c=this.cloneDeep(r),h=this.transformState(n),p={},m={};return this.map(c,(y,v)=>{h[y]||(m[y]=v)}),this.map(h,(y,v)=>{const w=c[y];if(w){const b=v.map(E=>E.presence_ref),C=w.map(E=>E.presence_ref),O=v.filter(E=>C.indexOf(E.presence_ref)<0),T=w.filter(E=>b.indexOf(E.presence_ref)<0);O.length>0&&(p[y]=O),T.length>0&&(m[y]=T)}else p[y]=v}),this.syncDiff(c,{joins:p,leaves:m},a,l)}static syncDiff(r,n,a,l){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var y;const v=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(m),v.length>0){const w=r[p].map(C=>C.presence_ref),b=v.filter(C=>w.indexOf(C.presence_ref)<0);r[p].unshift(...b)}a(p,v,m)}),this.map(h,(p,m)=>{let y=r[p];if(!y)return;const v=m.map(w=>w.presence_ref);y=y.filter(w=>v.indexOf(w.presence_ref)<0),r[p]=y,l(p,y,m),y.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const l=r[a];return"metas"in l?n[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(gh||(gh={}));var $s;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})($s||($s={}));var hr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class Fn{constructor(r,n={config:{}},a){var l,c;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vl(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new nf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new Ls(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,y=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[$s.PRESENCE]&&this.bindings[$s.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},b={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>r==null?void 0:r(hr.CHANNEL_ERROR,C)),this._onClose(()=>r==null?void 0:r(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){r==null||r(hr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,E=(O=T==null?void 0:T.length)!==null&&O!==void 0?O:0,M=[];for(let B=0;B<E;B++){const j=T[B],{filter:{event:D,schema:F,table:G,filter:oe}}=j,ye=C&&C[B];if(ye&&ye.event===D&&Fn.isFilterValueEqual(ye.schema,F)&&Fn.isFilterValueEqual(ye.table,G)&&Fn.isFilterValueEqual(ye.filter,oe))M.push(Object.assign(Object.assign({},j),{id:ye.id}));else{this.unsubscribe(),this.state=et.errored,r==null||r(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,r&&r(hr.SUBSCRIBED);return}}).receive("error",C=>{this.state=et.errored,r==null||r(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===et.joined&&r===$s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const y=await p.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var a,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,m;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new vl(this,Yt.leave,{},r),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),h}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new vl(this,r,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>ey){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var l,c;const h=r.toLocaleLowerCase(),{close:p,error:m,leave:y,join:v}=Yt;if(a&&[p,m,y,v].indexOf(h)>=0&&a!==this._joinRef())return;let b=this._onMessage(h,n,a);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var O,T,E;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((E=(T=C.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===h}).map(C=>C.callback(b,a)):(c=this.bindings[h])===null||c===void 0||c.filter(C=>{var O,T,E,M,B,j;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const D=C.id,F=(O=C.filter)===null||O===void 0?void 0:O.event;return D&&((T=n.ids)===null||T===void 0?void 0:T.includes(D))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(B=(M=C==null?void 0:C.filter)===null||M===void 0?void 0:M.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return D==="*"||D===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof b=="object"&&"ids"in b){const O=b.data,{schema:T,table:E,commit_timestamp:M,type:B,errors:j}=O;b=Object.assign(Object.assign({},{schema:T,table:E,commit_timestamp:M,eventType:B,new:{},old:{},errors:j}),this._getPayloadRecords(O))}C.callback(b,a)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const l=r.toLocaleLowerCase(),c={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Fn.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Yt.close,{},r)}_onError(r){this._on(Yt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=ph(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=ph(r.columns,r.old_record)),n}}const xl=()=>{},oa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ly=[1e3,2e3,5e3,1e4],uy=1e4,cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dy{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Al,this.transport=null,this.heartbeatIntervalMs=oa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xl,this.ref=0,this.reconnectTimer=null,this.vsn=fh,this.logger=xl,this.conn=null,this.sendBuffer=[],this.serializer=new ty,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Il.websocket}`,this.httpEndpoint=af(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ar.connecting:return tn.Connecting;case Ar.open:return tn.Open;case Ar.closing:return tn.Closing;default:return tn.Closed}}isConnected(){return this.connectionState()===tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new Fn(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:a,payload:l,ref:c}=r,h=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Zg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},oa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:h}=n,p=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${l} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(l,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Ar.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ar.open||this.conn.readyState===Ar.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Yt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${a}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([cy],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,a=!1;if(r)n=r,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const c={access_token:n,version:Yg};n&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new nf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,l,c,h,p,m,y,v,w,b,C;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:Al,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:oa.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:xl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:fh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r==null?void 0:r.reconnectAfterMs)!==null&&y!==void 0?y:(O=>ly[O-1]||uy),this.vsn){case rf:this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:((O,T)=>T(JSON.stringify(O))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((O,T)=>T(JSON.parse(O)));break;case Xg:this.encode=(b=r==null?void 0:r.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(C=r==null?void 0:r.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Fs=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hy(s,r,n){const a=new URL(r,s);if(n)for(const[l,c]of Object.entries(n))c!==void 0&&a.searchParams.set(l,c);return a.toString()}async function fy(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function py(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:c,headers:h}){const p=hy(s.baseUrl,a,l),m=await fy(s.auth),y=await r(p,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),v=await y.text(),w=(y.headers.get("content-type")||"").includes("application/json"),b=w&&v?JSON.parse(v):v;if(!y.ok){const C=w?b:void 0,O=C==null?void 0:C.error;throw new Fs((O==null?void 0:O.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:C})}return{status:y.status,headers:y.headers,data:b}}}}function la(s){return s.join("")}var my=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:la(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${la(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${la(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${la(s.namespace)}`}),!0}catch(r){if(r instanceof Fs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof Fs&&n.status===409)return;throw n}}};function An(s){return s.join("")}var gy=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof Fs&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof Fs&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},yy=class{constructor(s){var a;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=py({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(a=s.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new my(this.client,r),this.tableOps=new gy(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},xa=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function De(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var vy=class extends xa{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ml=class extends xa{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const Jl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),xy=()=>Response,Ll=s=>{if(Array.isArray(s))return s.map(n=>Ll(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=Ll(a)}),r},wy=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},by=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Ws(s){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ws(s)}function ky(s,r){if(Ws(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(Ws(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function _y(s){var r=ky(s,"string");return Ws(r)=="symbol"?r:r+""}function Sy(s,r,n){return(r=_y(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function yh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function he(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(n),!0).forEach(function(a){Sy(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const wl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},jy=async(s,r,n)=>{s instanceof await xy()&&!(n!=null&&n.noResolveJson)?s.json().then(a=>{const l=s.status||500,c=(a==null?void 0:a.statusCode)||l+"";r(new vy(wl(a),l,c))}).catch(a=>{r(new Ml(wl(a),a))}):r(new Ml(wl(s),s))},Ey=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!a?l:(wy(a)?(l.headers=he({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(a)):l.body=a,r!=null&&r.duplex&&(l.duplex=r.duplex),he(he({},l),n))};async function Js(s,r,n,a,l,c){return new Promise((h,p)=>{s(n,Ey(r,a,l,c)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>jy(m,p,a))})}async function Ks(s,r,n,a){return Js(s,"GET",r,n,a)}async function Qt(s,r,n,a,l){return Js(s,"POST",r,a,l,n)}async function $l(s,r,n,a,l){return Js(s,"PUT",r,a,l,n)}async function Ny(s,r,n,a){return Js(s,"HEAD",r,he(he({},n),{},{noResolveJson:!0}),a)}async function Ql(s,r,n,a,l){return Js(s,"DELETE",r,a,l,n)}var Cy=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}};let of;of=Symbol.toStringTag;var Ty=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[of]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cy(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}};const Py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ry=class{constructor(s,r={},n,a){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=n,this.fetch=Jl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,n,a){var l=this;try{let c;const h=he(he({},vh),a);let p=he(he({},l.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),a!=null&&a.headers&&(p=he(he({},p),a.headers));const y=l._removeEmptyFolders(r),v=l._getFinalPath(y),w=await(s=="PUT"?$l:Qt)(l.fetch,`${l.url}/object/${v}`,c,he({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(De(c))return{data:null,error:c};throw c}}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,a){var l=this;const c=l._removeEmptyFolders(s),h=l._getFinalPath(c),p=new URL(l.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let m;const y=he({upsert:vh.upsert},a),v=he(he({},l.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",y.cacheControl)):(m=n,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType),{data:{path:c,fullPath:(await $l(l.fetch,p.toString(),m,{headers:v})).Key},error:null}}catch(m){if(l.shouldThrowOnError)throw m;if(De(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,r){var n=this;try{let a=n._getFinalPath(s);const l=he({},n.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=await Qt(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(n.url+c.url),p=h.searchParams.get("token");if(!p)throw new xa("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:p},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var a=this;try{return{data:await Qt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}}async copy(s,r,n){var a=this;try{return{data:{path:(await Qt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}}async createSignedUrl(s,r,n){var a=this;try{let l=a._getFinalPath(s),c=await Qt(a.fetch,`${a.url}/object/sign/${l}`,he({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return c={signedUrl:encodeURI(`${a.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}}async createSignedUrls(s,r,n){var a=this;try{const l=await Qt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:s},{headers:a.headers}),c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(h=>he(he({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}}download(s,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(s),h=()=>Ks(this.fetch,`${this.url}/${n}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new Ty(h,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);try{return{data:Ll(await Ks(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await Ny(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(De(a)&&a instanceof Ml){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&a.push(l);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${p}`)}}}async remove(s){var r=this;try{return{data:await Ql(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async list(s,r,n){var a=this;try{const l=he(he(he({},Py),r),{},{prefix:s||""});return{data:await Qt(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}}async listV2(s,r){var n=this;try{const a=he({},s);return{data:await Qt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const lf="2.89.0",uf={"X-Client-Info":`storage-js/${lf}`};var Oy=class{constructor(s,r={},n,a){this.shouldThrowOnError=!1;const l=new URL(s);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=he(he({},uf),r),this.fetch=Jl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const n=r.listBucketOptionsToQueryString(s);return{data:await Ks(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await Ks(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async createBucket(s,r={public:!1}){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async updateBucket(s,r){var n=this;try{return{data:await $l(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async emptyBucket(s){var r=this;try{return{data:await Qt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Ql(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Ay=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=he(he({},uf),r),this.fetch=Jl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await Qt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async listBuckets(s){var r=this;try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const a=n.toString(),l=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return{data:await Ks(r.fetch,l,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Ql(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}from(s){var r=this;if(!by(s))throw new xa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new yy({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const h=l[c];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(l,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}};const Yl={"X-Client-Info":`storage-js/${lf}`,"Content-Type":"application/json"};var cf=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ot(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var bl=class extends cf{constructor(s,r,n){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Iy=class extends cf{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const Xl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),By=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},xh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),My=async(s,r,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const a=s.status||500,l=s;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";r(new bl(xh(c),a,h))}).catch(()=>{const c=a+"";r(new bl(l.statusText||`HTTP ${a} error`,a,c))});else{const c=a+"";r(new bl(l.statusText||`HTTP ${a} error`,a,c))}}else r(new Iy(xh(s),s))},Ly=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return a?(By(a)?(l.headers=he({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(a)):l.body=a,he(he({},l),n)):l};async function $y(s,r,n,a,l,c){return new Promise((h,p)=>{s(n,Ly(r,a,l,c)).then(m=>{if(!m.ok)throw m;if(a!=null&&a.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>My(m,p,a))})}async function At(s,r,n,a,l){return $y(s,"POST",r,a,l,n)}var Dy=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=he(he({},Yl),r),this.fetch=Xl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async getIndex(s,r){var n=this;try{return{data:await At(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}}async listIndexes(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async deleteIndex(s,r){var n=this;try{return{data:await At(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}}},Uy=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=he(he({},Yl),r),this.fetch=Xl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await At(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async getVectors(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await At(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async queryVectors(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await At(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}},zy=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=he(he({},Yl),r),this.fetch=Xl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var r=this;try{return{data:await At(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}},Fy=class extends zy{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new Wy(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},Wy=class extends Dy{constructor(s,r,n,a){super(s,r,a),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new Ky(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Ky=class extends Uy{constructor(s,r,n,a,l){super(s,r,l),this.vectorBucketName=n,this.indexName=a}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,he(he({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Vy=class extends Oy{constructor(s,r={},n,a){super(s,r,n,a)}from(s){return new Ry(this.url,this.headers,s,this.fetch)}get vectors(){return new Fy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ay(this.url+"/iceberg",this.headers,this.fetch)}};const df="2.89.0",Un=30*1e3,Dl=3,kl=Dl*Un,qy="http://localhost:9999",Hy="supabase.auth.token",Gy={"X-Client-Info":`gotrue-js/${df}`},Ul="X-Supabase-Api-Version",hf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qy=600*1e3;class Vs extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ie(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Yy extends Vs{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function Xy(s){return ie(s)&&s.name==="AuthApiError"}class rn extends Vs{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class fr extends Vs{constructor(r,n,a,l){super(r,a,l),this.name=n,this.status=a}}class Rt extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zy(s){return ie(s)&&s.name==="AuthSessionMissingError"}class In extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ua extends fr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ca extends fr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ev(s){return ie(s)&&s.name==="AuthImplicitGrantRedirectError"}class wh extends fr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tv extends fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zl extends fr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function _l(s){return ie(s)&&s.name==="AuthRetryableFetchError"}class bh extends fr{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Fl extends fr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kh=` 	
\r=`.split(""),rv=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<kh.length;r+=1)s[kh[r].charCodeAt(0)]=-2;for(let r=0;r<ha.length;r+=1)s[ha[r].charCodeAt(0)]=r;return s})();function _h(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(ha[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(ha[a]),r.queuedBits-=6}}function ff(s,r,n){const a=rv[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Sh(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{iv(h,a,n)};for(let h=0;h<s.length;h+=1)ff(s.charCodeAt(h),l,c);return r.join("")}function nv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function sv(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}nv(a,r)}}function iv(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Kn(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)ff(s.charCodeAt(l),n,a);return new Uint8Array(r)}function av(s){const r=[];return sv(s,n=>r.push(n)),new Uint8Array(r)}function nn(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};return s.forEach(l=>_h(l,n,a)),_h(null,n,a),r.join("")}function ov(s){return Math.round(Date.now()/1e3)+s}function lv(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},pf=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function uv(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return n.searchParams.forEach((a,l)=>{r[l]=a}),r}const mf=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),cv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",zn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Zr=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ot=async(s,r)=>{await s.removeItem(r)};class wa{constructor(){this.promise=new wa.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}wa.promiseConstructor=Promise;function Sl(s){const r=s.split(".");if(r.length!==3)throw new Fl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!Jy.test(r[a]))throw new Fl("JWT not in base64url format");return{header:JSON.parse(Sh(r[0])),payload:JSON.parse(Sh(r[1])),signature:Kn(r[2]),raw:{header:r[0],payload:r[1]}}}async function dv(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function hv(s,r){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await s(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){l(h);return}}})()})}function fv(s){return("0"+s.toString(16)).substr(-2)}function pv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(r),Array.from(r,fv).join("")}async function mv(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function gv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await mv(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bn(s,r,n=!1){const a=pv();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await zn(s,`${r}-code-verifier`,l);const c=await gv(a);return[c,a===c?"plain":"s256"]}const yv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vv(s){const r=s.headers.get(Ul);if(!r||!r.match(yv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function xv(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function wv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mn(s){if(!bv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jl(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kv(s,r){return new Proxy(s,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,l)}})}function jh(s){return JSON.parse(JSON.stringify(s))}const en=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),_v=[502,503,504];async function Eh(s){var r;if(!cv(s))throw new zl(en(s),0);if(_v.includes(s.status))throw new zl(en(s),s.status);let n;try{n=await s.json()}catch(c){throw new rn(en(c),c)}let a;const l=vv(s);if(l&&l.getTime()>=hf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new bh(en(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Rt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new bh(en(n),s.status,n.weak_password.reasons);throw new Yy(en(n),s.status||500,a)}const Sv=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function de(s,r,n,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[Ul]||(c[Ul]=hf["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await jv(s,r,n+p,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function jv(s,r,n,a,l,c){const h=Sv(r,a,l,c);let p;try{p=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new zl(en(m),0)}if(p.ok||await Eh(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await Eh(m)}}function Jt(s){var r;let n=null;Cv(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=ov(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function Nh(s){const r=Jt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Ir(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Ev(s){return{data:s,error:null}}function Nv(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c}=s,h=va(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function Ch(s){return s}function Cv(s){return s.access_token&&s.refresh_token&&s.expires_in}const El=["global","local","others"];class Tv{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=mf(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=El[0]){if(El.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${El.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ir})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=va(r,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Nv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ir})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,l,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ch});if(v.error)throw v.error;const w=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return C.length>0&&(C.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(O.split(";")[1].split("=")[1]);y[`${E}Page`]=T}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(ie(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Mn(r);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ir})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Mn(r);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Ir})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){Mn(r);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ir})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Mn(r.userId);try{const{data:n,error:a}=await de(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Mn(r.userId),Mn(r.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,l,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ch});if(v.error)throw v.error;const w=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return C.length>0&&(C.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(O.split(";")[1].split("=")[1]);y[`${E}Page`]=T}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(ie(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function Th(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const Ln={debug:!!(globalThis&&pf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Pv extends gf{}async function Rv(s,r,n){Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Pv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ln.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ov(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yf(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Av(s){return parseInt(s,16)}function Iv(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function Bv(s){var r;const{chainId:n,domain:a,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:m,resources:y,scheme:v,uri:w,version:b}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=yf(s.address),O=v?`${v}://${a}`:a,T=s.statement?`${s.statement}
`:"",E=`${O} wants you to sign in with your Ethereum account:
${C}

${T}`;let M=`URI: ${w}
Version: ${b}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(M+=`
Expiration Time: ${l.toISOString()}`),p&&(M+=`
Not Before: ${p.toISOString()}`),m&&(M+=`
Request ID: ${m}`),y){let B=`
Resources:`;for(const j of y){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);B+=`
- ${j}`}M+=B}return`${E}
${M}`}class Ge extends Error{constructor({message:r,code:n,cause:a,name:l}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=l??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class fa extends Ge{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Mv({error:s,options:r}){var n,a,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ge({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(vf(h)){if(c.rp.id!==h)return new Ge({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Lv({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ge({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(vf(a)){if(n.rpId!==a)return new Ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class $v{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Dv=new $v;function Uv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:a}=s,l=va(s,["challenge","user","excludeCredentials"]),c=Kn(r).buffer,h=Object.assign(Object.assign({},n),{id:Kn(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:c,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const y=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:Kn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function zv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,a=va(s,["challenge","allowCredentials"]),l=Kn(r).buffer,c=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Kn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function Fv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:nn(new Uint8Array(s.response.attestationObject)),clientDataJSON:nn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Wv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,a=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:nn(new Uint8Array(l.authenticatorData)),clientDataJSON:nn(new Uint8Array(l.clientDataJSON)),signature:nn(new Uint8Array(l.signature)),userHandle:l.userHandle?nn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function vf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Ph(){var s,r;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Kv(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new fa("Browser returned unexpected credential type",r)}:{data:null,error:new fa("Empty credential response",r)}}catch(r){return{data:null,error:Mv({error:r,options:s})}}}async function Vv(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new fa("Browser returned unexpected credential type",r)}:{data:null,error:new fa("Empty credential response",r)}}catch(r){return{data:null,error:Lv({error:r,options:s})}}}const qv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pa(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of s)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(n(h))a[c]=h;else if(r(h)){const p=a[c];r(p)?a[c]=pa(p,h):a[c]=pa(h)}else a[c]=h}return a}function Gv(s,r){return pa(qv,s,r||{})}function Jv(s,r){return pa(Hv,s,r||{})}class Qv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:l},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:p};const m=l??Dv.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Gv(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:v,error:w}=await Kv({publicKey:y,signal:m});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const y=Jv(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:v,error:w}=await Vv(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:m}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new rn("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new Vs("rpId is required for WebAuthn authentication")};try{if(!Ph())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:c});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new rn("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new Vs("rpId is required for WebAuthn registration")};try{if(!Ph())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===r&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:p};const{data:m,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new rn("Unexpected error in register",h)}}}}Ov();const Yv={url:qy,storageKey:Hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Rh(s,r,n){return await n()}const $n={};class qs{get jwks(){var r,n;return(n=(r=$n[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=$n[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{cachedAt:r})}constructor(r){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Yv),r);if(this.storageKey=c.storageKey,this.instanceID=(n=qs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&lt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Tv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=mf(c.fetch),this.lock=c.lock||Rh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&lt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Rv:this.lock=Rh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:pf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Th(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Th(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${df}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},a="none";if(lt()&&(n=uv(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),lt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ev(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new rn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,l;try{const c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Jt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var n,a,l;try{let c;if("email"in r){const{email:v,password:w,options:b}=r;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await Bn(this.storage,this.storageKey)),c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:w,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:C,code_challenge_method:O},xform:Jt})}else if("phone"in r){const{phone:v,password:w,options:b}=r;c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(a=b==null?void 0:b.data)!==null&&a!==void 0?a:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Jt})}else throw new ua("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return await ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:h,options:p}=r;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Nh})}else if("phone"in r){const{phone:c,password:h,options:p}=r;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Nh})}else throw new ua("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const c=new In;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,a,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,l,c,h,p,m,y,v,w,b;let C,O;if("message"in r)C=r.message,O=r.signature;else{const{chain:T,wallet:E,statement:M,options:B}=r;let j;if(lt())if(typeof E=="object")j=E;else{const xe=window;if("ethereum"in xe&&typeof xe.ethereum=="object"&&"request"in xe.ethereum&&typeof xe.ethereum.request=="function")j=xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const D=new URL((n=B==null?void 0:B.url)!==null&&n!==void 0?n:window.location.href),F=await j.request({method:"eth_requestAccounts"}).then(xe=>xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=yf(F[0]);let oe=(a=B==null?void 0:B.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!oe){const xe=await j.request({method:"eth_chainId"});oe=Av(xe)}const ye={domain:D.host,address:G,statement:M,uri:D.href,version:"1",chainId:oe,nonce:(l=B==null?void 0:B.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=B==null?void 0:B.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=B==null?void 0:B.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=B==null?void 0:B.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=B==null?void 0:B.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=B==null?void 0:B.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=Bv(ye),O=await j.request({method:"personal_sign",params:[Iv(C),G]})}try{const{data:T,error:E}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Jt});if(E)throw E;if(!T||!T.session||!T.user){const M=new In;return this._returnResult({data:{user:null,session:null},error:M})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:E})}catch(T){if(ie(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(r){var n,a,l,c,h,p,m,y,v,w,b,C;let O,T;if("message"in r)O=r.message,T=r.signature;else{const{chain:E,wallet:M,statement:B,options:j}=r;let D;if(lt())if(typeof M=="object")D=M;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))D=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=M}const F=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const G=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),B?{statement:B}:null));let oe;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")oe=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)oe=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)O=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),T=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${F.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(l=(a=j==null?void 0:j.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((p=j==null?void 0:j.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((m=j==null?void 0:j.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((y=j==null?void 0:j.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((w=(v=j==null?void 0:j.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...j.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const G=await D.signMessage(new TextEncoder().encode(O),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=G}}try{const{data:E,error:M}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:nn(T)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Jt});if(M)throw M;if(!E||!E.session||!E.user){const B=new In;return this._returnResult({data:{user:null,session:null},error:B})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:M})}catch(E){if(ie(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(r){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new tv;const{data:c,error:h}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Jt});if(await ot(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new In;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:n,provider:a,token:l,access_token:c,nonce:h}=r,p=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:m,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const v=new In;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,a,l,c,h;try{if("email"in r){const{email:p,options:m}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Bn(this.storage,this.storageKey));const{error:w}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:m}=r,{data:y,error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v})}throw new ua("You must provide either an email or phone number.")}catch(p){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,a;try{let l,c;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Jt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,y=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,a,l,c,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Bn(this.storage,this.storageKey));const y=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Ev});return!((c=y.data)===null||c===void 0)&&c.url&&lt()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new Rt;const{error:l}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:l,options:c}=r,{error:h}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:l,options:c}=r,{data:h,error:p}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new ua("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<kl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Zr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=jl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=kv(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ir}):await this._useSession(async n=>{var a,l,c;const{data:h,error:p}=n;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Ir})})}catch(n){if(ie(n))return Zy(n)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new Rt;const h=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await Bn(this.storage,this.storageKey));const{data:y,error:v}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Ir});if(v)throw v;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Rt;const n=Date.now()/1e3;let a=n,l=!0,c=null;const{payload:h}=Sl(r.access_token);if(h.exp&&(a=h.exp,l=a<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:h,error:p}=n;if(p)throw p;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Rt;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!lt())throw new ca("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ca(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ca("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new wh("No code detected.");const{data:B,error:j}=await this._exchangeCodeForSession(r.code);if(j)throw j;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:p,expires_at:m,token_type:y}=r;if(!c||!p||!h||!y)throw new ca("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let b=v+w;m&&(b=parseInt(m));const C=b-v;C*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const O=b-w;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,b,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,b,v);const{data:T,error:E}=await this._getUser(c);if(E)throw E;const M={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:w,expires_at:b,refresh_token:h,token_type:y,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:r.type},error:null})}catch(a){if(ie(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({error:c});const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(Xy(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=lv(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,l;try{const{data:{session:c},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Bn(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:l}=await this._useSession(async c=>{var h,p,m,y,v;const{data:w,error:b}=c;if(b)throw b;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return lt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:r.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(ie(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:h,provider:p,token:m,access_token:y,nonce:v}=r,w=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jt}),{data:b,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new In}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:C}))}catch(l){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)throw h;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await hv(async l=>(l>0&&await dv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Jt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&_l(c)&&Date.now()+h-a<Un})}catch(a){if(this._debug(n,"error",a),ie(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),lt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Zr(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await zn(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:jl()}else if(l&&!l.user&&!l.user){const h=await Zr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await ot(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,l)):l.user=jl()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kl;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${kl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),_l(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new wa;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new Rt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),ie(c)){const h={data:null,error:c};return _l(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,a=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await ot(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await zn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=jh(l);await zn(this.storage,this.storageKey,c)}else{const l=jh(n);await zn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-r)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Un}ms, refresh threshold is ${Dl} ticks`),l<=Dl&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof gf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await Bn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await de(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:y}=await de(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Fv(r.webauthn.credential_response):Wv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await de(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Uv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:zv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Sl(a.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Rt});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Rt});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(p=>p.kid===r);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+Qy>l)return a;const{data:c,error:h}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});a=C.session.access_token}const{header:l,payload:c,signature:h,raw:{header:p,payload:m}}=Sl(a);n!=null&&n.allowExpired||xv(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!y){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:c,header:l,signature:h},error:null}}const v=wv(l.alg),w=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,av(`${p}.${m}`)))throw new Fl("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}}qs.nextInstanceID={};const Xv=qs,Zv="2.89.0";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const e0={"X-Client-Info":`supabase-js-${Ms}/${Zv}`},t0={headers:e0},r0={schema:"public"},n0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s0={};function Hs(s){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hs(s)}function i0(s,r){if(Hs(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(Hs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function a0(s){var r=i0(s,"string");return Hs(r)=="symbol"?r:r+""}function o0(s,r,n){return(r=a0(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Oh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function ze(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Oh(Object(n),!0).forEach(function(a){o0(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const l0=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),u0=()=>Headers,c0=(s,r,n)=>{const a=l0(n),l=u0();return async(c,h)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:s;let y=new l(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),a(c,ze(ze({},h),{},{headers:y}))}};function d0(s){return s.endsWith("/")?s:s+"/"}function h0(s,r){var n,a;const{db:l,auth:c,realtime:h,global:p}=s,{db:m,auth:y,realtime:v,global:w}=r,b={db:ze(ze({},m),l),auth:ze(ze({},y),c),realtime:ze(ze({},v),h),storage:{},global:ze(ze(ze({},w),p),{},{headers:ze(ze({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?b.accessToken=s.accessToken:delete b.accessToken,b}function f0(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(d0(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var p0=class extends Xv{constructor(s){super(s)}},m0=class{constructor(s,r,n){var a,l;this.supabaseUrl=s,this.supabaseKey=r;const c=f0(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:r0,realtime:s0,auth:ze(ze({},n0),{},{storageKey:h}),global:t0},m=h0(n??{},p);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=c0(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Gg(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Vy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Wg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:a}=await s.auth.getSession();return(r=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:c,flowType:h,lock:p,debug:m,throwOnError:y},v,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p0({url:this.authUrl.href,headers:ze(ze({},b),v),storageKey:c,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,flowType:h,lock:p,debug:m,throwOnError:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new dy(this.realtimeUrl.href,ze(ze({},s),{},{params:ze(ze({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const g0=(s,r,n)=>new m0(s,r,n);function y0(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}y0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v0="https://tkqocetvqcvksiuldmlu.supabase.co",x0="sb_publishable_37rLeUSdI8EKgzZF44B2nQ_N-vaIViE",Et=g0(v0,x0),qn={premium:{maxGenerations:10,maxImages:10,imagesPerGeneration:1},free:{maxGenerations:1/0,maxImages:1/0,imagesPerGeneration:3}};async function Lr(s){const{data:r,error:n}=await Et.from("ai_tools").select("*").eq("key",s).eq("is_active",!0).single();return n?(console.error("Error fetching tool:",n),null):r}async function Zl(s,r,n){const{data:a}=await Et.from("ai_tool_usage").select("*").eq("child_id",s).eq("tool_id",r).eq("plan_type",n).single();if(a)return a;const{data:l,error:c}=await Et.from("ai_tool_usage").insert({child_id:s,tool_id:r,plan_type:n,generation_count:0,image_count:0}).select().single();return c?(console.error("Error creating usage record:",c),null):l}async function Hn(s,r,n){const a=await Zl(s,r,n),l=qn[n],c=(a==null?void 0:a.generation_count)??0,h=(a==null?void 0:a.image_count)??0,p=Math.max(0,l.maxGenerations-c),m=Math.max(0,l.maxImages-h);return{canGenerate:p>0&&m>=l.imagesPerGeneration,generationsUsed:c,generationsRemaining:isFinite(p)?p:-1,imagesUsed:h,imagesRemaining:isFinite(m)?m:-1,planType:n}}async function eu(s,r,n,a=3){const l=await Zl(s,r,n);if(!l)return!1;const{error:c}=await Et.from("ai_tool_usage").update({generation_count:l.generation_count+1,image_count:l.image_count+a,last_used_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",l.id);return c?(console.error("Error incrementing usage:",c),!1):!0}async function tu(s){const{data:r,error:n}=await Et.from("child_logos").insert(s).select();return n?(console.error("Error saving logos:",n),null):r}async function xf(s,r){const{error:n}=await Et.from("child_logos").delete().eq("id",r).eq("child_id",s);return n?(console.error("Error deleting logo:",n),!1):(console.log(" Logo deleted:",r),!0)}async function ru(s){const{data:r,error:n}=await Et.from("child_logos").select("*").eq("child_id",s).order("created_at",{ascending:!1});return n?(console.error("Error fetching logos:",n),[]):r??[]}async function w0(s){const{data:r,error:n}=await Et.from("child_logos").select("*").eq("child_id",s).eq("is_selected",!0).single();return n&&n.code!=="PGRST116"&&console.error("Error fetching selected logo:",n),r??null}async function ba(s,r,n,a){await Et.from("child_logos").update({is_selected:!1}).eq("child_id",s);const{error:l}=await Et.from("child_logos").update({is_selected:!0}).eq("id",r).eq("child_id",s);if(l)return console.error("Error selecting logo:",l),!1;const{error:c}=await Et.from("companies").update({logo_url:n}).eq("id",a);return c?(console.error("Error updating company logo:",c),!1):(console.log(" Logo selected and company updated"),!0)}const b0=Object.freeze(Object.defineProperty({__proto__:null,QUOTA_LIMITS:qn,checkQuota:Hn,deleteLogo:xf,getChildLogos:ru,getOrCreateUsage:Zl,getSelectedLogo:w0,getToolByKey:Lr,incrementUsage:eu,saveLogos:tu,selectLogoAndUpdateCompany:ba},Symbol.toStringTag,{value:"Module"})),wf=S.createContext(void 0),Bs="dev_child_session";function k0({children:s}){const[r,n]=S.useState(null),[a,l]=S.useState(!0);S.useEffect(()=>{const m=localStorage.getItem(Bs);if(m)try{const y=JSON.parse(m);n(y)}catch{localStorage.removeItem(Bs)}l(!1)},[]);const c=S.useCallback(async m=>{var y;l(!0);try{const{data:v,error:w}=await Et.from("children").select(`
          *,
          companies (*)
        `).eq("id",m).single();if(w||!v)return console.error("Error fetching child:",w),l(!1),!1;const{data:b}=await Et.from("parents").select("users (email)").eq("id",v.parent_id).single(),C={...v,companies:Array.isArray(v.companies)?v.companies:v.companies?[v.companies]:[],parent_email:(y=b==null?void 0:b.users)==null?void 0:y.email};return n(C),localStorage.setItem(Bs,JSON.stringify(C)),console.log(" DEV MODE: Impersonating child",{child_id:m,child_name:v.name,impersonated:!0}),l(!1),!0}catch(v){return console.error("Login error:",v),l(!1),!1}},[]),h=S.useCallback(()=>{n(null),localStorage.removeItem(Bs)},[]),p=S.useCallback(m=>{n(y=>{var w;if(!y||!((w=y.companies)!=null&&w[0]))return y;const v={...y,companies:y.companies.map((b,C)=>C===0?{...b,logo_url:m}:b)};return localStorage.setItem(Bs,JSON.stringify(v)),console.log(" Session updated with new logo URL:",m),v})},[]);return u.jsx(wf.Provider,{value:{child:r,loading:a,isDevMode:!0,login:c,logout:h,updateCompanyLogoUrl:p},children:s})}function ln(){const s=S.useContext(wf);if(s===void 0)throw new Error("useChildSession must be used within a ChildSessionProvider");return s}const bf=[{icon:"",key:"food"},{icon:"",key:"crafts"},{icon:"",key:"toys"},{icon:"",key:"accessories"},{icon:"",key:"diy"}],kf=[{icon:"",key:"wordmark"},{icon:"",key:"symbol"},{icon:"",key:"emblem"},{icon:"",key:"mascot"}],_f=[{icon:"",key:"cheerful"},{icon:"",key:"premium"},{icon:"",key:"minimal"},{icon:"",key:"playful"},{icon:"",key:"traditional"}],Sf=[{name:"Pastel",colors:["#FFD1DC","#B5EAD7","#C7CEEA"],key:"pastel"},{name:"Bold",colors:["#FF6B6B","#4ECDC4","#45B7D1"],key:"bold"},{name:"Earth",colors:["#8B7355","#A8C686","#E6D5B8"],key:"earth"},{name:"Bright",colors:["#FF1493","#00CED1","#FFD700"],key:"bright"},{name:"Premium",colors:["#2C3E50","#C9A961","#1A1A2E"],key:"premium"}],jf={pastel:{primary:"#FFD1DC",secondary:"#B5EAD7",tertiary:"#C7CEEA"},bold:{primary:"#FF6B6B",secondary:"#4ECDC4",tertiary:"#45B7D1"},earth:{primary:"#8B7355",secondary:"#A8C686",tertiary:"#E6D5B8"},bright:{primary:"#FF1493",secondary:"#00CED1",tertiary:"#FFD700"},premium:{primary:"#2C3E50",secondary:"#C9A961",tertiary:"#1A1A2E"}},Ef=[{icon:"",key:"star",category:"nature"},{icon:"",key:"sun",category:"nature"},{icon:"",key:"moon",category:"nature"},{icon:"",key:"rainbow",category:"nature"},{icon:"",key:"flower",category:"nature"},{icon:"",key:"leaf",category:"nature"},{icon:"",key:"cat",category:"animals"},{icon:"",key:"dog",category:"animals"},{icon:"",key:"unicorn",category:"animals"},{icon:"",key:"butterfly",category:"animals"},{icon:"",key:"paw",category:"animals"},{icon:"",key:"heart",category:"fun"},{icon:"",key:"crown",category:"fun"},{icon:"",key:"rocket",category:"fun"},{icon:"",key:"lightning",category:"fun"},{icon:"",key:"fire",category:"fun"},{icon:"",key:"diamond",category:"shapes"},{icon:"",key:"sparkle",category:"shapes"}],Nl={EN:["Always smile when talking to customers - it makes them feel welcome! ","Keep your prices simple - round numbers are easier to remember! ","Make your booth colorful - bright colors attract attention! ","Practice explaining your product in 10 seconds or less! ","Ask your customers what they like - it helps you improve! "],BM:["Sentiasa senyum bila bercakap dengan pelanggan - mereka akan rasa dihargai! ","Pastikan harga mudah - nombor bulat lebih senang diingat! ","Jadikan gerai anda berwarna-warni - warna cerah menarik perhatian! ","Latih diri menerangkan produk dalam 10 saat! ","Tanya pelanggan apa yang mereka suka - ia membantu anda memperbaiki! "]},_0=[{icon:"",iconImageKey:"logoMaker",titleKey:"tool.logo",descKey:"tool.logo.desc",href:"/tools/logo-maker",state:"available"},{icon:"",iconImageKey:"booth",titleKey:"tool.booth",descKey:"tool.booth.desc",href:"/tools/booth-ready",state:"available"},{icon:"",iconImageKey:"calculator",titleKey:"tool.profit",descKey:"tool.profit.desc",href:"/tools/profit-calculator",state:"available"},{icon:"",iconImageKey:"salesBuddy",titleKey:"tool.salesBuddy",descKey:"tool.salesBuddy.desc",href:"/tools/sales-buddy",state:"available"}],S0=[{icon:"",iconImageKey:"productIdea",titleKey:"tool.product",descKey:"tool.product.desc",href:"#",state:"comingSoon"},{icon:"",iconImageKey:"packaging",titleKey:"tool.packaging",descKey:"tool.packaging.desc",href:"#",state:"comingSoon"}];function nu({imageUrl:s,title:r,subtitle:n,showDate:a=!1,date:l,planType:c,isSelected:h=!1,onClick:p}){return u.jsxs("div",{onClick:p,className:`group relative aspect-square bg-white rounded-2xl overflow-hidden shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-high)] transition-all hover:scale-102 cursor-pointer ${h?"ring-3 ring-[var(--sunshine-orange)] scale-105":""}`,children:[u.jsx("img",{src:s,alt:r||"Logo",className:"w-full h-full object-cover"}),c==="premium"&&u.jsx("div",{className:"absolute top-2 left-2 text-lg drop-shadow-md",children:""}),h&&u.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-[var(--sunshine-orange)] flex items-center justify-center text-white text-sm shadow-md",children:""}),u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col justify-end p-3",children:[r&&u.jsx("h4",{className:"font-bold text-white text-sm truncate",children:r}),n&&u.jsx("p",{className:"text-[10px] text-white/70 truncate",children:n}),a&&l&&u.jsx("span",{className:"text-[10px] text-white/60 mt-1",children:l}),u.jsx("span",{className:"text-white/60 text-[10px] text-center mt-2",children:"Click to view"})]})]})}function j0(){return u.jsx("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden shadow-[var(--shadow-low)] animate-pulse",children:u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-100"})})}const E0="/assets/logo-maker-Cq24m_tP.png",N0="/assets/booth-icon-Bi3aZ_Ep.png",C0="/assets/calculator-icon-DkpGyOJA.png",T0="/assets/product-idea-icon-CCXV7kmz.png",P0="/assets/packaging-icon-BSS_N8Fj.png",Ah={logoMaker:E0,booth:N0,calculator:C0,productIdea:T0,packaging:P0};function R0(s){const r=new Date(s),a=new Date().getTime()-r.getTime(),l=Math.floor(a/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l} days ago`:r.toLocaleDateString()}function O0(){var T,E,M,B;const{t:s,language:r}=xt(),{child:n,loading:a}=ln(),l=ya(),[c,h]=S.useState(0),[p,m]=S.useState([]),[y,v]=S.useState(!0),[w,b]=S.useState(null);if(S.useEffect(()=>{!a&&!n&&l("/dev/login")},[n,a,l]),S.useEffect(()=>{async function j(){if(n!=null&&n.id){v(!0);const D=await ru(n.id);m(D.slice(0,4)),v(!1);const F=await Lr("logo_maker");if(F){const G=await Hn(n.id,F.id,"premium");b(G)}}else v(!1)}j()},[n==null?void 0:n.id]),S.useEffect(()=>{const j=Math.floor((Date.now()-new Date(new Date().getFullYear(),0,0).getTime())/864e5);h(j%Nl.EN.length)},[]),a)return u.jsx("div",{className:"min-h-screen bg-sky-gradient flex items-center justify-center",children:u.jsx("div",{className:"text-2xl",children:"Loading..."})});if(!n)return null;const C={name:n.name,avatar:n.age&&n.age<10?"":"",companyName:((E=(T=n.companies)==null?void 0:T[0])==null?void 0:E.company_name)||`${n.name}'s Company`,companyLogo:((B=(M=n.companies)==null?void 0:M[0])==null?void 0:B.logo_url)||null,level:n.current_level,xp:n.total_xp},O=Nl[r]||Nl.EN;return u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:[u.jsxs(mt,{to:"/",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] hidden sm:inline",children:"Home"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Wn,{}),u.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)]",children:[u.jsx("span",{className:"text-xl",children:C.avatar}),u.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.name})]})]})]}),u.jsx("main",{className:"relative z-10 px-4 md:px-8 pb-8 pt-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("section",{className:"mb-8",children:u.jsx("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-[var(--shadow-medium)]",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[var(--sky-blue-light)] to-[var(--sky-blue)] flex items-center justify-center text-4xl shadow-[var(--shadow-float)]",children:C.companyLogo?u.jsx("img",{src:C.companyLogo,alt:"Company logo",className:"w-full h-full rounded-full object-cover"}):""}),u.jsxs("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-full bg-[var(--golden-yellow)] flex items-center justify-center text-white text-sm font-bold shadow-md",children:["Lv",C.level]})]}),u.jsxs("div",{className:"text-center md:text-left",children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-[var(--text-primary)] mb-1",children:C.companyName}),u.jsxs("p",{className:"text-[var(--text-secondary)]",children:[s("dashboard.welcome")," ",u.jsx("span",{className:"font-semibold",children:C.name}),"! "]})]}),u.jsxs("div",{className:"flex gap-3 md:ml-auto",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-[var(--sky-blue)] to-[var(--sky-blue-light)] rounded-2xl shadow-md",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-extrabold text-white leading-none",children:C.xp}),u.jsx("p",{className:"text-xs font-bold text-white/80",children:"XP"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-[var(--sunshine-orange)] to-[var(--golden-yellow)] rounded-2xl shadow-md",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-2xl font-extrabold text-white leading-none",children:[w?w.generationsRemaining===-1?"":w.generationsRemaining:"...","/",qn.premium.maxGenerations]}),u.jsx("p",{className:"text-xs font-bold text-white/80",children:"Credits"})]})]})]})]})})}),u.jsxs("div",{className:"bg-gradient-to-r from-[var(--sky-blue-light)] to-[var(--mint-green)] rounded-3xl p-6 shadow-[var(--shadow-medium)] mb-8",children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)] mb-2",children:s("dashboard.tip.title")}),u.jsx("p",{className:"text-[var(--text-primary)]",children:O[c]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] mb-6",children:[" ",s("dashboard.tools")]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:_0.map(j=>u.jsx(Rl,{icon:j.icon,iconImage:Ah[j.iconImageKey],titleKey:j.titleKey,descKey:j.descKey,href:j.href,state:j.state},j.titleKey))}),u.jsx("h3",{className:"text-lg font-bold text-[var(--text-muted)] mt-8 mb-4",children:" Coming Soon"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S0.map(j=>u.jsx(Rl,{icon:j.icon,iconImage:Ah[j.iconImageKey],titleKey:j.titleKey,descKey:j.descKey,href:j.href,state:j.state},j.titleKey))})]}),u.jsxs("section",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)]",children:[" ",s("dashboard.recent")]}),u.jsxs(mt,{to:"/creations",className:"text-sm font-semibold text-[var(--sky-blue)] hover:underline",children:[s("dashboard.seeMore")," "]})]}),y?u.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(j=>u.jsx(j0,{},j))}):p.length>0?u.jsx("div",{className:"grid grid-cols-4 gap-4",children:p.slice(0,4).map(j=>u.jsx(nu,{imageUrl:j.image_url,title:j.company_name||"My Logo",subtitle:`${j.business_type||""}  ${j.logo_style||""}`,showDate:!0,date:R0(j.created_at),planType:j.plan_type,onClick:()=>l("/creations")},j.id))}):u.jsxs("div",{className:"bg-white/50 rounded-2xl p-8 text-center",children:[u.jsx("p",{className:"text-[var(--text-muted)]",children:"No creations yet. Start by making a logo! "}),u.jsx(mt,{to:"/tools/logo-maker",className:"inline-block mt-4 px-6 py-2 bg-[var(--sky-blue)] text-white font-bold rounded-full hover:scale-105 transition-transform",children:"Create Logo"})]})]}),u.jsx(zs,{})]})})]})}function Qs({children:s,currentStep:r,totalSteps:n,toolName:a,toolIcon:l}){const{t:c}=xt(),h=r/n*100;return u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:[u.jsxs(mt,{to:"/dashboard",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-semibold text-[var(--text-primary)] text-sm",children:c("common.back")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:l}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] hidden sm:block",children:a})]}),u.jsx(Wn,{})]}),u.jsx("div",{className:"relative z-10 bg-white/50 px-4 py-3",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm font-semibold text-[var(--text-secondary)]",children:[c("wizard.step")," ",r," / ",n]}),u.jsxs("span",{className:"text-sm font-semibold text-[var(--sky-blue)]",children:[Math.round(h),"%"]})]}),u.jsx("div",{className:"h-3 bg-[var(--muted)] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-[var(--sky-blue)] to-[var(--sunshine-orange)] rounded-full transition-all duration-500 ease-out",style:{width:`${h}%`}})})]})}),u.jsx("main",{className:"relative z-10 px-4 md:px-8 py-6 md:py-8",children:s}),u.jsx(zs,{})]})}function pt({children:s,title:r,subtitle:n,icon:a}){return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-[var(--shadow-medium)] animate-fade-up",children:[u.jsxs("div",{className:"text-center mb-6",children:[a&&u.jsx("div",{className:"text-5xl mb-4",children:a}),u.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-[var(--text-primary)]",children:r}),n&&u.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:n})]}),s]})})}function Vn({icon:s,label:r,selected:n,onClick:a,disabled:l}){return u.jsxs("button",{onClick:a,disabled:l,className:`p-4 rounded-2xl border-3 transition-all duration-200 flex flex-col items-center gap-2 ${n?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-102"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[u.jsx("span",{className:"text-3xl",children:s}),u.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)] text-center",children:r})]})}function Xt({onPrevious:s,onNext:r,canGoNext:n=!0,isLastStep:a=!1,isFirstStep:l=!1,loading:c=!1,nextLabel:h}){const{t:p}=xt();return u.jsxs("div",{className:"flex items-center justify-between mt-8 gap-4",children:[l?u.jsx("div",{}):u.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-6 py-3 rounded-full bg-white border-2 border-[var(--border-light)] text-[var(--text-secondary)] font-semibold hover:border-[var(--sky-blue)] hover:text-[var(--sky-blue)] transition-all",children:[" ",p("common.previous")]}),u.jsx("button",{onClick:r,disabled:!n||c,className:`flex items-center gap-2 px-8 py-3 rounded-full font-bold text-white transition-all ${n&&!c?"bg-[var(--sky-blue)] hover:shadow-[var(--shadow-high)] hover:scale-105":"bg-[var(--text-muted)] cursor-not-allowed"}`,children:c?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin",children:""}),p("wizard.generating")]}):h||(a?u.jsxs(u.Fragment,{children:[p("common.finish")," "]}):u.jsxs(u.Fragment,{children:[p("common.next")," "]}))})]})}function su({show:s,onComplete:r}){const[n,a]=S.useState([]);return S.useEffect(()=>{if(s){const l=["","","","","","",""],c=Array.from({length:20},(p,m)=>({id:m,x:Math.random()*100,emoji:l[Math.floor(Math.random()*l.length)],delay:Math.random()*.5}));a(c);const h=setTimeout(()=>{a([]),r==null||r()},2500);return()=>clearTimeout(h)}},[s,r]),!s||n.length===0?null:u.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:n.map(l=>u.jsx("div",{className:"absolute text-3xl animate-celebration",style:{left:`${l.x}%`,top:"-50px",animationDelay:`${l.delay}s`},children:l.emoji},l.id))})}function iu({isOpen:s,imageUrl:r,title:n,subtitle:a,onClose:l,onPick:c,showPickButton:h=!1,pickButtonLabel:p="Pick This One! ",onDelete:m,showDeleteButton:y=!1}){const[v,w]=S.useState(100),[b,C]=S.useState({x:0,y:0}),[O,T]=S.useState(!1),[E,M]=S.useState({x:0,y:0});if(!s)return null;const B=()=>w(pe=>Math.min(pe+25,300)),j=()=>w(pe=>Math.max(pe-25,50)),D=pe=>{pe.preventDefault(),pe.deltaY<0?B():j()},F=pe=>{v>100&&(T(!0),M({x:pe.clientX-b.x,y:pe.clientY-b.y}))},G=pe=>{O&&C({x:pe.clientX-E.x,y:pe.clientY-E.y})},oe=()=>T(!1),ye=pe=>{pe.target===pe.currentTarget&&l()},xe=()=>{const pe=document.createElement("a");pe.href=r,pe.download=`logo-${Date.now()}.webp`,pe.target="_blank",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},Ce=()=>{w(100),C({x:0,y:0})};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:ye,children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-lg w-full shadow-2xl relative",onClick:pe=>pe.stopPropagation(),children:[u.jsx("button",{onClick:l,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-xl transition-colors z-10",children:""}),(n||a)&&u.jsxs("div",{className:"mb-4 pr-12",children:[n&&u.jsx("h3",{className:"font-bold text-lg text-[var(--text-primary)] truncate",children:n}),a&&u.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:a})]}),u.jsxs("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden border-3 border-[var(--sky-blue)] bg-gray-100 cursor-grab active:cursor-grabbing",onWheel:D,onMouseDown:F,onMouseMove:G,onMouseUp:oe,onMouseLeave:oe,children:[u.jsx("img",{src:r,alt:"Zoomed logo",className:"w-full h-full object-contain select-none",style:{transform:`scale(${v/100}) translate(${b.x/(v/100)}px, ${b.y/(v/100)}px)`,transition:O?"none":"transform 0.2s ease-out"},draggable:!1}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-black/60 rounded-full px-3 py-2",children:[u.jsx("button",{onClick:j,className:"w-8 h-8 rounded-full bg-white/20 hover:bg-white/40 flex items-center justify-center text-white transition-colors text-sm",children:""}),u.jsxs("button",{onClick:Ce,className:"text-white text-sm font-semibold min-w-[50px] text-center hover:bg-white/20 rounded px-1",children:[v,"%"]}),u.jsx("button",{onClick:B,className:"w-8 h-8 rounded-full bg-white/20 hover:bg-white/40 flex items-center justify-center text-white transition-colors text-sm",children:""})]})]}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx("button",{onClick:xe,className:"flex-1 px-4 py-3 rounded-full bg-gray-100 text-[var(--text-primary)] font-bold hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:" Download"}),h&&c&&u.jsx("button",{onClick:c,className:"flex-1 px-4 py-3 rounded-full bg-[var(--sunshine-orange)] text-white font-bold hover:scale-105 transition-transform",children:p})]}),y&&m&&u.jsx("button",{onClick:m,className:"w-full mt-3 px-4 py-2.5 rounded-full border-2 border-red-400 text-red-500 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:" Delete Logo"})]})})}function A0(){var ut;const{t:s}=xt(),{child:r,updateCompanyLogoUrl:n}=ln(),[a,l]=S.useState(1),[c,h]=S.useState(null),[p,m]=S.useState(""),[y,v]=S.useState(""),[w,b]=S.useState(""),[C,O]=S.useState(""),[T,E]=S.useState(""),[M,B]=S.useState([]),[j,D]=S.useState(""),[F,G]=S.useState(""),[oe,ye]=S.useState(!1),[xe,Ce]=S.useState([]),[pe,te]=S.useState([]),[me,_e]=S.useState(null),[je,Se]=S.useState(!1),[we,V]=S.useState(null),[ae,H]=S.useState([0,0,0]);S.useEffect(()=>{async function K(){if(r!=null&&r.id)try{const se=await Lr("logo_maker");if(se){const ve=await Hn(r.id,se.id,"premium");h(ve.generationsRemaining)}}catch(se){console.warn("Failed to fetch premium credits:",se)}}K()},[r==null?void 0:r.id]);const[N,P]=S.useState(!1),[J,ee]=S.useState(null),le=K=>{ee(K),P(!0)},fe=()=>{P(!1),ee(null)},L=K=>{_e(K),fe()},q=async(K,se)=>{if(K==="batch"){let Fe=0;for(;Fe<120;){const Oe=await(await fetch(`/api/check-status?id=${se[0]}`)).json();if(H([Oe.progress,Oe.progress,Oe.progress]),Oe.status==="succeeded"&&Oe.output)return Oe.output;if(Oe.status==="failed")throw new Error(Oe.error||"Generation failed");await new Promise(Ye=>setTimeout(Ye,1e3)),Fe++}throw new Error("Generation timed out")}else{const Fe=se.map(()=>null);let tt=0;for(H(se.map(()=>0));tt<120&&Fe.some(Oe=>Oe===null);){const Oe=se.map(async(Ye,gt)=>{if(Fe[gt])return;const zt=await(await fetch(`/api/check-status?id=${Ye}`)).json();if(H(Ys=>{const Jn=[...Ys];return Jn[gt]=zt.progress,Jn}),zt.status==="succeeded"&&zt.output)Fe[gt]=Array.isArray(zt.output)?zt.output[0]:zt.output;else if(zt.status==="failed")throw new Error(`Generation failed: ${zt.error}`)});if(await Promise.all(Oe),Fe.every(Ye=>Ye!==null))break;await new Promise(Ye=>setTimeout(Ye,1e3)),tt++}if(Fe.some(Oe=>Oe===null))throw new Error("Generation timed out");return Fe}},ne=async K=>{const se=[];for(let ve=0;ve<K.length;ve++)try{const Qe=await fetch("/api/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempUrl:K[ve],childId:(r==null?void 0:r.id)||"anonymous",filename:`logo-${Date.now()}-${ve}`})});if(Qe.ok){const{permanentUrl:Fe}=await Qe.json();se.push(Fe)}else console.warn("Upload failed, using temp URL"),se.push(K[ve])}catch(Qe){console.warn("Upload error, using temp URL:",Qe),se.push(K[ve])}return se},be=async K=>{if(r!=null&&r.id)try{const se=await Lr("logo_maker");if(se){const ve=jf[T]||{primary:"#6B4EFF",secondary:"#FFD54F",tertiary:"#45B7D1"},Qe=K.map(tt=>({child_id:r.id,tool_id:se.id,plan_type:F,company_name:p,business_type:y,logo_style:w,vibe:C,color_palette:{preset:T,primary:ve.primary,secondary:ve.secondary,tertiary:ve.tertiary},slogan:j||null,symbol:M.length>0?M.join(","):null,image_url:tt.imageUrl,is_selected:!1})),Fe=await tu(Qe);Fe&&(te(Fe.map(tt=>tt.id)),console.log(" Logos saved to Supabase",Fe.map(tt=>tt.id)))}}catch(se){console.warn("Failed to save logos to DB:",se)}},qe=async()=>{var K,se;if(a===4&&F){if(F==="premium"&&c!==null&&c<=0){V("You have used all your premium generations. Please use the Free option.");return}ye(!0),V(null),Ce([]),H(F==="premium"?[0]:[0,0,0]),l(5);try{const ve=await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logoWizardData:{businessName:p,businessType:y,logoStyle:w,vibe:C,colorPalette:T,icons:M,slogan:j},plan:F})});if(!ve.ok){const gt=await ve.json();throw new Error(gt.error||"Failed to start generation")}const{mode:Qe,ids:Fe}=await ve.json(),tt=await q(Qe,Fe),Oe=await ne(tt),Ye=Oe.map((gt,$r)=>({id:`logo-${Date.now()}-${$r}`,imageUrl:gt,prompt:"",createdAt:new Date().toISOString(),plan:F}));if(Ce(Ye),await be(Ye),F==="premium"&&(r!=null&&r.id)){const gt=await Lr("logo_maker");if(gt){await eu(r.id,gt.id,"premium",Oe.length);const $r=await Hn(r.id,gt.id,"premium");h($r.generationsRemaining)}}ye(!1),l(6)}catch(ve){console.error("Error generating logos:",ve),V(ve instanceof Error?ve.message:"Failed to generate logos"),ye(!1),l(4)}}else if(a===6&&me!==null){if(r!=null&&r.id&&pe[me]&&((se=(K=r.companies)==null?void 0:K[0])!=null&&se.id))try{await ba(r.id,pe[me],xe[me].imageUrl,r.companies[0].id),n(xe[me].imageUrl),console.log(" Logo selection saved to DB and localStorage")}catch(ve){console.warn("Failed to update logo selection:",ve)}Se(!0),l(7)}else l(a+1)},Be=()=>a===1?p.trim()!==""&&y!=="":a===2?w!==""&&C!==""&&T!=="":a===3?!0:a===4?F!=="":a===6?me!==null:!0;return u.jsxs(Qs,{currentStep:a,totalSteps:7,toolName:s("tool.logo"),toolIcon:"",children:[u.jsx(su,{show:je}),a===1&&u.jsxs(pt,{title:s("logo.step1.title"),subtitle:s("logo.step1.subtitle"),icon:"",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-2",children:s("logo.shopName")}),u.jsx("input",{type:"text",value:p,onChange:K=>m(K.target.value),placeholder:s("logo.shopName.placeholder"),className:"w-full px-4 py-3 rounded-2xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:outline-none transition-colors text-[var(--text-primary)]",maxLength:30})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.businessType")}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3",children:bf.map(K=>u.jsx(Vn,{icon:K.icon,label:s(`logo.type.${K.key}`),selected:y===K.key,onClick:()=>v(K.key)},K.key))})]})]}),u.jsx(Xt,{onNext:qe,canGoNext:Be(),isFirstStep:!0})]}),a===2&&u.jsxs(pt,{title:s("logo.step2.title"),subtitle:s("logo.step2.subtitle"),icon:"",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.style")}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:kf.map(K=>u.jsx(Vn,{icon:K.icon,label:s(`logo.style.${K.key}`),selected:w===K.key,onClick:()=>b(K.key)},K.key))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.vibe")}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:_f.map(K=>u.jsx(Vn,{icon:K.icon,label:s(`logo.vibe.${K.key}`),selected:C===K.key,onClick:()=>O(K.key)},K.key))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.colors")}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:Sf.map(K=>u.jsxs("button",{onClick:()=>E(K.key),className:`p-3 rounded-2xl border-3 transition-all duration-200 ${T===K.key?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-102"}`,children:[u.jsx("div",{className:"flex gap-1 justify-center mb-2",children:K.colors.map((se,ve)=>u.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:se}},ve))}),u.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)]",children:K.name})]},K.key))})]})]}),u.jsx(Xt,{onPrevious:()=>l(1),onNext:qe,canGoNext:Be()})]}),a===3&&u.jsxs(pt,{title:s("logo.step3.title"),subtitle:s("logo.step3.subtitle"),icon:"",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:[s("logo.symbol")," (",s("common.optional"),")"]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:[" Nature"," Animals"," Fun"," Shapes"].map((K,se)=>u.jsx("span",{className:"text-xs font-medium text-[var(--text-secondary)] bg-[var(--bg-soft)] px-2 py-1 rounded-full",children:K},se))}),u.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ef.map(K=>{const se=M.includes(K.key),ve=M.length<3||se;return u.jsx("button",{onClick:()=>{se?B(M.filter(Qe=>Qe!==K.key)):ve&&B([...M,K.key])},disabled:!ve,className:`p-2.5 rounded-xl text-2xl transition-all duration-200 border-2 ${se?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-110 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":ve?"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-105":"border-[var(--border-light)] bg-gray-100 opacity-50 cursor-not-allowed"}`,title:K.key,children:K.icon},K.key)})}),u.jsxs("p",{className:"text-xs text-[var(--text-secondary)] mt-2",children:[M.length,"/3 selected ",M.length>0&&`(${M.join(", ")})`]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-2",children:[s("logo.slogan")," (",s("common.optional"),")"]}),u.jsx("input",{type:"text",value:j,onChange:K=>D(K.target.value),placeholder:s("logo.slogan.placeholder"),className:"w-full px-4 py-3 rounded-2xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:outline-none transition-colors text-[var(--text-primary)]",maxLength:50})]})]}),u.jsx(Xt,{onPrevious:()=>l(2),onNext:qe,canGoNext:Be()})]}),a===4&&u.jsxs(pt,{title:"Choose Your Creation Mode",subtitle:"Pick how you want your logo to be created",icon:"",children:[we&&u.jsxs("div",{className:"mb-6 p-4 bg-[#fff0f0] border-2 border-red-200 rounded-2xl flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-red-600 text-sm font-medium",children:we})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("button",{onClick:()=>G("free"),className:`relative p-6 rounded-3xl border-3 transition-all duration-300 text-left ${F==="free"?"border-[var(--mint-green)] bg-gradient-to-br from-[#f0fff4] to-[#e6fff0] scale-[1.02] shadow-[0_8px_32px_rgba(168,230,207,0.4)]":"border-[var(--border-light)] bg-white hover:border-[var(--mint-green)] hover:shadow-lg"}`,children:[u.jsx("div",{className:"absolute -top-3 left-4",children:u.jsx("span",{className:"px-3 py-1 bg-[var(--mint-green)] text-white text-xs font-bold rounded-full",children:"FREE"})}),u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--mint-green)] to-[#6cc9a8] flex items-center justify-center text-3xl mb-4 shadow-md",children:""}),u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Quick & Easy"}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"Great for exploring ideas! Get 3 logo variations quickly."}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[var(--mint-green)]",children:""}),"3 logo options per generation"]}),u.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[var(--mint-green)]",children:""}),"Fast results (~15 seconds)"]}),u.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[var(--mint-green)]",children:""}),"Unlimited generations"]})]}),F==="free"&&u.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[var(--mint-green)] flex items-center justify-center text-white text-lg",children:""})]}),(()=>{const K=c!==null&&c<=0;return u.jsxs("button",{onClick:()=>!K&&G("premium"),disabled:K,className:`relative p-6 rounded-3xl border-3 transition-all duration-300 text-left ${K?"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60":F==="premium"?"border-[var(--golden-yellow)] bg-gradient-to-br from-[#fffef0] to-[#fff8e0] scale-[1.02] shadow-[0_8px_32px_rgba(255,200,80,0.4)]":"border-[var(--border-light)] bg-white hover:border-[var(--golden-yellow)] hover:shadow-lg"}`,children:[u.jsx("div",{className:"absolute -top-3 left-4",children:u.jsx("span",{className:`px-3 py-1 text-white text-xs font-bold rounded-full ${K?"bg-gray-400":"bg-gradient-to-r from-[var(--golden-yellow)] to-[var(--sunshine-orange)]"}`,children:K?"OUT OF CREDITS":"PREMIUM "})}),u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-3xl mb-4 shadow-md ${K?"bg-gray-300":"bg-gradient-to-br from-[var(--golden-yellow)] to-[var(--sunshine-orange)]"}`,children:K?"":""}),u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Premium Quality"}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:K?"You've used all your premium generations.":"Professional-grade logo with superior text and detail quality."}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[var(--golden-yellow)]",children:""}),"1 high-quality logo per generation"]}),u.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[var(--golden-yellow)]",children:""}),"Best text & typography rendering"]}),u.jsxs("li",{className:"flex items-center gap-2 font-semibold",children:[u.jsx("span",{className:"text-[var(--golden-yellow)]",children:""}),c!==null?u.jsxs("span",{className:c>0?"text-[var(--mint-green)]":"text-red-500",children:[c," of ",qn.premium.maxGenerations," generations left"]}):u.jsxs("span",{className:"text-[var(--text-secondary)]",children:[qn.premium.maxGenerations," generations included"]})]})]}),F==="premium"&&!K&&u.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[var(--golden-yellow)] flex items-center justify-center text-white text-lg",children:""})]})})()]}),u.jsx(Xt,{onPrevious:()=>l(3),onNext:qe,canGoNext:Be(),nextLabel:"Generate Logos "})]}),a===5&&oe&&u.jsx(pt,{title:s("logo.generating.title"),subtitle:s("logo.generating.subtitle"),icon:"",children:u.jsxs("div",{className:"flex flex-col items-center py-4",children:[u.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-6",children:F==="premium"?"Creating premium-quality logos with enhanced details...":"Generating creative logo ideas..."}),u.jsx("div",{className:`grid gap-6 w-full ${F==="premium"?"grid-cols-1 max-w-xs mx-auto":"grid-cols-3"}`,children:(F==="premium"?[0]:[0,1,2]).map(K=>{const se=ae[K]||0,ve=2*Math.PI*45,Qe=ve-se/100*ve;return u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative w-28 h-28",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"56",cy:"56",r:"45",fill:"none",stroke:"var(--border-light)",strokeWidth:"8"}),u.jsx("circle",{cx:"56",cy:"56",r:"45",fill:"none",stroke:F==="premium"?"var(--golden-yellow)":"var(--sky-blue)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:ve,strokeDashoffset:Qe,style:{transition:"stroke-dashoffset 0.3s ease-out"}})]}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:se<100?u.jsx(u.Fragment,{children:u.jsxs("span",{className:"text-2xl font-bold text-[var(--text-primary)]",children:[se,"%"]})}):u.jsx("div",{className:`text-3xl ${F==="premium"?"text-[var(--golden-yellow)]":"text-[var(--sky-blue)]"}`,children:""})})]}),u.jsx("span",{className:"mt-3 text-sm font-semibold text-[var(--text-primary)]",children:F==="premium"?"Premium Logo":`Logo ${K+1}`})]},K)})})]})}),a===6&&xe.length>0&&u.jsxs(pt,{title:s("logo.step5.title"),subtitle:s("logo.step5.subtitle"),icon:"",children:[u.jsx("div",{className:`grid gap-4 ${xe.length===1?"grid-cols-1 max-w-xs mx-auto":"grid-cols-1 sm:grid-cols-3"}`,children:xe.map((K,se)=>u.jsx(nu,{imageUrl:K.imageUrl,title:xe.length===1?"Your Premium Logo":`Option ${se+1}`,isSelected:me===se,onClick:()=>le(se)},K.id))}),u.jsx("div",{className:"flex justify-center mt-4",children:u.jsx("button",{onClick:async()=>{_e(null),Ce([]),l(4),await new Promise(K=>setTimeout(K,50)),l(5),ye(!0),V(null),H(F==="premium"?[0]:[0,0,0]);try{const K=await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logoWizardData:{businessName:p,businessType:y,logoStyle:w,vibe:C,colorPalette:T,icons:M,slogan:j},plan:F})});if(!K.ok)throw new Error("Failed to start regeneration");const{mode:se,ids:ve}=await K.json(),Qe=await q(se,ve),tt=(await ne(Qe)).map((Oe,Ye)=>({id:`logo-${Date.now()}-${Ye}`,imageUrl:Oe,prompt:"",createdAt:new Date().toISOString(),plan:F}));Ce(tt),await be(tt),ye(!1),l(6)}catch(K){console.error("Regeneration error:",K),V(K instanceof Error?K.message:"Regeneration failed"),ye(!1),l(6)}},className:"px-5 py-2.5 rounded-full border-2 border-[var(--sky-blue)] text-[var(--sky-blue)] font-semibold hover:bg-[var(--sky-blue)]/10 transition-colors flex items-center gap-2",children:" Generate Again"})}),u.jsx(Xt,{onPrevious:()=>l(4),onNext:qe,canGoNext:Be()})]}),J!==null&&u.jsx(iu,{isOpen:N,imageUrl:((ut=xe[J])==null?void 0:ut.imageUrl)||"",title:`Option ${J+1}`,onClose:fe,showPickButton:!0,pickButtonLabel:"Pick This One! ",onPick:()=>L(J)}),a===7&&me!==null&&u.jsx(pt,{title:s("logo.step6.title"),subtitle:s("logo.step6.subtitle"),icon:"",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-48 h-48 rounded-3xl bg-white shadow-[var(--shadow-high)] flex items-center justify-center mb-6 border-3 border-[var(--sunshine-orange)] overflow-hidden",children:u.jsx("img",{src:xe[me].imageUrl,alt:"Selected logo",className:"w-full h-full object-cover"})}),u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:p}),j&&u.jsxs("p",{className:"text-[var(--text-secondary)] mb-4",children:['"',j,'"']}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{className:"px-6 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)]",children:[s("logo.download")," "]}),u.jsxs(mt,{to:"/dashboard",className:"px-6 py-3 rounded-full bg-white text-[var(--text-primary)] font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)]",children:[s("logo.backToDashboard")," "]})]})]})})]})}function I0(){xt();const{child:s,updateCompanyLogoUrl:r}=ln(),[n,a]=S.useState(""),[l,c]=S.useState(""),[h,p]=S.useState(""),[m,y]=S.useState(""),[v,w]=S.useState(""),[b,C]=S.useState([]),[O,T]=S.useState(""),[E,M]=S.useState(!1),[B,j]=S.useState([]),[D,F]=S.useState(null),[G,oe]=S.useState(null),[ye,xe]=S.useState([]),[Ce,pe]=S.useState(!1),[te,me]=S.useState(null),[_e,je]=S.useState(!1),[Se,we]=S.useState(null);S.useEffect(()=>{async function L(){if(s!=null&&s.id)try{const q=await Lr("logo_maker");if(q){const ne=await Hn(s.id,q.id,"premium");me(ne.generationsRemaining)}}catch(q){console.warn("Failed to fetch premium credits:",q)}}L()},[s==null?void 0:s.id]);const V=async(L,q)=>{let be=0;for(;be<120;){const Be=await(await fetch(`/api/check-status?id=${L}`)).json();if(Be.status==="succeeded"&&Be.output)return Array.isArray(Be.output)?Be.output[0]:Be.output;if(Be.status==="failed"||Be.status==="canceled")throw new Error(Be.error||"Generation failed");Be.progress||Math.min(90,10+be/120*80),await new Promise(ut=>setTimeout(ut,1e3)),be++}return null},ae=async L=>{const q=[];for(let ne=0;ne<L.length;ne++)try{const be=await fetch("/api/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempUrl:L[ne],childId:(s==null?void 0:s.id)||"anonymous",filename:`logo-${Date.now()}-${ne}`})});if(be.ok){const{permanentUrl:qe}=await be.json();q.push(qe)}else q.push(L[ne])}catch{q.push(L[ne])}return q},H=async(L,q)=>{if(!(s!=null&&s.id))return;const ne=jf[v]||{primary:"#60b5f4",secondary:"#ffb84d",tertiary:"#a8e6cf"};try{const be=await Lr("logo_maker");if(!be)return;const qe=L.map(ut=>({child_id:s.id,tool_id:be.id,plan_type:q,company_name:n,business_type:l||null,logo_style:h||null,vibe:m||null,color_palette:{preset:v,primary:ne.primary,secondary:ne.secondary,tertiary:ne.tertiary},slogan:O||null,symbol:b.length>0?b.join(","):null,image_url:ut.imageUrl,is_selected:!1})),Be=await tu(qe);Be&&xe(Be.map(ut=>ut.id))}catch(be){console.warn("Failed to save logos to DB:",be)}},N=async L=>{if(!n.trim()){oe("Please enter a business name");return}if(L==="premium"&&te!==null&&te<=0){oe("You have used all your premium generations.");return}M(!0),oe(null),j([]),F(null);try{const q=await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logoWizardData:{businessName:n,businessType:l,logoStyle:h,vibe:m,colorPalette:v,icons:b,slogan:O},plan:L})});if(!q.ok){const se=await q.json();throw new Error(se.error||"Failed to start generation")}const{mode:ne,ids:be}=await q.json(),qe=[];if(ne==="batch"){const se=await V(be[0]);se&&(Array.isArray(se)?qe.push(...se):qe.push(se))}else for(const se of be){const ve=await V(se);qe.push(ve)}const Be=qe.filter(Boolean);if(Be.length===0)throw new Error("No logos generated");const ut=await ae(Be),K=ut.map((se,ve)=>({id:`logo-${Date.now()}-${ve}`,imageUrl:se,prompt:"",createdAt:new Date().toISOString(),plan:L}));if(j(K),await H(K,L),L==="premium"&&(s!=null&&s.id)){const se=await Lr("logo_maker");if(se){await eu(s.id,se.id,"premium",ut.length);const ve=await Hn(s.id,se.id,"premium");me(ve.generationsRemaining)}}M(!1)}catch(q){console.error("Error generating logos:",q),oe(q instanceof Error?q.message:"Failed to generate logos"),M(!1)}},P=async L=>{var q,ne;if(F(L),s!=null&&s.id&&ye[L]&&((ne=(q=s.companies)==null?void 0:q[0])!=null&&ne.id))try{await ba(s.id,ye[L],B[L].imageUrl,s.companies[0].id),r(B[L].imageUrl),pe(!0),setTimeout(()=>pe(!1),3e3)}catch(be){console.warn("Failed to update logo selection:",be)}},J=L=>{we(L),je(!0)},ee=()=>{je(!1),we(null)},le=n.trim()!=="",fe=te!==null&&te<=0;return u.jsxs("div",{className:"min-h-screen bg-[linear-gradient(180deg,#e8f4fc_0%,#f0f8ff_50%,#fff9e6_100%)]",children:[u.jsx(su,{show:Ce,onComplete:()=>pe(!1)}),u.jsx("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm border-b border-[var(--border-light)]",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(mt,{to:"/dashboard",className:"px-4 py-2 bg-white rounded-full shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-shadow text-[var(--text-secondary)] font-semibold",children:" Back"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-3xl",children:""}),u.jsx("span",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Logo Maker Studio"})]})]}),te!==null&&u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-[var(--shadow-low)]",children:[u.jsx("span",{className:"text-lg",children:""}),u.jsxs("span",{className:`font-bold ${te>0?"text-[var(--mint-green)]":"text-red-500"}`,children:[te,"/",qn.premium.maxGenerations," Premium"]})]})]})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" Business Name"}),u.jsx("input",{type:"text",value:n,onChange:L=>a(L.target.value),placeholder:"e.g., Rainbow Stars",className:"w-full px-4 py-3 rounded-2xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:outline-none transition-colors text-[var(--text-primary)]",maxLength:30})]}),u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" What do you sell?"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:bf.map(L=>u.jsx("button",{onClick:()=>c(l===L.key?"":L.key),className:`p-3 rounded-xl text-2xl transition-all duration-200 border-2 ${l===L.key?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)]"}`,title:L.key,children:L.icon},L.key))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" Logo Style"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:kf.map(L=>u.jsx("button",{onClick:()=>p(h===L.key?"":L.key),className:`p-3 rounded-xl text-2xl transition-all duration-200 border-2 ${h===L.key?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)]"}`,title:L.key,children:L.icon},L.key))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" Vibe"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:_f.map(L=>u.jsx("button",{onClick:()=>y(m===L.key?"":L.key),className:`p-3 rounded-xl text-2xl transition-all duration-200 border-2 ${m===L.key?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)]"}`,title:L.key,children:L.icon},L.key))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" Colors"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:Sf.map(L=>u.jsx("button",{onClick:()=>w(v===L.key?"":L.key),className:`relative p-2 rounded-xl transition-all duration-200 border-2 ${v===L.key?"border-[var(--sunshine-orange)] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] hover:border-[var(--sky-blue)]"}`,children:u.jsx("div",{className:"flex gap-1 justify-center",children:L.colors.map((q,ne)=>u.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:q}},ne))})},L.key))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" Add Icons (up to 3)"}),u.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ef.map(L=>{const q=b.includes(L.key),ne=b.length<3||q;return u.jsx("button",{onClick:()=>{q?C(b.filter(be=>be!==L.key)):ne&&C([...b,L.key])},disabled:!ne,className:`p-2 rounded-xl text-xl transition-all duration-200 border-2 ${q?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-110":ne?"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)]":"border-[var(--border-light)] bg-gray-100 opacity-50 cursor-not-allowed"}`,title:L.key,children:L.icon},L.key)})}),u.jsxs("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:[b.length,"/3 selected"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-primary)] mb-2",children:" Slogan (optional)"}),u.jsx("input",{type:"text",value:O,onChange:L=>T(L.target.value),placeholder:"e.g., Play with magic!",className:"w-full px-4 py-3 rounded-2xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:outline-none transition-colors text-[var(--text-primary)]",maxLength:50})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-6 space-y-3",children:[G&&u.jsx("div",{className:"p-4 bg-[#fff0f0] border-2 border-red-200 rounded-2xl text-red-600 text-sm",children:G}),u.jsx("button",{onClick:()=>N("free"),disabled:!le||E,className:`w-full py-4 rounded-full font-bold text-lg transition-all duration-200 flex items-center justify-center gap-2 ${le&&!E?"bg-[var(--mint-green)] text-white hover:scale-[1.02] shadow-[var(--shadow-medium)]":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:E?" Creating...":" Generate Free (3 logos)"}),u.jsx("button",{onClick:()=>N("premium"),disabled:!le||E||fe,className:`w-full py-4 rounded-full font-bold text-lg transition-all duration-200 flex items-center justify-center gap-2 ${fe?"bg-gray-200 text-gray-400 cursor-not-allowed":le&&!E?"bg-gradient-to-r from-[var(--golden-yellow)] to-[var(--sunshine-orange)] text-white hover:scale-[1.02] shadow-[var(--shadow-medium)]":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:fe?" Out of Premium Credits":E?" Creating...":" Generate Premium (1 logo)"})]})]}),u.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:" Preview"}),u.jsx("div",{className:"p-4 bg-[var(--bg-soft)] rounded-2xl",children:u.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[n&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[" ",n]}),l&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[" ",l]}),h&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[" ",h]}),m&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[" ",m]}),v&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[" ",v]}),b.length>0&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[" ",b.join(", ")]}),O&&u.jsxs("span",{className:"px-3 py-1 bg-white rounded-full shadow-sm",children:[' "',O,'"']}),!n&&u.jsx("span",{className:"text-[var(--text-secondary)]",children:"Start by entering your business name..."})]})})]}),E&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:" Creating your logos..."}),u.jsx("div",{className:"flex justify-center py-8",children:u.jsxs("div",{className:"relative w-24 h-24",children:[u.jsxs("svg",{className:"w-full h-full animate-spin",viewBox:"0 0 100 100",children:[u.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"var(--border-light)",strokeWidth:"8"}),u.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"var(--sky-blue)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"251",strokeDashoffset:"188"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-3xl",children:""})]})})]}),B.length>0&&!E&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:" Your Logos"}),u.jsx("div",{className:`grid gap-4 ${B.length===1?"grid-cols-1 max-w-xs mx-auto":"grid-cols-3"}`,children:B.map((L,q)=>u.jsxs("div",{className:`relative rounded-2xl overflow-hidden border-3 cursor-pointer transition-all duration-200 ${D===q?"border-[var(--sunshine-orange)] scale-105 shadow-[0_8px_32px_rgba(255,184,77,0.4)]":"border-[var(--border-light)] hover:border-[var(--sky-blue)] hover:scale-[1.02]"}`,onClick:()=>J(q),children:[u.jsx("img",{src:L.imageUrl,alt:`Logo option ${q+1}`,className:"w-full aspect-square object-cover"}),D===q&&u.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-[var(--sunshine-orange)] flex items-center justify-center text-white",children:""}),u.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:u.jsx("button",{onClick:ne=>{ne.stopPropagation(),P(q)},className:`w-full py-2 rounded-full text-sm font-bold transition-all ${D===q?"bg-[var(--sunshine-orange)] text-white":"bg-white/90 text-[var(--text-primary)] hover:bg-[var(--sky-blue)] hover:text-white"}`,children:D===q?" Selected!":"Pick This!"})})]},L.id))})]}),D!==null&&B[D]&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:" Your Logo is Ready!"}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-32 h-32 rounded-2xl overflow-hidden border-3 border-[var(--sunshine-orange)] shadow-lg mb-4",children:u.jsx("img",{src:B[D].imageUrl,alt:"Selected logo",className:"w-full h-full object-cover"})}),u.jsx("p",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:n}),O&&u.jsxs("p",{className:"text-[var(--text-secondary)] mb-4",children:['"',O,'"']}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{className:"px-6 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-transform",children:" Download"}),u.jsx(mt,{to:"/dashboard",className:"px-6 py-3 rounded-full bg-white text-[var(--text-primary)] font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)]",children:" Dashboard"})]})]})]}),B.length===0&&!E&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] p-12 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Ready to create your logo!"}),u.jsx("p",{className:"text-[var(--text-secondary)]",children:"Fill in your business details on the left and click Generate"})]})]})]})}),Se!==null&&B[Se]&&u.jsx(iu,{isOpen:_e,imageUrl:B[Se].imageUrl,title:`Option ${Se+1}`,onClose:ee,showPickButton:!0,pickButtonLabel:"Pick This One! ",onPick:()=>{P(Se),ee()}})]})}const B0=[{icon:"",key:"food"},{icon:"",key:"crafts"},{icon:"",key:"games"},{icon:"",key:"books"},{icon:"",key:"toys"}],M0=[{icon:"",key:"low",range:"RM10-30"},{icon:"",key:"medium",range:"RM30-50"},{icon:"",key:"high",range:"RM50+"}],L0=[{icon:"",key:"diy"},{icon:"",key:"resale"},{icon:"",key:"both"}],Ih={food:[{name:"Mini Cupcakes",desc:"Colorful cupcakes with fun toppings!",tip:"Add edible glitter for extra wow!"},{name:"Cookie Pops",desc:"Cookies on sticks - easy to eat!",tip:"Wrap in clear bags with ribbons"},{name:"Fruit Cups",desc:"Fresh fruit in cute cups!",tip:"Use star-shaped cutters for fruits"}],crafts:[{name:"Friendship Bracelets",desc:"Handmade woven bracelets!",tip:"Offer custom name options"},{name:"Bookmarks",desc:"Decorated bookmarks for readers!",tip:"Add tassels for a premium feel"},{name:"Keychains",desc:"Fun beaded keychains!",tip:"Make themed sets for better sales"}],games:[{name:"Lucky Dip Bags",desc:"Mystery bags with small toys!",tip:"Different price tiers work great"},{name:"Spin & Win Game",desc:"A spinning wheel with prizes!",tip:"Make sure prizes cost less than plays"},{name:"Ring Toss Game",desc:"Classic carnival ring toss!",tip:"Offer 3 tries per token"}],books:[{name:"Story Bookmarks",desc:"Bookmarks with mini stories!",tip:"Write original short tales"},{name:"Comic Strips",desc:"Original mini comics!",tip:"Make a series for repeat customers"},{name:"Quote Cards",desc:"Inspiring quote cards!",tip:"Add colorful illustrations"}],toys:[{name:"Slime Jars",desc:"Colorful homemade slime!",tip:"Add glitter or beads for variety"},{name:"Stress Balls",desc:"Squeezy stress relievers!",tip:"Make different shapes and faces"},{name:"Origami Figures",desc:"Folded paper creations!",tip:"Offer a how-to guide too"}]};function $0(){const{t:s}=xt(),[r,n]=S.useState(1),[a,l]=S.useState(""),[c,h]=S.useState(""),[p,m]=S.useState(""),[y,v]=S.useState(!1),[w,b]=S.useState([]),[C,O]=S.useState(null),[T,E]=S.useState(!1),M=async()=>{r===3?(v(!0),await new Promise(j=>setTimeout(j,1500)),b(Ih[a]||Ih.food),v(!1),n(4)):r===4&&C!==null?E(!0):n(r+1)},B=()=>r===1?a!=="":r===2?c!=="":r===3?p!=="":r===4?C!==null:!0;return u.jsxs(Qs,{currentStep:r,totalSteps:4,toolName:s("tool.product"),toolIcon:"",children:[u.jsx(su,{show:T}),r===1&&u.jsxs(pt,{title:s("product.step1.title"),subtitle:s("product.step1.subtitle"),icon:"",children:[u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-4",children:B0.map(j=>u.jsx(Vn,{icon:j.icon,label:s(`product.interest.${j.key}`),selected:a===j.key,onClick:()=>l(j.key)},j.key))}),u.jsx(Xt,{onNext:M,canGoNext:B(),isFirstStep:!0})]}),r===2&&u.jsxs(pt,{title:s("product.step2.title"),subtitle:s("product.step2.subtitle"),icon:"",children:[u.jsx("div",{className:"grid grid-cols-3 gap-4",children:M0.map(j=>u.jsx(Vn,{icon:j.icon,label:`${s(`product.budget.${j.key}`)}
${j.range}`,selected:c===j.key,onClick:()=>h(j.key)},j.key))}),u.jsx(Xt,{onPrevious:()=>n(1),onNext:M,canGoNext:B()})]}),r===3&&u.jsxs(pt,{title:s("product.step3.title"),subtitle:s("product.step3.subtitle"),icon:"",children:[u.jsx("div",{className:"grid grid-cols-3 gap-4",children:L0.map(j=>u.jsx(Vn,{icon:j.icon,label:s(`product.type.${j.key}`),selected:p===j.key,onClick:()=>m(j.key)},j.key))}),u.jsx(Xt,{onPrevious:()=>n(2),onNext:M,canGoNext:B(),loading:y})]}),r===4&&u.jsxs(pt,{title:s("product.step4.title"),subtitle:s("product.step4.subtitle"),icon:"",children:[u.jsx("div",{className:"space-y-4",children:w.map((j,D)=>u.jsx("button",{onClick:()=>O(D),className:`w-full text-left p-4 rounded-2xl border-3 transition-all ${C===D?"border-[var(--sunshine-orange)] bg-[var(--sunshine-orange)]/10":"border-[var(--border)] bg-white hover:border-[var(--sky-blue)]"}`,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-[var(--sky-blue-light)] flex items-center justify-center text-2xl flex-shrink-0",children:D===0?"":D===1?"":""}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)]",children:j.name}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:j.desc}),u.jsxs("p",{className:"text-xs text-[var(--sunshine-orange)] mt-2 font-semibold",children:["Tip: ",j.tip]})]})]})},D))}),u.jsx(Xt,{onPrevious:()=>n(3),onNext:M,canGoNext:B(),isLastStep:!0})]}),T&&u.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 text-center max-w-md mx-4 animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-2xl font-extrabold text-[var(--text-primary)] mb-2",children:s("product.success.title")}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:s("product.success.desc")}),u.jsxs(mt,{to:"/tools/packaging-idea",className:"inline-flex items-center gap-2 px-8 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-all",children:[s("product.success.next")," "]})]})})]})}function D0(){const{t:s}=xt();return u.jsx(Qs,{currentStep:1,totalSteps:4,toolName:s("tool.packaging"),toolIcon:"",children:u.jsx(pt,{title:s("packaging.step1.title"),subtitle:s("packaging.step1.subtitle"),icon:"",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Coming Soon!"}),u.jsx("p",{className:"text-[var(--text-secondary)]",children:"This tool is being built. Check back soon for amazing packaging ideas!"})]})})})}const U0="modulepreload",z0=function(s){return"/"+s},Bh={},F0=function(r,n,a){let l=Promise.resolve();if(n&&n.length>0){let h=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=h(n.map(y=>{if(y=z0(y),y in Bh)return;Bh[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":U0,v||(b.as="script"),b.crossOrigin="",b.href=y,m&&b.setAttribute("nonce",m),document.head.appendChild(b),v)return new Promise((C,O)=>{b.addEventListener("load",C),b.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&c(p.reason);return r().catch(c)})};function W0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:a,width:l=600,height:c=400,className:h=""}){const p=c*.7,m=Math.min(l*.35,p*.5);return u.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,width:l,height:c,className:h,xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"bannerGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:n,stopOpacity:"1"}),u.jsx("stop",{offset:"100%",stopColor:n,stopOpacity:"0.85"})]}),u.jsx("filter",{id:"bannerShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:u.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodOpacity:"0.15"})}),u.jsxs("filter",{id:"logoGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"blur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("rect",{x:"0",y:"0",width:l,height:c,fill:"#f5f5f5"}),u.jsxs("g",{id:"banner-poles",children:[u.jsx("rect",{x:l*.08,y:c*.05,width:"8",height:p+20,rx:"4",fill:"#888"}),u.jsx("rect",{x:l*.92-8,y:c*.05,width:"8",height:p+20,rx:"4",fill:"#888"})]}),u.jsxs("g",{id:"banner-main",filter:"url(#bannerShadow)",children:[u.jsx("rect",{x:l*.1,y:c*.08,width:l*.8,height:p,rx:"8",fill:"url(#bannerGradient)"}),u.jsx("rect",{x:l*.1,y:c*.08,width:l*.8,height:"12",rx:"6",fill:a}),u.jsx("rect",{x:l*.1,y:c*.08+p-12,width:l*.8,height:"12",rx:"6",fill:a})]}),u.jsxs("g",{id:"logo-area",children:[u.jsx("circle",{cx:l/2,cy:c*.08+p*.4,r:m*.6,fill:"white",filter:"url(#bannerShadow)"}),u.jsx("image",{href:s,x:l/2-m/2,y:c*.08+p*.4-m/2,width:m,height:m,preserveAspectRatio:"xMidYMid meet"})]}),u.jsx("text",{x:l/2,y:c*.08+p*.82,textAnchor:"middle",fill:"white",fontSize:l*.045,fontWeight:"bold",fontFamily:"system-ui, sans-serif",style:{textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:r}),u.jsx("ellipse",{cx:l/2,cy:c*.95,rx:l*.35,ry:c*.03,fill:"rgba(0,0,0,0.08)"})]})}function K0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:a,width:l=600,height:c=450,className:h=""}){const p=c*.45,m=c*.35,y=c*.18,v=Math.min(l*.2,m*.6);return u.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,width:l,height:c,className:h,xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"tableTopGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#f0f0f0"}),u.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),u.jsxs("linearGradient",{id:"frontPanelGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:n}),u.jsx("stop",{offset:"100%",stopColor:n,stopOpacity:"0.9"})]}),u.jsx("filter",{id:"tableShadow",x:"-10%",y:"-10%",width:"120%",height:"130%",children:u.jsx("feDropShadow",{dx:"0",dy:"5",stdDeviation:"8",floodOpacity:"0.15"})}),u.jsx("filter",{id:"softShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:u.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.1"})})]}),u.jsx("rect",{x:"0",y:"0",width:l,height:c,fill:"#fafafa"}),u.jsx("rect",{x:"0",y:"0",width:l,height:c*.3,fill:"#f0f0f0"}),u.jsx("line",{x1:"0",y1:c*.3,x2:l,y2:c*.3,stroke:"#e5e5e5",strokeWidth:"2"}),u.jsxs("g",{id:"table-banner",filter:"url(#softShadow)",children:[u.jsx("rect",{x:l*.2,y:c*.05,width:l*.6,height:y,rx:"6",fill:a}),u.jsx("text",{x:l/2,y:c*.05+y*.6,textAnchor:"middle",fill:n,fontSize:l*.035,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:r})]}),u.jsxs("g",{id:"table",filter:"url(#tableShadow)",children:[u.jsx("rect",{x:l*.12,y:p+m*.1,width:"12",height:m*.9,fill:"#666"}),u.jsx("rect",{x:l*.88-12,y:p+m*.1,width:"12",height:m*.9,fill:"#666"}),u.jsx("rect",{x:l*.1,y:p+m*.15,width:l*.8,height:m*.85,rx:"4",fill:"url(#frontPanelGradient)"}),u.jsx("rect",{x:l*.1,y:p+m*.15,width:l*.8,height:"6",fill:a}),u.jsx("rect",{x:l*.08,y:p,width:l*.84,height:m*.18,rx:"3",fill:"url(#tableTopGradient)",stroke:"#ccc",strokeWidth:"1"})]}),u.jsxs("g",{id:"logo-area",children:[u.jsx("circle",{cx:l/2,cy:p+m*.55,r:v*.55,fill:"white",filter:"url(#softShadow)"}),u.jsx("image",{href:s,x:l/2-v/2,y:p+m*.55-v/2,width:v,height:v,preserveAspectRatio:"xMidYMid meet"})]}),u.jsxs("g",{id:"table-items",opacity:"0.6",children:[u.jsx("rect",{x:l*.15,y:p-c*.08,width:l*.1,height:c*.08,rx:"3",fill:"#ddd"}),u.jsx("rect",{x:l*.75,y:p-c*.06,width:l*.08,height:c*.06,rx:"3",fill:"#ddd"})]}),u.jsx("ellipse",{cx:l/2,cy:c*.97,rx:l*.4,ry:c*.02,fill:"rgba(0,0,0,0.05)"})]})}function V0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:a,width:l=400,height:c=400,className:h=""}){const p=Math.min(l,c),m=p/2,y=p*.45,v=p*.38,w=p*.4;return u.jsxs("svg",{viewBox:`0 0 ${p} ${p}`,width:p,height:p,className:h,xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"stickerRingGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:n}),u.jsx("stop",{offset:"50%",stopColor:a}),u.jsx("stop",{offset:"100%",stopColor:n})]}),u.jsx("filter",{id:"stickerShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:u.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.2"})}),u.jsxs("filter",{id:"emboss",x:"-10%",y:"-10%",width:"120%",height:"120%",children:[u.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"1",result:"blur"}),u.jsx("feOffset",{in:"blur",dx:"1",dy:"1",result:"offsetBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"offsetBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("rect",{x:"0",y:"0",width:p,height:p,fill:"#f8f8f8"}),u.jsx("circle",{cx:m,cy:m,r:y+8,fill:"none",stroke:"#ccc",strokeWidth:"1",strokeDasharray:"8 4"}),u.jsxs("g",{id:"sticker",filter:"url(#stickerShadow)",children:[u.jsx("circle",{cx:m,cy:m,r:y,fill:"url(#stickerRingGradient)"}),Array.from({length:12}).map((b,C)=>{const O=C*30*Math.PI/180,T=m+Math.cos(O)*(y-8),E=m+Math.sin(O)*(y-8);return u.jsx("circle",{cx:T,cy:E,r:"4",fill:"white",opacity:"0.8"},C)}),u.jsx("circle",{cx:m,cy:m,r:v,fill:"white"}),u.jsx("circle",{cx:m,cy:m,r:v-3,fill:"none",stroke:n,strokeWidth:"2",opacity:"0.2"})]}),u.jsx("image",{href:s,x:m-w/2,y:m-w/2-p*.05,width:w,height:w,preserveAspectRatio:"xMidYMid meet"}),u.jsx("text",{x:m,y:m+v*.65,textAnchor:"middle",fill:n,fontSize:p*.055,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:r})]})}function q0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:a,width:l=300,height:c=400,price:h="RM __",className:p=""}){const m=l*.85,y=c*.9,v=m*.4,w=l*.04;return u.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,width:l,height:c,className:p,xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"priceTagGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),u.jsx("stop",{offset:"100%",stopColor:"#f9f9f9"})]}),u.jsx("filter",{id:"tagShadow",x:"-15%",y:"-10%",width:"130%",height:"125%",children:u.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"6",floodOpacity:"0.15"})}),u.jsx("filter",{id:"stringShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:u.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1",floodOpacity:"0.2"})})]}),u.jsx("rect",{x:"0",y:"0",width:l,height:c,fill:"#f0f0f0"}),u.jsx("g",{id:"string",filter:"url(#stringShadow)",children:u.jsx("path",{d:`M ${l/2} 0 
              Q ${l/2-20} ${c*.08} ${l/2} ${c*.1+w}`,fill:"none",stroke:"#8B7355",strokeWidth:"3"})}),u.jsxs("g",{id:"price-tag",filter:"url(#tagShadow)",children:[u.jsx("rect",{x:(l-m)/2,y:c*.08,width:m,height:y,rx:"12",fill:"url(#priceTagGradient)",stroke:"#e0e0e0",strokeWidth:"1"}),u.jsx("circle",{cx:l/2,cy:c*.08+w+15,r:w,fill:"#f0f0f0",stroke:"#ccc",strokeWidth:"2"}),u.jsx("rect",{x:(l-m)/2,y:c*.08,width:m,height:"8",rx:"4",fill:n}),u.jsx("line",{x1:(l-m)/2+20,y1:c*.18,x2:(l+m)/2-20,y2:c*.18,stroke:a,strokeWidth:"2",strokeDasharray:"8 4"})]}),u.jsxs("g",{id:"logo-area",children:[u.jsx("circle",{cx:l/2,cy:c*.35,r:v*.55,fill:`${n}15`,stroke:n,strokeWidth:"2"}),u.jsx("image",{href:s,x:l/2-v/2,y:c*.35-v/2,width:v,height:v,preserveAspectRatio:"xMidYMid meet"})]}),u.jsx("text",{x:l/2,y:c*.55,textAnchor:"middle",fill:n,fontSize:l*.06,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:r}),u.jsx("line",{x1:(l-m)/2+30,y1:c*.6,x2:(l+m)/2-30,y2:c*.6,stroke:"#e0e0e0",strokeWidth:"1"}),u.jsx("text",{x:l/2,y:c*.68,textAnchor:"middle",fill:"#999",fontSize:l*.045,fontFamily:"system-ui, sans-serif",children:"PRICE"}),u.jsx("text",{x:l/2,y:c*.82,textAnchor:"middle",fill:n,fontSize:l*.12,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:h}),u.jsx("rect",{x:(l-m)/2,y:c*.08+y-8,width:m,height:"8",rx:"4",fill:a})]})}const Mh=[{id:"banner",name:"Banner Booth",description:"Large backdrop banner for school fairs",icon:""},{id:"table",name:"Table Booth",description:"Table with front panel and top surface",icon:""},{id:"sticker",name:"Rounded Sticker",description:"Circular sticker badge with logo",icon:""},{id:"pricetag",name:"Price Tag",description:"Product price tag for booth items",icon:""}],H0={banner:W0,table:K0,sticker:V0,pricetag:q0},G0=S.forwardRef(function({templateId:r,...n},a){const l=H0[r];return l?u.jsx("div",{ref:a,children:u.jsx(l,{...n})}):(console.warn(`Unknown booth template: ${r}`),null)});function J0(){var pe;const{t:s}=xt(),{child:r}=ln(),[n,a]=S.useState(1),[l,c]=S.useState([]),[h,p]=S.useState(null),[m,y]=S.useState(null),[v,w]=S.useState(!1),[b,C]=S.useState(null),O=S.useRef({}),T=(pe=r==null?void 0:r.companies)==null?void 0:pe[0],E=T==null?void 0:T.logo_url,M=(T==null?void 0:T.company_name)||(r==null?void 0:r.name)||"My Business",[B,j]=S.useState("#6B4EFF"),[D,F]=S.useState("#FFD54F");S.useEffect(()=>{async function te(){if(E&&p(E),r!=null&&r.id)try{const{getSelectedLogo:me}=await F0(async()=>{const{getSelectedLogo:je}=await Promise.resolve().then(()=>b0);return{getSelectedLogo:je}},void 0),_e=await me(r.id);if(_e!=null&&_e.color_palette){const je=_e.color_palette;je.primary&&j(je.primary),je.secondary&&F(je.secondary)}}catch(me){console.warn("Could not load logo colors:",me)}}te()},[E,r==null?void 0:r.id]);const G=te=>{c(me=>me.includes(te)?me.filter(_e=>_e!==te):[...me,te])},oe=async()=>{if(h){w(!0),C(null);try{const te=await fetch("/api/remove-bg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:h})});if(!te.ok)throw new Error("Failed to remove background");const _e=(await te.json()).transparentUrl;try{const je=await fetch("/api/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempUrl:_e,childId:(r==null?void 0:r.id)||"anonymous",filename:`logo-transparent-${Date.now()}`})});if(je.ok){const{permanentUrl:Se}=await je.json();y(Se)}else y(_e)}catch(je){console.warn("Permanent upload failed for transparent logo:",je),y(_e)}a(2)}catch(te){console.error("Remove BG error:",te),C("Failed to process logo. Using original."),y(h),a(2)}finally{w(!1)}}},ye=async te=>{var je;const me=O.current[te];if(!me)return;const _e=me.querySelector("svg");if(_e)try{const Se=((je=_e.getAttribute("viewBox"))==null?void 0:je.split(" ").map(Number))||[0,0,600,400],we=Se[2],V=Se[3],ae=new XMLSerializer().serializeToString(_e),H=new Blob([ae],{type:"image/svg+xml;charset=utf-8"}),N=URL.createObjectURL(H),P=new Image;P.onload=()=>{const J=document.createElement("canvas");J.width=we*2,J.height=V*2;const ee=J.getContext("2d");if(!ee)return;ee.scale(2,2),ee.drawImage(P,0,0,we,V);const le=document.createElement("a");le.download=`booth-${te}-${M.replace(/\s+/g,"-")}.png`,le.href=J.toDataURL("image/png"),le.click(),URL.revokeObjectURL(N)},P.src=N}catch(Se){console.error("Export error:",Se)}},xe=()=>n===1?!!h:n===2?l.length>0:!1,Ce=async()=>{n===1&&h?await oe():n===2&&l.length>0&&a(3)};return u.jsxs(Qs,{currentStep:n,totalSteps:3,toolName:s("tool.booth"),toolIcon:"",children:[n===1&&u.jsxs(pt,{title:"Your Logo",subtitle:"We'll use your company logo for the booth mockups",icon:"",children:[u.jsx("div",{className:"flex flex-col items-center py-8",children:E?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-40 h-40 rounded-2xl bg-white shadow-[var(--shadow-medium)] flex items-center justify-center mb-6 border-2 border-[var(--border-light)] overflow-hidden",children:u.jsx("img",{src:E,alt:"Company Logo",className:"w-full h-full object-contain p-4"})}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-4 text-center",children:"We'll remove the background to make it look great on mockups!"}),b&&u.jsx("p",{className:"text-red-500 text-sm mb-4",children:b})]}):u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-40 h-40 rounded-2xl bg-gray-100 flex items-center justify-center mb-6 border-2 border-dashed border-gray-300",children:u.jsx("span",{className:"text-5xl",children:""})}),u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-2",children:"No Logo Yet!"}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:"Create a logo first to use in your booth mockups."}),u.jsx(mt,{to:"/tools/logo-maker",className:"inline-block px-6 py-3 bg-[var(--sky-blue)] text-white font-bold rounded-full hover:scale-105 transition-transform",children:"Create Logo First "})]})}),E&&u.jsx(Xt,{onNext:Ce,canGoNext:xe(),nextLabel:v?"Processing... ":"Prepare Logo "})]}),n===2&&u.jsxs(pt,{title:"Choose Mockups",subtitle:"Select the booth materials you want to create",icon:"",children:[u.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:Mh.map(te=>u.jsxs("button",{onClick:()=>G(te.id),className:`relative p-6 rounded-2xl border-3 transition-all duration-300 text-left ${l.includes(te.id)?"border-[var(--sky-blue)] bg-gradient-to-br from-[#f0f7ff] to-[#e6f0ff] scale-[1.02] shadow-[0_8px_32px_rgba(66,170,217,0.3)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:shadow-lg"}`,children:[u.jsx("div",{className:"text-4xl mb-3",children:te.icon}),u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-1",children:te.name}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:te.description}),l.includes(te.id)&&u.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[var(--sky-blue)] flex items-center justify-center text-white text-lg",children:""})]},te.id))}),u.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-6",children:l.length===0?"Select at least one mockup type":`${l.length} mockup${l.length>1?"s":""} selected`}),u.jsx(Xt,{onPrevious:()=>a(1),onNext:Ce,canGoNext:xe(),nextLabel:"Generate Mockups "})]}),n===3&&m&&u.jsxs(pt,{title:"Your Booth Mockups",subtitle:"Download your materials for the booth!",icon:"",children:[u.jsx("div",{className:"space-y-8",children:l.map(te=>{const me=Mh.find(we=>we.id===te);if(!me)return null;const je=te==="sticker"||te==="pricetag"?240:480,Se=te==="pricetag"?320:te==="sticker"?240:300;return u.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] border-2 border-[var(--border-light)] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--border-light)] bg-gradient-to-r from-white to-[var(--sky-lighter)]",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-[var(--sky-light)] flex items-center justify-center text-xl",children:me.icon}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-lg",children:me.name}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:me.description})]})]}),u.jsxs("button",{onClick:()=>ye(te),className:"px-6 py-3 bg-gradient-to-r from-[var(--sky-blue)] to-[var(--sky-blue-dark)] text-white font-bold rounded-full text-sm hover:scale-105 hover:shadow-lg transition-all flex items-center gap-2",children:[u.jsx("span",{children:"Download"}),u.jsx("span",{children:""})]})]}),u.jsx("div",{className:"p-8 bg-gradient-to-b from-[var(--sky-lighter)] to-white flex items-center justify-center min-h-[300px]",children:u.jsx("div",{className:"transform scale-90 hover:scale-95 transition-transform duration-300",children:u.jsx(G0,{ref:we=>{O.current[te]=we},templateId:te,logoUrl:m,businessName:M,primaryColor:B,secondaryColor:D,width:je,height:Se})})})]},te)})}),u.jsxs("div",{className:"flex justify-center gap-4 mt-8 pt-6 border-t border-[var(--border-light)]",children:[u.jsx("button",{onClick:()=>a(2),className:"px-8 py-4 rounded-full bg-white text-[var(--text-primary)] font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)] shadow-sm",children:" Change Selection"}),u.jsx(mt,{to:"/dashboard",className:"px-8 py-4 rounded-full bg-gradient-to-r from-[var(--mint-green)] to-[#7fd4a8] text-white font-bold hover:scale-105 transition-transform shadow-lg",children:"Back to Dashboard"})]})]})]})}function Q0(){const{t:s}=xt(),[r,n]=S.useState(5),[a,l]=S.useState(10),[c,h]=S.useState(20),[p,m]=S.useState(0),[y,v]=S.useState(0),[w,b]=S.useState(0),[C,O]=S.useState(0),[T,E]=S.useState(0);S.useEffect(()=>{const D=a-r,F=a*c,G=r*c,oe=D*c,ye=a>0?D/a*100:0;m(D),v(F),b(G),O(oe),E(ye)},[r,a,c]);const B=p<=0?{emoji:"",text:s("profit.status.loss"),color:"#ffb6c1"}:T<20?{emoji:"",text:s("profit.status.low"),color:"#ffb84d"}:T<40?{emoji:"",text:s("profit.status.good"),color:"#60b5f4"}:{emoji:"",text:s("profit.status.great"),color:"#a8e6cf"},j={orange:"#ffb84d",blue:"#60b5f4",green:"#a8e6cf",muted:"#e8f4fc"};return u.jsx(Qs,{currentStep:1,totalSteps:1,toolName:s("tool.profit"),toolIcon:"",children:u.jsx("div",{className:"max-w-3xl mx-auto",children:u.jsxs(pt,{title:s("profit.title"),subtitle:s("profit.subtitle"),icon:"",children:[u.jsxs("div",{className:"space-y-8 mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"font-semibold text-[var(--text-primary)]",children:s("profit.cost")}),u.jsxs("span",{className:"text-lg font-bold text-[var(--sunshine-orange)]",children:["RM ",r]})]}),u.jsx("input",{type:"range",min:"1",max:"50",value:r,onChange:D=>n(Number(D.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${j.orange} 0%, ${j.orange} ${r/50*100}%, ${j.muted} ${r/50*100}%, ${j.muted} 100%)`}}),u.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[u.jsx("span",{children:"RM 1"}),u.jsx("span",{children:"RM 50"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"font-semibold text-[var(--text-primary)]",children:s("profit.price")}),u.jsxs("span",{className:"text-lg font-bold text-[var(--sky-blue)]",children:["RM ",a]})]}),u.jsx("input",{type:"range",min:"1",max:"100",value:a,onChange:D=>l(Number(D.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${j.blue} 0%, ${j.blue} ${a}%, ${j.muted} ${a}%, ${j.muted} 100%)`}}),u.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[u.jsx("span",{children:"RM 1"}),u.jsx("span",{children:"RM 100"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"font-semibold text-[var(--text-primary)]",children:s("profit.quantity")}),u.jsxs("span",{className:"text-lg font-bold text-[var(--mint-green)]",children:[c," ",s("profit.items")]})]}),u.jsx("input",{type:"range",min:"1",max:"100",value:c,onChange:D=>h(Number(D.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${j.green} 0%, ${j.green} ${c}%, ${j.muted} ${c}%, ${j.muted} 100%)`}}),u.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[u.jsx("span",{children:"1"}),u.jsx("span",{children:"100"})]})]})]}),u.jsxs("div",{className:"rounded-3xl p-6",style:{background:"linear-gradient(135deg, rgba(168, 213, 247, 0.5) 0%, rgba(168, 230, 207, 0.5) 100%)"},children:[u.jsx("div",{className:"text-center mb-6",children:u.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full text-white font-bold",style:{backgroundColor:B.color},children:[u.jsx("span",{className:"text-3xl",children:B.emoji}),u.jsx("span",{children:B.text})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:s("profit.revenue")}),u.jsxs("p",{className:"text-2xl font-extrabold text-[var(--text-primary)]",children:["RM ",y]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:s("profit.totalCost")}),u.jsxs("p",{className:"text-2xl font-extrabold text-[var(--sunshine-orange)]",children:["RM ",w]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center",children:[u.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-2",children:s("profit.totalProfit")}),u.jsxs("p",{className:"text-4xl font-extrabold transition-all",style:{color:C>=0?"#60b5f4":"#ffb6c1"},children:["RM ",C]}),u.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-2",children:[s("profit.perItem"),": RM ",p," | ",s("profit.margin"),": ",T.toFixed(0),"%"]})]}),u.jsxs("div",{className:"mt-6 rounded-xl p-4 text-center",style:{backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[u.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[u.jsxs("span",{className:"font-semibold",children:[s("profit.formula"),":"]})," ",s("profit.revenue")," -"," ",s("profit.totalCost")," = ",s("profit.totalProfit")]}),u.jsxs("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:["(RM ",a," x ",c,") - (RM ",r," x ",c,") = RM ",C]})]})]}),u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx(mt,{to:"/dashboard",className:"inline-flex items-center gap-2 px-8 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-all",children:s("profit.done")})})]})})})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nf=(...s)=>s.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=S.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:h,...p},m)=>S.createElement("svg",{ref:m,...X0,width:r,height:r,stroke:s,strokeWidth:a?Number(n)*24/Number(r):n,className:Nf("lucide",l),...p},[...h.map(([y,v])=>S.createElement(y,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(s,r)=>{const n=S.forwardRef(({className:a,...l},c)=>S.createElement(Z0,{ref:c,iconNode:r,className:Nf(`lucide-${Y0(s)}`,a),...l}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ve("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Ve("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Ve("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Ve("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Ve("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Ve("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ve("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ve("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vx=[{id:"food",labelKey:"salesBuddy.product.food",icon:u.jsx(gx,{size:32})},{id:"drinks",labelKey:"salesBuddy.product.drinks",icon:u.jsx(nx,{size:32})},{id:"gifts",labelKey:"salesBuddy.product.gifts",icon:u.jsx(ax,{size:32})},{id:"others",labelKey:"salesBuddy.product.others",icon:u.jsx(tx,{size:32})}],xx=[{id:"friendly",labelKey:"salesBuddy.customer.friendly",descKey:"salesBuddy.customer.friendly.desc",icon:u.jsx(Wl,{size:28}),colorClass:"bg-[var(--mint-green)] text-[var(--text-primary)]"},{id:"picky",labelKey:"salesBuddy.customer.picky",descKey:"salesBuddy.customer.picky.desc",icon:u.jsx(fx,{size:28}),colorClass:"bg-[var(--sunshine-orange)] text-white"},{id:"bargain",labelKey:"salesBuddy.customer.bargain",descKey:"salesBuddy.customer.bargain.desc",icon:u.jsx(sx,{size:28}),colorClass:"bg-[var(--coral-pink)] text-[var(--text-primary)]"}];function wx(){const{t:s,language:r}=xt(),[n,a]=S.useState("product"),[l,c]=S.useState(null),[h,p]=S.useState(null),[m,y]=S.useState(""),[v,w]=S.useState(""),[b,C]=S.useState(""),[O,T]=S.useState([]),[E,M]=S.useState(!1),[B,j]=S.useState(""),[D,F]=S.useState([]),[G,oe]=S.useState(null),[ye,xe]=S.useState(50),[Ce,pe]=S.useState(null),te=S.useRef(null),me=S.useRef(null);S.useEffect(()=>{var P;n==="chat"&&((P=te.current)==null||P.scrollIntoView({behavior:"smooth"}))},[O,E,D,n]);const _e=async(P,J=O,ee)=>{var le;M(!0),F([]);try{const fe=await fetch("/api/sales-buddy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerType:((le=ee||h)==null?void 0:le.id)||"friendly",productType:(l==null?void 0:l.id)||"snacks",productName:m||void 0,productPrice:v||void 0,productDesc:b||void 0,customerInfo:Ce||void 0,messages:J,mood:ye,language:r,isStart:P===null})}),L=await fe.json();if(!fe.ok){let ne=r==="BM"?"Maaf, ada masalah. Cuba lagi.":"Sorry, something went wrong. Please try again.";L.error==="rate_limit"&&(ne=r==="BM"?"AI sedang sibuk. Sila tunggu sebentar dan cuba lagi.":"AI is busy right now. Please wait a moment and try again."),T(be=>[...be,{sender:"ai",text:ne}]);return}const q={sender:"ai",text:L.response};T(ne=>[...ne,q]),typeof L.mood_score=="number"&&xe(L.mood_score),L.customerInfo&&pe(L.customerInfo),L.is_finished&&L.reflection?(oe(L.reflection),F([])):F(L.options||[])}catch(fe){console.error("API Error:",fe);const L=r==="BM"?"Tidak dapat berhubung. Sila semak sambungan internet.":"Could not connect. Please check your internet connection.";T(q=>[...q,{sender:"ai",text:L}])}finally{M(!1)}},je=P=>{a("chat"),T([]),xe(50),oe(null),_e(null,[],P)},Se=P=>{if(!P.trim())return;const J={sender:"user",text:P.trim()},ee=[...O,J];T(ee),j(""),me.current&&(me.current.style.height="auto"),_e(P.trim(),ee)},we=()=>{a("product"),c(null),p(null),y(""),w(""),pe(null),T([]),oe(null),F([]),j(""),xe(50)},V=P=>{const J=P.target;J.style.height="auto",J.style.height=Math.min(J.scrollHeight,120)+"px",j(J.value)},ae=P=>P>=70?u.jsx(Wl,{className:"text-[var(--mint-green)]",size:24}):P>=40?u.jsx(cx,{className:"text-[var(--sunshine-orange)]",size:24}):u.jsx(ix,{className:"text-[var(--coral-pink)]",size:24}),H=P=>P>=70?"bg-[var(--mint-green)]":P>=40?"bg-[var(--sunshine-orange)]":"bg-[var(--coral-pink)]",N=(P,J)=>{const ee=P.sender==="ai",le=P.text.split(/(\*[^*]+\*)/g).filter(Boolean);return u.jsx("div",{className:`flex w-full mb-4 ${ee?"justify-start":"justify-end"}`,children:u.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] ${ee?"flex-row":"flex-row-reverse"} items-end gap-2`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${ee?"bg-[var(--sky-blue-light)] text-[var(--sky-blue)]":"bg-[var(--mint-green)] text-[var(--text-primary)]"}`,children:ee?u.jsx($h,{size:18}):u.jsx(Wl,{size:18})}),u.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-[var(--shadow-low)] text-sm md:text-base leading-relaxed ${ee?"bg-white text-[var(--text-primary)] rounded-bl-none border border-[var(--border-light)]":"bg-[var(--sky-blue)] text-white rounded-br-none"}`,children:le.map((fe,L)=>{if(fe.startsWith("*")&&fe.endsWith("*")){const q=fe.slice(1,-1);return u.jsx("span",{className:"italic text-[var(--text-muted)] block mb-1 text-xs",children:q},L)}else{const q=fe.replace(/^[\s.,]+/,"");return q?u.jsx("span",{children:q},L):null}})})]})},J)};if(n==="product")return u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:[u.jsxs(mt,{to:"/dashboard",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-semibold text-[var(--text-primary)] text-sm",children:s("common.back")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] hidden sm:block",children:s("tool.salesBuddy")})]}),u.jsx(Wn,{})]}),u.jsx("main",{className:"relative z-10 px-4 md:px-8 py-8",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsx("h1",{className:"text-2xl font-extrabold text-[var(--text-primary)] mb-2",children:s("salesBuddy.selectProduct")}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:s("salesBuddy.selectProduct.desc")}),u.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:vx.map(P=>u.jsxs("button",{onClick:()=>c(P),className:`p-4 rounded-2xl border-3 transition-all duration-200 flex flex-col items-center gap-2 text-center
                    ${(l==null?void 0:l.id)===P.id?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-102"}`,children:[u.jsx("div",{className:"p-2 rounded-full bg-[var(--sky-blue-light)] text-[var(--sky-blue)]",children:P.icon}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] text-sm",children:s(P.labelKey)})]},P.id))}),u.jsxs("div",{className:"bg-white rounded-2xl p-5 border-2 border-[var(--border-light)] shadow-[var(--shadow-low)] space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-[var(--text-primary)] mb-2",children:[s("salesBuddy.productName")," ",u.jsxs("span",{className:"text-[var(--text-muted)] font-normal",children:["(",s("common.optional"),")"]})]}),u.jsx("input",{type:"text",value:m,onChange:P=>y(P.target.value),placeholder:r==="BM"?"cth: Kuih Raya":"e.g. Homemade Cookies",className:"w-full px-4 py-3 rounded-xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:ring-2 focus:ring-[var(--sky-blue-light)] focus:outline-none transition-all text-[var(--text-primary)] placeholder:text-[var(--text-muted)]"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-[var(--text-primary)] mb-2",children:[s("salesBuddy.productPrice")," ",u.jsxs("span",{className:"text-[var(--text-muted)] font-normal",children:["(",s("common.optional"),")"]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)] font-semibold",children:"RM"}),u.jsx("input",{type:"text",value:v,onChange:P=>w(P.target.value.replace(/[^0-9.]/g,"")),placeholder:"0.00",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:ring-2 focus:ring-[var(--sky-blue-light)] focus:outline-none transition-all text-[var(--text-primary)] placeholder:text-[var(--text-muted)]"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-[var(--text-primary)] mb-2",children:[r==="BM"?"Deskripsi Produk":"Product Description"," ",u.jsxs("span",{className:"text-[var(--text-muted)] font-normal",children:["(",s("common.optional"),")"]})]}),u.jsx("textarea",{value:b,onChange:P=>C(P.target.value),placeholder:r==="BM"?"cth: Dibuat dari bahan premium...":"e.g. Made with premium ingredients...",rows:2,className:"w-full px-4 py-3 rounded-xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:ring-2 focus:ring-[var(--sky-blue-light)] focus:outline-none transition-all text-[var(--text-primary)] placeholder:text-[var(--text-muted)] resize-none"})]})]}),u.jsxs("button",{onClick:()=>a("customer"),disabled:!l,className:"w-full mt-6 bg-[var(--sky-blue)] hover:bg-[var(--sky-blue-dark)] disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-full transition-all hover:scale-105 shadow-[var(--shadow-medium)] flex items-center justify-center gap-2",children:[s("common.next")," ",u.jsx(rx,{size:20})]})]})}),u.jsx(zs,{})]});if(n==="customer")return u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:[u.jsxs("button",{onClick:()=>a("product"),className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-semibold text-[var(--text-primary)] text-sm",children:s("common.previous")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] hidden sm:block",children:s("tool.salesBuddy")})]}),u.jsx(Wn,{})]}),u.jsx("main",{className:"relative z-10 px-4 md:px-8 py-8",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsx("h1",{className:"text-2xl font-extrabold text-[var(--text-primary)] mb-2",children:s("salesBuddy.selectCustomer")}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-8",children:s("salesBuddy.selectCustomer.desc")}),u.jsx("div",{className:"flex flex-col gap-3",children:xx.map(P=>u.jsxs("button",{onClick:()=>{p(P),setTimeout(()=>je(P),200)},className:`flex items-center text-left w-full p-4 gap-4 rounded-2xl border-3 transition-all duration-200
                    ${(h==null?void 0:h.id)===P.id?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-[1.02] shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:shadow-[var(--shadow-low)]"}`,children:[u.jsx("div",{className:`p-3 rounded-full ${P.colorClass}`,children:P.icon}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-lg",children:s(P.labelKey)}),u.jsx("p",{className:"text-[var(--text-muted)] text-sm",children:s(P.descKey)})]})]},P.id))})]})}),u.jsx(zs,{})]});if(n==="chat")return u.jsxs("div",{className:"min-h-screen bg-[var(--bg-sky-lighter)] flex flex-col",children:[u.jsxs("div",{className:"bg-white border-b border-[var(--border-light)] shadow-[var(--shadow-low)] shrink-0 z-10 sticky top-0",children:[u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-2 rounded-full ${(h==null?void 0:h.colorClass)||"bg-[var(--sky-blue-light)]"}`,children:(h==null?void 0:h.icon)||u.jsx($h,{size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-[var(--text-primary)] leading-tight",children:s(h?h.labelKey:"salesBuddy.customer")}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-[var(--text-muted)]",children:[s("salesBuddy.customerMood"),": ",ae(ye)]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Wn,{}),u.jsx("button",{onClick:we,className:"p-2 text-[var(--text-muted)] hover:text-[var(--coral-pink)] transition-colors",children:u.jsx(hx,{size:20})})]})]}),u.jsx("div",{className:"w-full h-1.5 bg-[var(--bg-muted)]",children:u.jsx("div",{className:`h-full transition-all duration-700 ease-out ${H(ye)}`,style:{width:`${ye}%`}})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[O.map((P,J)=>N(P,J)),E&&u.jsx("div",{className:"flex w-full mb-4 justify-start",children:u.jsx("div",{className:"bg-white px-4 py-3 rounded-2xl rounded-bl-none border border-[var(--border-light)] shadow-[var(--shadow-low)]",children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-[var(--text-muted)] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("span",{className:"w-2 h-2 bg-[var(--text-muted)] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("span",{className:"w-2 h-2 bg-[var(--text-muted)] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),!E&&!G&&D.length>0&&u.jsxs("div",{className:"flex flex-col gap-2 ml-10 max-w-[85%] md:max-w-[75%] animate-fade-up",children:[u.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold mb-1 uppercase tracking-wide",children:s("salesBuddy.options")}),D.map((P,J)=>u.jsx("button",{onClick:()=>Se(P.text),className:"w-full text-left p-3 rounded-xl border border-[var(--border-light)] bg-white hover:bg-[var(--bg-sky-lighter)] hover:border-[var(--sky-blue)] transition-all text-[var(--text-primary)] text-sm shadow-[var(--shadow-low)] active:scale-[0.98]",children:P.text},J))]}),u.jsx("div",{ref:te,className:"h-4"})]})}),u.jsx("div",{className:"bg-white border-t border-[var(--border-light)] p-3 md:p-4 shrink-0 shadow-[0_-5px_20px_-5px_rgba(0,0,0,0.05)] sticky bottom-0",children:G?u.jsx("div",{className:"animate-fade-up max-w-2xl mx-auto",children:u.jsxs("button",{onClick:()=>a("reflection"),className:"w-full bg-[var(--sky-blue)] hover:bg-[var(--sky-blue-dark)] text-white font-bold py-4 rounded-full shadow-[var(--shadow-medium)] flex items-center justify-center gap-2 active:scale-95 transition-all",children:[s("salesBuddy.viewResults")," ",u.jsx(ex,{size:20})]})}):u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsx("div",{className:"mb-2 px-1",children:u.jsxs("p",{className:"text-xs text-[var(--sky-blue)] font-bold flex items-center gap-1",children:[u.jsx(lx,{size:12})," ",s("salesBuddy.typeOwn")]})}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsx("textarea",{ref:me,value:B,onChange:V,onKeyDown:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),B.trim()&&Se(B))},placeholder:s("salesBuddy.typeHere"),rows:1,className:"flex-1 bg-white border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] text-[var(--text-primary)] px-4 py-3 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[var(--sky-blue-light)] transition-all text-sm md:text-base resize-none overflow-hidden max-h-[120px] shadow-[var(--shadow-low)] placeholder:text-[var(--text-muted)]",disabled:E}),u.jsx("button",{onClick:()=>Se(B),disabled:!B.trim()||E,className:"bg-[var(--sky-blue)] text-white p-3 rounded-full mb-1 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[var(--sky-blue-dark)] active:scale-95 transition-transform shadow-[var(--shadow-medium)] shrink-0",children:u.jsx(Lh,{size:20})})]})]})})]});if(n==="reflection"&&G){const P=G.outcome==="success",J=r==="BM"?"bm":"en";return u.jsx("div",{className:"fixed inset-0 bg-[var(--text-primary)]/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:u.jsxs("div",{className:"bg-[var(--bg-muted)] rounded-3xl w-full max-w-sm shadow-[var(--shadow-high)] overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:`${P?"bg-[var(--mint-green)]":"bg-[var(--coral-pink)]"} p-4 text-center relative`,children:[u.jsx("button",{onClick:we,className:"absolute top-4 right-4 bg-white/20 hover:bg-white/30 p-1 rounded-full text-[var(--text-primary)]",children:u.jsx(yx,{size:20})}),u.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:s(P?"salesBuddy.result.success":"salesBuddy.result.fail")}),!P&&u.jsx("p",{className:"text-[var(--text-primary)]/70 text-xs mt-1",children:s("salesBuddy.result.fail.desc")})]}),u.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-[var(--shadow-low)] border border-[var(--border-light)] overflow-hidden",children:[u.jsxs("div",{className:"p-3 border-b border-[var(--border-light)] flex items-center gap-2",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${(h==null?void 0:h.colorClass)||"bg-[var(--sky-blue-light)]"}`,children:h==null?void 0:h.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-base font-bold text-[var(--text-primary)]",children:(Ce==null?void 0:Ce.socialMediaName)||"@customer"}),u.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:s("salesBuddy.justNow")})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"flex mb-2",children:[...Array(5)].map((ee,le)=>u.jsx(mx,{size:16,className:le<G.rating?"fill-[var(--golden-yellow)] text-[var(--golden-yellow)]":"text-[var(--border-light)]"},le))}),u.jsxs("p",{className:"text-[var(--text-primary)] text-sm leading-relaxed mb-3",children:['"',G.social_review[J],'"']}),u.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:G.hashtags[J].map((ee,le)=>u.jsx("span",{className:"text-xs text-[var(--sky-blue)] font-medium",children:ee},le))})]}),u.jsxs("div",{className:"px-4 py-3 border-t border-[var(--border-light)] bg-[var(--bg-muted)] flex items-center gap-4 text-[var(--text-muted)]",children:[u.jsx(ox,{size:20,className:P?"text-[var(--coral-pink)] fill-[var(--coral-pink)]":""}),u.jsx(dx,{size:20}),u.jsx(Lh,{size:20})]})]}),u.jsxs("div",{className:"space-y-3 pt-2",children:[u.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:s("salesBuddy.analysis")}),u.jsxs("div",{className:"bg-white p-3 rounded-xl border border-[var(--border-light)] flex gap-3",children:[u.jsx(px,{className:"text-[var(--mint-green)] shrink-0",size:20}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)]",children:s("salesBuddy.strength")}),u.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:G.good_point[J]})]})]}),u.jsxs("div",{className:"bg-white p-3 rounded-xl border border-[var(--border-light)] flex gap-3",children:[u.jsx(ux,{className:"text-[var(--sunshine-orange)] shrink-0",size:20}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)]",children:s("salesBuddy.suggestion")}),u.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:G.suggestion[J]})]})]})]})]}),u.jsx("div",{className:"p-4 bg-white border-t border-[var(--border-light)] shrink-0",children:u.jsx("button",{onClick:we,className:"w-full bg-[var(--sky-blue)] text-white font-bold py-3 rounded-full hover:bg-[var(--sky-blue-dark)] transition-colors shadow-[var(--shadow-medium)]",children:s("salesBuddy.tryAgain")})})]})})}return null}function bx(){const[s,r]=S.useState([]),[n,a]=S.useState(null),[l,c]=S.useState(!0),[h,p]=S.useState(!1),{login:m,child:y}=ln(),v=ya();S.useEffect(()=>{y&&v("/dashboard")},[y,v]),S.useEffect(()=>{async function b(){const{data:C,error:O}=await Et.from("children").select(`
          id,
          name,
          age,
          parent_id,
          total_xp,
          current_level,
          companies (
            company_name
          )
        `).is("deleted_at",null).order("name");if(O){console.error("Error fetching children:",O),c(!1);return}const T=(C||[]).map(E=>{var M,B;return{id:E.id,name:E.name,age:E.age,parent_id:E.parent_id,company_name:((B=(M=E.companies)==null?void 0:M[0])==null?void 0:B.company_name)||null,total_xp:E.total_xp,current_level:E.current_level}});r(T),c(!1)}b()},[]);const w=async()=>{if(!n)return;p(!0),await m(n)?v("/dashboard"):alert("Failed to login. Check console for errors."),p(!1)};return u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-screen px-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx("div",{className:"mb-6 py-3 px-4 rounded-2xl text-center text-white font-bold",style:{background:"linear-gradient(90deg, #ff6b6b 0%, #ffa502 100%)"},children:" DEV MODE  Child Impersonation"}),u.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-[var(--shadow-high)]",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-5xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-extrabold text-[var(--text-primary)]",children:"Select a Child"}),u.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:"Choose which child to impersonate for testing"})]}),u.jsx("div",{className:"space-y-3 mb-8 max-h-80 overflow-y-auto",children:l?u.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"Loading children..."}):s.length===0?u.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:["No children found in database.",u.jsx("br",{}),u.jsx("span",{className:"text-sm",children:"Add some test data first!"})]}):s.map(b=>u.jsx("button",{onClick:()=>a(b.id),className:`w-full p-4 rounded-2xl border-3 transition-all duration-200 text-left ${n===b.id?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-[1.02] shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)]"}`,children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[var(--sky-blue-light)] to-[var(--sky-blue)] flex items-center justify-center text-xl",children:b.age&&b.age<10?"":""}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:b.name}),u.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:["Age ",b.age||"?","  Level ",b.current_level,"  ",b.total_xp," XP"]}),b.company_name&&u.jsxs("div",{className:"text-xs text-[var(--sky-blue)] mt-1",children:[" ",b.company_name]})]}),n===b.id&&u.jsx("div",{className:"text-2xl",children:""})]})},b.id))}),u.jsx("button",{onClick:w,disabled:!n||h,className:`w-full py-4 rounded-full font-bold text-lg transition-all ${n&&!h?"bg-[var(--sky-blue)] text-white hover:scale-105 shadow-[var(--shadow-medium)]":"bg-[var(--muted)] text-[var(--text-muted)] cursor-not-allowed"}`,children:h?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"animate-spin",children:""})," Logging in..."]}):"Login as Selected Child "})]}),u.jsxs("p",{className:"text-center text-sm text-[var(--text-muted)] mt-6",children:["This page is for development only.",u.jsx("br",{}),"Production will use proper authentication."]})]})})]})}function kx({isOpen:s,title:r,message:n,confirmLabel:a="Confirm",cancelLabel:l="Cancel",confirmVariant:c="primary",onConfirm:h,onCancel:p}){return s?u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:p,children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl",onClick:m=>m.stopPropagation(),children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-3xl ${c==="danger"?"bg-red-100":"bg-[var(--sky-blue-light)]"}`,children:c==="danger"?"":""})}),u.jsx("h3",{className:"text-xl font-bold text-center text-[var(--text-primary)] mb-2",children:r}),u.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-6",children:n}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,className:"flex-1 px-4 py-3 rounded-full bg-gray-100 text-[var(--text-primary)] font-bold hover:bg-gray-200 transition-colors",children:l}),u.jsx("button",{onClick:h,className:`flex-1 px-4 py-3 rounded-full font-bold hover:scale-105 transition-transform ${c==="danger"?"bg-red-500 text-white":"bg-[var(--sky-blue)] text-white"}`,children:a})]})]})}):null}function Dh(s){const r=new Date(s),a=new Date().getTime()-r.getTime(),l=Math.floor(a/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l} days ago`:r.toLocaleDateString()}function _x(){const{t:s}=xt(),{child:r,loading:n,updateCompanyLogoUrl:a}=ln(),l=ya(),[c,h]=S.useState([]),[p,m]=S.useState(!0),[y,v]=S.useState(!1),[w,b]=S.useState(null),[C,O]=S.useState(!1),[T,E]=S.useState(null);S.useEffect(()=>{!n&&!r&&l("/dev/login")},[r,n,l]),S.useEffect(()=>{async function F(){if(r!=null&&r.id){m(!0);const G=await ru(r.id);h(G),m(!1)}}F()},[r==null?void 0:r.id]);const M=F=>{b(F),v(!0)},B=()=>{v(!1),b(null)},j=()=>{w!==null&&c[w]&&(E(c[w]),O(!0))},D=async()=>{T&&(r!=null&&r.id)&&(await xf(r.id,T.id),h(F=>F.filter(G=>G.id!==T.id)),O(!1),E(null),B())};return n?u.jsx("div",{className:"min-h-screen bg-sky-gradient flex items-center justify-center",children:u.jsx("div",{className:"text-2xl",children:"Loading..."})}):r?u.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[u.jsx(sn,{}),u.jsx("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:u.jsxs(mt,{to:"/dashboard",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:s("common.back")})]})}),u.jsx("main",{className:"relative z-10 px-4 md:px-8 pb-8 pt-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[var(--text-primary)] mb-2",children:" My Creations"}),u.jsx("p",{className:"text-[var(--text-secondary)]",children:"All the amazing logos you've created!"})]}),p?u.jsx("div",{className:"flex items-center justify-center py-16",children:u.jsx("div",{className:"animate-spin text-4xl",children:""})}):c.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:c.map((F,G)=>u.jsx(nu,{imageUrl:F.image_url,title:F.company_name||"My Logo",subtitle:`${F.business_type||""}  ${F.logo_style||""}`,showDate:!0,date:Dh(F.created_at),planType:F.plan_type,onClick:()=>M(G)},F.id))}):u.jsxs("div",{className:"bg-white/70 rounded-3xl p-12 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"No creations yet!"}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"Start your creative journey by making your first logo."}),u.jsx(mt,{to:"/tools/logo-maker",className:"inline-block px-8 py-3 bg-[var(--sky-blue)] text-white font-bold rounded-full hover:scale-105 transition-transform shadow-[var(--shadow-medium)]",children:"Create My First Logo "})]})]})}),w!==null&&c[w]&&u.jsx(iu,{isOpen:y,imageUrl:c[w].image_url,title:c[w].company_name||"My Logo",subtitle:`Created ${Dh(c[w].created_at)}`,onClose:B,showPickButton:!0,pickButtonLabel:"Set as Company Logo ",onPick:async()=>{var G,oe,ye,xe,Ce,pe;const F=c[w];if(console.log(" Set Company Logo clicked:",{logoId:F.id,childId:r==null?void 0:r.id,companyId:(oe=(G=r==null?void 0:r.companies)==null?void 0:G[0])==null?void 0:oe.id}),r!=null&&r.id&&((xe=(ye=r.companies)==null?void 0:ye[0])!=null&&xe.id))try{const te=await ba(r.id,F.id,F.image_url,r.companies[0].id);console.log(" selectLogoAndUpdateCompany result:",te),te&&a(F.image_url),B()}catch(te){console.error(" Error setting company logo:",te),B()}else console.warn(" Missing child or company ID:",{childId:r==null?void 0:r.id,companyId:(pe=(Ce=r==null?void 0:r.companies)==null?void 0:Ce[0])==null?void 0:pe.id})},showDeleteButton:!0,onDelete:j}),u.jsx(kx,{isOpen:C,title:"Delete Logo?",message:"This will permanently remove this logo from your creations. This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Keep It",confirmVariant:"danger",onConfirm:D,onCancel:()=>{O(!1),E(null)}})]}):null}function Sx(){const{child:s,isDevMode:r,logout:n}=ln();return!r||!s?null:u.jsxs("div",{className:"relative w-full z-50 py-2 px-4 text-center text-sm font-bold",style:{background:"linear-gradient(90deg, #ff6b6b 0%, #ffa502 50%, #ff6b6b 100%)",color:"white"},children:[u.jsx("span",{className:"mr-2",children:""}),"DEV MODE  Impersonating: ",u.jsx("span",{className:"underline",children:s.name})," (Age ",s.age,")",u.jsx("button",{onClick:n,className:"ml-4 px-3 py-1 bg-white/20 rounded-full hover:bg-white/30 transition-all text-xs",children:"Logout"})]})}function jx(){return u.jsxs(u.Fragment,{children:[u.jsx(Sx,{}),u.jsxs(Eg,{children:[u.jsx(Ut,{path:"/",element:u.jsx(Dg,{})}),u.jsx(Ut,{path:"/dev/login",element:u.jsx(bx,{})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(O0,{})}),u.jsx(Ut,{path:"/creations",element:u.jsx(_x,{})}),u.jsx(Ut,{path:"/tools/logo-maker",element:u.jsx(A0,{})}),u.jsx(Ut,{path:"/tools/logo-maker-v2",element:u.jsx(I0,{})}),u.jsx(Ut,{path:"/tools/product-idea",element:u.jsx($0,{})}),u.jsx(Ut,{path:"/tools/packaging-idea",element:u.jsx(D0,{})}),u.jsx(Ut,{path:"/tools/booth-ready",element:u.jsx(J0,{})}),u.jsx(Ut,{path:"/tools/profit-calculator",element:u.jsx(Q0,{})}),u.jsx(Ut,{path:"/tools/sales-buddy",element:u.jsx(wx,{})})]})]})}Im.createRoot(document.getElementById("root")).render(u.jsx(zh.StrictMode,{children:u.jsx(Ag,{children:u.jsx($g,{children:u.jsx(k0,{children:u.jsx(jx,{})})})})}));
