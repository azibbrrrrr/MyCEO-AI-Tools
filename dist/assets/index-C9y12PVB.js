function hm(s,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in s)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Rh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ol={exports:{}},Ns={},al={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function fm(){if(Dd)return de;Dd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function j(S,L,oe){this.props=S,this.context=L,this.refs=T,this.updater=oe||N}j.prototype.isReactComponent={},j.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},j.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function M(){}M.prototype=j.prototype;function I(S,L,oe){this.props=S,this.context=L,this.refs=T,this.updater=oe||N}var E=I.prototype=new M;E.constructor=I,R(E,j.prototype),E.isPureReactComponent=!0;var $=Array.isArray,q=Object.prototype.hasOwnProperty,Q={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function he(S,L,oe){var le,ce={},pe=null,Se=null;if(L!=null)for(le in L.ref!==void 0&&(Se=L.ref),L.key!==void 0&&(pe=""+L.key),L)q.call(L,le)&&!ne.hasOwnProperty(le)&&(ce[le]=L[le]);var ve=arguments.length-2;if(ve===1)ce.children=oe;else if(1<ve){for(var je=Array(ve),qe=0;qe<ve;qe++)je[qe]=arguments[qe+2];ce.children=je}if(S&&S.defaultProps)for(le in ve=S.defaultProps,ve)ce[le]===void 0&&(ce[le]=ve[le]);return{$$typeof:s,type:S,key:pe,ref:Se,props:ce,_owner:Q.current}}function xe(S,L){return{$$typeof:s,type:S.type,key:L,ref:S.ref,props:S.props,_owner:S._owner}}function Fe(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function ue(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(oe){return L[oe]})}var Z=/\/+/g;function me(S,L){return typeof S=="object"&&S!==null&&S.key!=null?ue(""+S.key):L.toString(36)}function be(S,L,oe,le,ce){var pe=typeof S;(pe==="undefined"||pe==="boolean")&&(S=null);var Se=!1;if(S===null)Se=!0;else switch(pe){case"string":case"number":Se=!0;break;case"object":switch(S.$$typeof){case s:case r:Se=!0}}if(Se)return Se=S,ce=ce(Se),S=le===""?"."+me(Se,0):le,$(ce)?(oe="",S!=null&&(oe=S.replace(Z,"$&/")+"/"),be(ce,L,oe,"",function(qe){return qe})):ce!=null&&(Fe(ce)&&(ce=xe(ce,oe+(!ce.key||Se&&Se.key===ce.key?"":(""+ce.key).replace(Z,"$&/")+"/")+S)),L.push(ce)),1;if(Se=0,le=le===""?".":le+":",$(S))for(var ve=0;ve<S.length;ve++){pe=S[ve];var je=le+me(pe,ve);Se+=be(pe,L,oe,je,ce)}else if(je=_(S),typeof je=="function")for(S=je.call(S),ve=0;!(pe=S.next()).done;)pe=pe.value,je=le+me(pe,ve++),Se+=be(pe,L,oe,je,ce);else if(pe==="object")throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Se}function ke(S,L,oe){if(S==null)return S;var le=[],ce=0;return be(S,le,"","",function(pe){return L.call(oe,pe,ce++)}),le}function Ne(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(oe){(S._status===0||S._status===-1)&&(S._status=1,S._result=oe)},function(oe){(S._status===0||S._status===-1)&&(S._status=2,S._result=oe)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var fe={current:null},F={transition:null},ee={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:F,ReactCurrentOwner:Q};function V(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:ke,forEach:function(S,L,oe){ke(S,function(){L.apply(this,arguments)},oe)},count:function(S){var L=0;return ke(S,function(){L++}),L},toArray:function(S){return ke(S,function(L){return L})||[]},only:function(S){if(!Fe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},de.Component=j,de.Fragment=n,de.Profiler=l,de.PureComponent=I,de.StrictMode=o,de.Suspense=m,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,de.act=V,de.cloneElement=function(S,L,oe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var le=R({},S.props),ce=S.key,pe=S.ref,Se=S._owner;if(L!=null){if(L.ref!==void 0&&(pe=L.ref,Se=Q.current),L.key!==void 0&&(ce=""+L.key),S.type&&S.type.defaultProps)var ve=S.type.defaultProps;for(je in L)q.call(L,je)&&!ne.hasOwnProperty(je)&&(le[je]=L[je]===void 0&&ve!==void 0?ve[je]:L[je])}var je=arguments.length-2;if(je===1)le.children=oe;else if(1<je){ve=Array(je);for(var qe=0;qe<je;qe++)ve[qe]=arguments[qe+2];le.children=ve}return{$$typeof:s,type:S.type,key:ce,ref:pe,props:le,_owner:Se}},de.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},de.createElement=he,de.createFactory=function(S){var L=he.bind(null,S);return L.type=S,L},de.createRef=function(){return{current:null}},de.forwardRef=function(S){return{$$typeof:p,render:S}},de.isValidElement=Fe,de.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:Ne}},de.memo=function(S,L){return{$$typeof:v,type:S,compare:L===void 0?null:L}},de.startTransition=function(S){var L=F.transition;F.transition={};try{S()}finally{F.transition=L}},de.unstable_act=V,de.useCallback=function(S,L){return fe.current.useCallback(S,L)},de.useContext=function(S){return fe.current.useContext(S)},de.useDebugValue=function(){},de.useDeferredValue=function(S){return fe.current.useDeferredValue(S)},de.useEffect=function(S,L){return fe.current.useEffect(S,L)},de.useId=function(){return fe.current.useId()},de.useImperativeHandle=function(S,L,oe){return fe.current.useImperativeHandle(S,L,oe)},de.useInsertionEffect=function(S,L){return fe.current.useInsertionEffect(S,L)},de.useLayoutEffect=function(S,L){return fe.current.useLayoutEffect(S,L)},de.useMemo=function(S,L){return fe.current.useMemo(S,L)},de.useReducer=function(S,L,oe){return fe.current.useReducer(S,L,oe)},de.useRef=function(S){return fe.current.useRef(S)},de.useState=function(S){return fe.current.useState(S)},de.useSyncExternalStore=function(S,L,oe){return fe.current.useSyncExternalStore(S,L,oe)},de.useTransition=function(){return fe.current.useTransition()},de.version="18.3.1",de}var Ud;function Bl(){return Ud||(Ud=1,al.exports=fm()),al.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function pm(){if(zd)return Ns;zd=1;var s=Bl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,v){var y,x={},_=null,N=null;v!==void 0&&(_=""+v),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(N=m.ref);for(y in m)o.call(m,y)&&!u.hasOwnProperty(y)&&(x[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:r,type:p,key:_,ref:N,props:x,_owner:l.current}}return Ns.Fragment=n,Ns.jsx=h,Ns.jsxs=h,Ns}var Fd;function mm(){return Fd||(Fd=1,ol.exports=pm()),ol.exports}var d=mm(),O=Bl();const Oh=Rh(O),gm=hm({__proto__:null,default:Oh},[O]);var eo={},ll={exports:{}},wt={},ul={exports:{}},cl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function vm(){return Wd||(Wd=1,(function(s){function r(F,ee){var V=F.length;F.push(ee);e:for(;0<V;){var S=V-1>>>1,L=F[S];if(0<l(L,ee))F[S]=ee,F[V]=L,V=S;else break e}}function n(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var ee=F[0],V=F.pop();if(V!==ee){F[0]=V;e:for(var S=0,L=F.length,oe=L>>>1;S<oe;){var le=2*(S+1)-1,ce=F[le],pe=le+1,Se=F[pe];if(0>l(ce,V))pe<L&&0>l(Se,ce)?(F[S]=Se,F[pe]=V,S=pe):(F[S]=ce,F[le]=V,S=le);else if(pe<L&&0>l(Se,V))F[S]=Se,F[pe]=V,S=pe;else break e}}return ee}function l(F,ee){var V=F.sortIndex-ee.sortIndex;return V!==0?V:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],v=[],y=1,x=null,_=3,N=!1,R=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var ee=n(v);ee!==null;){if(ee.callback===null)o(v);else if(ee.startTime<=F)o(v),ee.sortIndex=ee.expirationTime,r(m,ee);else break;ee=n(v)}}function $(F){if(T=!1,E(F),!R)if(n(m)!==null)R=!0,Ne(q);else{var ee=n(v);ee!==null&&fe($,ee.startTime-F)}}function q(F,ee){R=!1,T&&(T=!1,M(he),he=-1),N=!0;var V=_;try{for(E(ee),x=n(m);x!==null&&(!(x.expirationTime>ee)||F&&!ue());){var S=x.callback;if(typeof S=="function"){x.callback=null,_=x.priorityLevel;var L=S(x.expirationTime<=ee);ee=s.unstable_now(),typeof L=="function"?x.callback=L:x===n(m)&&o(m),E(ee)}else o(m);x=n(m)}if(x!==null)var oe=!0;else{var le=n(v);le!==null&&fe($,le.startTime-ee),oe=!1}return oe}finally{x=null,_=V,N=!1}}var Q=!1,ne=null,he=-1,xe=5,Fe=-1;function ue(){return!(s.unstable_now()-Fe<xe)}function Z(){if(ne!==null){var F=s.unstable_now();Fe=F;var ee=!0;try{ee=ne(!0,F)}finally{ee?me():(Q=!1,ne=null)}}else Q=!1}var me;if(typeof I=="function")me=function(){I(Z)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,ke=be.port2;be.port1.onmessage=Z,me=function(){ke.postMessage(null)}}else me=function(){j(Z,0)};function Ne(F){ne=F,Q||(Q=!0,me())}function fe(F,ee){he=j(function(){F(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_continueExecution=function(){R||N||(R=!0,Ne(q))},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(F){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var V=_;_=ee;try{return F()}finally{_=V}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=_;_=F;try{return ee()}finally{_=V}},s.unstable_scheduleCallback=function(F,ee,V){var S=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?S+V:S):V=S,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,F={id:y++,callback:ee,priorityLevel:F,startTime:V,expirationTime:L,sortIndex:-1},V>S?(F.sortIndex=V,r(v,F),n(m)===null&&F===n(v)&&(T?(M(he),he=-1):T=!0,fe($,V-S))):(F.sortIndex=L,r(m,F),R||N||(R=!0,Ne(q))),F},s.unstable_shouldYield=ue,s.unstable_wrapCallback=function(F){var ee=_;return function(){var V=_;_=ee;try{return F.apply(this,arguments)}finally{_=V}}}})(cl)),cl}var Kd;function ym(){return Kd||(Kd=1,ul.exports=vm()),ul.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function wm(){if(Vd)return wt;Vd=1;var s=Bl(),r=ym();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function _(e){return m.call(x,e)?!0:m.call(y,e)?!1:v.test(e)?x[e]=!0:(y[e]=!0,!1)}function N(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,i,a){if(t===null||typeof t>"u"||N(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,i,a,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,I);j[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,I);j[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,I);j[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,t,i,a){var c=j.hasOwnProperty(t)?j[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,i,c,a)&&(i=null),a||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var $=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Q=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),ue=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),F=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,S;function L(e){if(S===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var oe=!1;function le(e,t){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var a=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){a=A}e.call(t.prototype)}else{try{throw Error()}catch(A){a=A}e()}}catch(A){if(A&&a&&typeof A.stack=="string"){for(var c=A.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,w=f.length-1;1<=g&&0<=w&&c[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==f[w]){var b=`
`+c[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?L(e):""}function ce(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case Q:return"Portal";case xe:return"Profiler";case he:return"StrictMode";case me:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ue:return(e.displayName||"Context")+".Consumer";case Fe:return(e._context.displayName||"Context")+".Provider";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qe(e){var t=je(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ht(e){e._valueTracker||(e._valueTracker=qe(e))}function zn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=je(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function W(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ye(e,t){var i=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function _e(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ve(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ft(e,t){t=t.checked,t!=null&&E(e,"checked",t,!1)}function Me(e,t){ft(e,t);var i=ve(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?De(e,t.type,i):t.hasOwnProperty("defaultValue")&&De(e,t.type,ve(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function et(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function De(e,t,i){(t!=="number"||W(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Qe=Array.isArray;function ct(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ve(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function tn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mt(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Qe(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ve(i)}}function Vs(e,t){var i=ve(t.value),a=ve(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Fn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,Zl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gf=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(e){gf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kn[t]=Kn[e]})});function eu(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Kn.hasOwnProperty(e)&&Kn[e]?(""+t).trim():t+"px"}function tu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=eu(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var vf=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(e,t){if(t){if(vf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bo=null,rn=null,nn=null;function ru(e){if(e=hs(e)){if(typeof bo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=mi(t),bo(e.stateNode,e.type,t))}}function nu(e){rn?nn?nn.push(e):nn=[e]:rn=e}function su(){if(rn){var e=rn,t=nn;if(nn=rn=null,ru(e),t)for(e=0;e<t.length;e++)ru(t[e])}}function iu(e,t){return e(t)}function ou(){}var ko=!1;function au(e,t,i){if(ko)return e(t,i);ko=!0;try{return iu(e,t,i)}finally{ko=!1,(rn!==null||nn!==null)&&(ou(),su())}}function Vn(e,t){var i=e.stateNode;if(i===null)return null;var a=mi(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var So=!1;if(p)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){So=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{So=!1}function yf(e,t,i,a,c,f,g,w,b){var A=Array.prototype.slice.call(arguments,3);try{t.apply(i,A)}catch(D){this.onError(D)}}var Gn=!1,Gs=null,Hs=!1,Eo=null,wf={onError:function(e){Gn=!0,Gs=e}};function xf(e,t,i,a,c,f,g,w,b){Gn=!1,Gs=null,yf.apply(wf,arguments)}function _f(e,t,i,a,c,f,g,w,b){if(xf.apply(this,arguments),Gn){if(Gn){var A=Gs;Gn=!1,Gs=null}else throw Error(n(198));Hs||(Hs=!0,Eo=A)}}function Ir(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function lu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uu(e){if(Ir(e)!==e)throw Error(n(188))}function bf(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return uu(c),e;if(f===a)return uu(c),t;f=f.sibling}throw Error(n(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,a=f;break}if(w===a){g=!0,a=c,i=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===i){g=!0,i=f,a=c;break}if(w===a){g=!0,a=f,i=c;break}w=w.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==a)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function cu(e){return e=bf(e),e!==null?du(e):null}function du(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=du(e);if(t!==null)return t;e=e.sibling}return null}var hu=r.unstable_scheduleCallback,fu=r.unstable_cancelCallback,kf=r.unstable_shouldYield,Sf=r.unstable_requestPaint,Ue=r.unstable_now,Ef=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,pu=r.unstable_UserBlockingPriority,Js=r.unstable_NormalPriority,jf=r.unstable_LowPriority,mu=r.unstable_IdlePriority,Qs=null,Jt=null;function Nf(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Qs,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Pf,Cf=Math.log,Tf=Math.LN2;function Pf(e){return e>>>=0,e===0?32:31-(Cf(e)/Tf|0)|0}var Ys=64,Xs=4194304;function Hn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var w=g&~c;w!==0?a=Hn(w):(f&=g,f!==0&&(a=Hn(f)))}else g=i&~c,g!==0?a=Hn(g):f!==0&&(a=Hn(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Bt(t),c=1<<i,a|=e[i],t&=~c;return a}function Rf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Bt(f),w=1<<g,b=c[g];b===-1?((w&i)===0||(w&a)!==0)&&(c[g]=Rf(w,t)):b<=t&&(e.expiredLanes|=w),f&=~w}}function No(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gu(){var e=Ys;return Ys<<=1,(Ys&4194240)===0&&(Ys=64),e}function Co(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Jn(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=i}function Af(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Bt(i),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function To(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Bt(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var Ee=0;function vu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yu,Po,wu,xu,_u,Ro=!1,ei=[],dr=null,hr=null,fr=null,Qn=new Map,Yn=new Map,pr=[],If="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bu(e,t){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function Xn(e,t,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=hs(t),t!==null&&Po(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Lf(e,t,i,a,c){switch(t){case"focusin":return dr=Xn(dr,e,t,i,a,c),!0;case"dragenter":return hr=Xn(hr,e,t,i,a,c),!0;case"mouseover":return fr=Xn(fr,e,t,i,a,c),!0;case"pointerover":var f=c.pointerId;return Qn.set(f,Xn(Qn.get(f)||null,e,t,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Yn.set(f,Xn(Yn.get(f)||null,e,t,i,a,c)),!0}return!1}function ku(e){var t=Lr(e.target);if(t!==null){var i=Ir(t);if(i!==null){if(t=i.tag,t===13){if(t=lu(i),t!==null){e.blockedOn=t,_u(e.priority,function(){wu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);xo=a,i.target.dispatchEvent(a),xo=null}else return t=hs(i),t!==null&&Po(t),e.blockedOn=i,!1;t.shift()}return!0}function Su(e,t,i){ti(e)&&i.delete(t)}function Mf(){Ro=!1,dr!==null&&ti(dr)&&(dr=null),hr!==null&&ti(hr)&&(hr=null),fr!==null&&ti(fr)&&(fr=null),Qn.forEach(Su),Yn.forEach(Su)}function Zn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ro||(Ro=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mf)))}function es(e){function t(c){return Zn(c,e)}if(0<ei.length){Zn(ei[0],e);for(var i=1;i<ei.length;i++){var a=ei[i];a.blockedOn===e&&(a.blockedOn=null)}}for(dr!==null&&Zn(dr,e),hr!==null&&Zn(hr,e),fr!==null&&Zn(fr,e),Qn.forEach(t),Yn.forEach(t),i=0;i<pr.length;i++)a=pr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<pr.length&&(i=pr[0],i.blockedOn===null);)ku(i),i.blockedOn===null&&pr.shift()}var sn=$.ReactCurrentBatchConfig,ri=!0;function Bf(e,t,i,a){var c=Ee,f=sn.transition;sn.transition=null;try{Ee=1,Oo(e,t,i,a)}finally{Ee=c,sn.transition=f}}function $f(e,t,i,a){var c=Ee,f=sn.transition;sn.transition=null;try{Ee=4,Oo(e,t,i,a)}finally{Ee=c,sn.transition=f}}function Oo(e,t,i,a){if(ri){var c=Ao(e,t,i,a);if(c===null)Qo(e,t,a,ni,i),bu(e,a);else if(Lf(c,e,t,i,a))a.stopPropagation();else if(bu(e,a),t&4&&-1<If.indexOf(e)){for(;c!==null;){var f=hs(c);if(f!==null&&yu(f),f=Ao(e,t,i,a),f===null&&Qo(e,t,a,ni,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Qo(e,t,a,null,i)}}var ni=null;function Ao(e,t,i,a){if(ni=null,e=_o(a),e=Lr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(i=t.tag,i===13){if(e=lu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ni=e,null}function Eu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case jo:return 1;case pu:return 4;case Js:case jf:return 16;case mu:return 536870912;default:return 16}default:return 16}}var mr=null,Io=null,si=null;function ju(){if(si)return si;var e,t=Io,i=t.length,a,c="value"in mr?mr.value:mr.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[f-a];a++);return si=c.slice(e,1<a?1-a:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function Nu(){return!1}function xt(e){function t(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?oi:Nu,this.isPropagationStopped=Nu,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=xt(on),ts=V({},on,{view:0,detail:0}),Df=xt(ts),Mo,Bo,rs,ai=V({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Mo=e.screenX-rs.screenX,Bo=e.screenY-rs.screenY):Bo=Mo=0,rs=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),Cu=xt(ai),Uf=V({},ai,{dataTransfer:0}),zf=xt(Uf),Ff=V({},ts,{relatedTarget:0}),$o=xt(Ff),Wf=V({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=xt(Wf),Vf=V({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qf=xt(Vf),Gf=V({},on,{data:0}),Tu=xt(Gf),Hf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qf[e])?!!t[e]:!1}function Do(){return Yf}var Xf=V({},ts,{key:function(e){if(e.key){var t=Hf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zf=xt(Xf),ep=V({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=xt(ep),tp=V({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),rp=xt(tp),np=V({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=xt(np),ip=V({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),op=xt(ip),ap=[9,13,27,32],Uo=p&&"CompositionEvent"in window,ns=null;p&&"documentMode"in document&&(ns=document.documentMode);var lp=p&&"TextEvent"in window&&!ns,Ru=p&&(!Uo||ns&&8<ns&&11>=ns),Ou=" ",Au=!1;function Iu(e,t){switch(e){case"keyup":return ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var an=!1;function up(e,t){switch(e){case"compositionend":return Lu(t);case"keypress":return t.which!==32?null:(Au=!0,Ou);case"textInput":return e=t.data,e===Ou&&Au?null:e;default:return null}}function cp(e,t){if(an)return e==="compositionend"||!Uo&&Iu(e,t)?(e=ju(),si=Io=mr=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ru&&t.locale!=="ko"?null:t.data;default:return null}}var dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dp[e.type]:t==="textarea"}function Bu(e,t,i,a){nu(a),t=hi(t,"onChange"),0<t.length&&(i=new Lo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ss=null,is=null;function hp(e){tc(e,0)}function li(e){var t=hn(e);if(zn(t))return e}function fp(e,t){if(e==="change")return t}var $u=!1;if(p){var zo;if(p){var Fo="oninput"in document;if(!Fo){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),Fo=typeof Du.oninput=="function"}zo=Fo}else zo=!1;$u=zo&&(!document.documentMode||9<document.documentMode)}function Uu(){ss&&(ss.detachEvent("onpropertychange",zu),is=ss=null)}function zu(e){if(e.propertyName==="value"&&li(is)){var t=[];Bu(t,is,e,_o(e)),au(hp,t)}}function pp(e,t,i){e==="focusin"?(Uu(),ss=t,is=i,ss.attachEvent("onpropertychange",zu)):e==="focusout"&&Uu()}function mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(is)}function gp(e,t){if(e==="click")return li(t)}function vp(e,t){if(e==="input"||e==="change")return li(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:yp;function os(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!m.call(t,c)||!$t(e[c],t[c]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var i=Fu(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Fu(i)}}function Ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vu(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=W(e.document)}return t}function Wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Vu(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Ku(i.ownerDocument.documentElement,i)){if(a!==null&&Wo(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=Wu(i,f);var g=Wu(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xp=p&&"documentMode"in document&&11>=document.documentMode,ln=null,Ko=null,as=null,Vo=!1;function qu(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vo||ln==null||ln!==W(a)||(a=ln,"selectionStart"in a&&Wo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),as&&os(as,a)||(as=a,a=hi(Ko,"onSelect"),0<a.length&&(t=new Lo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=ln)))}function ui(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var un={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionend:ui("Transition","TransitionEnd")},qo={},Gu={};p&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);function ci(e){if(qo[e])return qo[e];if(!un[e])return e;var t=un[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Gu)return qo[e]=t[i];return e}var Hu=ci("animationend"),Ju=ci("animationiteration"),Qu=ci("animationstart"),Yu=ci("transitionend"),Xu=new Map,Zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Xu.set(e,t),u(t,[e])}for(var Go=0;Go<Zu.length;Go++){var Ho=Zu[Go],_p=Ho.toLowerCase(),bp=Ho[0].toUpperCase()+Ho.slice(1);gr(_p,"on"+bp)}gr(Hu,"onAnimationEnd"),gr(Ju,"onAnimationIteration"),gr(Qu,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(Yu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function ec(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,_f(a,t,void 0,e),e.currentTarget=null}function tc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var w=a[g],b=w.instance,A=w.currentTarget;if(w=w.listener,b!==f&&c.isPropagationStopped())break e;ec(c,w,A),f=b}else for(g=0;g<a.length;g++){if(w=a[g],b=w.instance,A=w.currentTarget,w=w.listener,b!==f&&c.isPropagationStopped())break e;ec(c,w,A),f=b}}}if(Hs)throw e=Eo,Hs=!1,Eo=null,e}function Pe(e,t){var i=t[ra];i===void 0&&(i=t[ra]=new Set);var a=e+"__bubble";i.has(a)||(rc(t,e,2,!1),i.add(a))}function Jo(e,t,i){var a=0;t&&(a|=4),rc(i,e,a,t)}var di="_reactListening"+Math.random().toString(36).slice(2);function us(e){if(!e[di]){e[di]=!0,o.forEach(function(i){i!=="selectionchange"&&(kp.has(i)||Jo(i,!1,e),Jo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[di]||(t[di]=!0,Jo("selectionchange",!1,t))}}function rc(e,t,i,a){switch(Eu(t)){case 1:var c=Bf;break;case 4:c=$f;break;default:c=Oo}i=c.bind(null,t,i,e),c=void 0,!So||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Qo(e,t,i,a,c){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;w!==null;){if(g=Lr(w),g===null)return;if(b=g.tag,b===5||b===6){a=f=g;continue e}w=w.parentNode}}a=a.return}au(function(){var A=f,D=_o(i),U=[];e:{var B=Xu.get(e);if(B!==void 0){var K=Lo,H=e;switch(e){case"keypress":if(ii(i)===0)break e;case"keydown":case"keyup":K=Zf;break;case"focusin":H="focus",K=$o;break;case"focusout":H="blur",K=$o;break;case"beforeblur":case"afterblur":K=$o;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=rp;break;case Hu:case Ju:case Qu:K=Kf;break;case Yu:K=sp;break;case"scroll":K=Df;break;case"wheel":K=op;break;case"copy":case"cut":case"paste":K=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Pu}var J=(t&4)!==0,ze=!J&&e==="scroll",C=J?B!==null?B+"Capture":null:B;J=[];for(var k=A,P;k!==null;){P=k;var z=P.stateNode;if(P.tag===5&&z!==null&&(P=z,C!==null&&(z=Vn(k,C),z!=null&&J.push(cs(k,z,P)))),ze)break;k=k.return}0<J.length&&(B=new K(B,H,null,i,D),U.push({event:B,listeners:J}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",B&&i!==xo&&(H=i.relatedTarget||i.fromElement)&&(Lr(H)||H[tr]))break e;if((K||B)&&(B=D.window===D?D:(B=D.ownerDocument)?B.defaultView||B.parentWindow:window,K?(H=i.relatedTarget||i.toElement,K=A,H=H?Lr(H):null,H!==null&&(ze=Ir(H),H!==ze||H.tag!==5&&H.tag!==6)&&(H=null)):(K=null,H=A),K!==H)){if(J=Cu,z="onMouseLeave",C="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(J=Pu,z="onPointerLeave",C="onPointerEnter",k="pointer"),ze=K==null?B:hn(K),P=H==null?B:hn(H),B=new J(z,k+"leave",K,i,D),B.target=ze,B.relatedTarget=P,z=null,Lr(D)===A&&(J=new J(C,k+"enter",H,i,D),J.target=P,J.relatedTarget=ze,z=J),ze=z,K&&H)t:{for(J=K,C=H,k=0,P=J;P;P=cn(P))k++;for(P=0,z=C;z;z=cn(z))P++;for(;0<k-P;)J=cn(J),k--;for(;0<P-k;)C=cn(C),P--;for(;k--;){if(J===C||C!==null&&J===C.alternate)break t;J=cn(J),C=cn(C)}J=null}else J=null;K!==null&&nc(U,B,K,J,!1),H!==null&&ze!==null&&nc(U,ze,H,J,!0)}}e:{if(B=A?hn(A):window,K=B.nodeName&&B.nodeName.toLowerCase(),K==="select"||K==="input"&&B.type==="file")var Y=fp;else if(Mu(B))if($u)Y=vp;else{Y=mp;var te=pp}else(K=B.nodeName)&&K.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(Y=gp);if(Y&&(Y=Y(e,A))){Bu(U,Y,i,D);break e}te&&te(e,B,A),e==="focusout"&&(te=B._wrapperState)&&te.controlled&&B.type==="number"&&De(B,"number",B.value)}switch(te=A?hn(A):window,e){case"focusin":(Mu(te)||te.contentEditable==="true")&&(ln=te,Ko=A,as=null);break;case"focusout":as=Ko=ln=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,qu(U,i,D);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":qu(U,i,D)}var re;if(Uo)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else an?Iu(e,i)&&(ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ae="onCompositionStart");ae&&(Ru&&i.locale!=="ko"&&(an||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&an&&(re=ju()):(mr=D,Io="value"in mr?mr.value:mr.textContent,an=!0)),te=hi(A,ae),0<te.length&&(ae=new Tu(ae,e,null,i,D),U.push({event:ae,listeners:te}),re?ae.data=re:(re=Lu(i),re!==null&&(ae.data=re)))),(re=lp?up(e,i):cp(e,i))&&(A=hi(A,"onBeforeInput"),0<A.length&&(D=new Tu("onBeforeInput","beforeinput",null,i,D),U.push({event:D,listeners:A}),D.data=re))}tc(U,t)})}function cs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function hi(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Vn(e,i),f!=null&&a.unshift(cs(e,f,c)),f=Vn(e,t),f!=null&&a.push(cs(e,f,c))),e=e.return}return a}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nc(e,t,i,a,c){for(var f=t._reactName,g=[];i!==null&&i!==a;){var w=i,b=w.alternate,A=w.stateNode;if(b!==null&&b===a)break;w.tag===5&&A!==null&&(w=A,c?(b=Vn(i,f),b!=null&&g.unshift(cs(i,b,w))):c||(b=Vn(i,f),b!=null&&g.push(cs(i,b,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Sp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(Sp,`
`).replace(Ep,"")}function fi(e,t,i){if(t=sc(t),sc(e)!==t&&i)throw Error(n(425))}function pi(){}var Yo=null,Xo=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ea=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,ic=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof ic<"u"?function(e){return ic.resolve(null).then(e).catch(Cp)}:ea;function Cp(e){setTimeout(function(){throw e})}function ta(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),es(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);es(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var dn=Math.random().toString(36).slice(2),Qt="__reactFiber$"+dn,ds="__reactProps$"+dn,tr="__reactContainer$"+dn,ra="__reactEvents$"+dn,Tp="__reactListeners$"+dn,Pp="__reactHandles$"+dn;function Lr(e){var t=e[Qt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[tr]||i[Qt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=oc(e);e!==null;){if(i=e[Qt])return i;e=oc(e)}return t}e=i,i=e.parentNode}return null}function hs(e){return e=e[Qt]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function mi(e){return e[ds]||null}var na=[],fn=-1;function yr(e){return{current:e}}function Re(e){0>fn||(e.current=na[fn],na[fn]=null,fn--)}function Ce(e,t){fn++,na[fn]=e.current,e.current=t}var wr={},it=yr(wr),pt=yr(!1),Mr=wr;function pn(e,t){var i=e.type.contextTypes;if(!i)return wr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function mt(e){return e=e.childContextTypes,e!=null}function gi(){Re(pt),Re(it)}function ac(e,t,i){if(it.current!==wr)throw Error(n(168));Ce(it,t),Ce(pt,i)}function lc(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(n(108,Se(e)||"Unknown",c));return V({},i,a)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Mr=it.current,Ce(it,e),Ce(pt,pt.current),!0}function uc(e,t,i){var a=e.stateNode;if(!a)throw Error(n(169));i?(e=lc(e,t,Mr),a.__reactInternalMemoizedMergedChildContext=e,Re(pt),Re(it),Ce(it,e)):Re(pt),Ce(pt,i)}var rr=null,yi=!1,sa=!1;function cc(e){rr===null?rr=[e]:rr.push(e)}function Rp(e){yi=!0,cc(e)}function xr(){if(!sa&&rr!==null){sa=!0;var e=0,t=Ee;try{var i=rr;for(Ee=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}rr=null,yi=!1}catch(c){throw rr!==null&&(rr=rr.slice(e+1)),hu(jo,xr),c}finally{Ee=t,sa=!1}}return null}var mn=[],gn=0,wi=null,xi=0,Pt=[],Rt=0,Br=null,nr=1,sr="";function $r(e,t){mn[gn++]=xi,mn[gn++]=wi,wi=e,xi=t}function dc(e,t,i){Pt[Rt++]=nr,Pt[Rt++]=sr,Pt[Rt++]=Br,Br=e;var a=nr;e=sr;var c=32-Bt(a)-1;a&=~(1<<c),i+=1;var f=32-Bt(t)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,nr=1<<32-Bt(t)+c|i<<c|a,sr=f+e}else nr=1<<f|i<<c|a,sr=e}function ia(e){e.return!==null&&($r(e,1),dc(e,1,0))}function oa(e){for(;e===wi;)wi=mn[--gn],mn[gn]=null,xi=mn[--gn],mn[gn]=null;for(;e===Br;)Br=Pt[--Rt],Pt[Rt]=null,sr=Pt[--Rt],Pt[Rt]=null,nr=Pt[--Rt],Pt[Rt]=null}var _t=null,bt=null,Oe=!1,Dt=null;function hc(e,t){var i=Lt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function fc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,bt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Br!==null?{id:nr,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Lt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,_t=e,bt=null,!0):!1;default:return!1}}function aa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function la(e){if(Oe){var t=bt;if(t){var i=t;if(!fc(e,t)){if(aa(e))throw Error(n(418));t=vr(i.nextSibling);var a=_t;t&&fc(e,t)?hc(a,i):(e.flags=e.flags&-4097|2,Oe=!1,_t=e)}}else{if(aa(e))throw Error(n(418));e.flags=e.flags&-4097|2,Oe=!1,_t=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function _i(e){if(e!==_t)return!1;if(!Oe)return pc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=bt)){if(aa(e))throw mc(),Error(n(418));for(;t;)hc(e,t),t=vr(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){bt=vr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=_t?vr(e.stateNode.nextSibling):null;return!0}function mc(){for(var e=bt;e;)e=vr(e.nextSibling)}function vn(){bt=_t=null,Oe=!1}function ua(e){Dt===null?Dt=[e]:Dt.push(e)}var Op=$.ReactCurrentBatchConfig;function fs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var a=i.stateNode}if(!a)throw Error(n(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var w=c.refs;g===null?delete w[f]:w[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function vc(e){function t(C,k){if(e){var P=C.deletions;P===null?(C.deletions=[k],C.flags|=16):P.push(k)}}function i(C,k){if(!e)return null;for(;k!==null;)t(C,k),k=k.sibling;return null}function a(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function c(C,k){return C=Cr(C,k),C.index=0,C.sibling=null,C}function f(C,k,P){return C.index=P,e?(P=C.alternate,P!==null?(P=P.index,P<k?(C.flags|=2,k):P):(C.flags|=2,k)):(C.flags|=1048576,k)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function w(C,k,P,z){return k===null||k.tag!==6?(k=el(P,C.mode,z),k.return=C,k):(k=c(k,P),k.return=C,k)}function b(C,k,P,z){var Y=P.type;return Y===ne?D(C,k,P.props.children,z,P.key):k!==null&&(k.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ne&&gc(Y)===k.type)?(z=c(k,P.props),z.ref=fs(C,k,P),z.return=C,z):(z=qi(P.type,P.key,P.props,null,C.mode,z),z.ref=fs(C,k,P),z.return=C,z)}function A(C,k,P,z){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=tl(P,C.mode,z),k.return=C,k):(k=c(k,P.children||[]),k.return=C,k)}function D(C,k,P,z,Y){return k===null||k.tag!==7?(k=qr(P,C.mode,z,Y),k.return=C,k):(k=c(k,P),k.return=C,k)}function U(C,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=el(""+k,C.mode,P),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q:return P=qi(k.type,k.key,k.props,null,C.mode,P),P.ref=fs(C,null,k),P.return=C,P;case Q:return k=tl(k,C.mode,P),k.return=C,k;case Ne:var z=k._init;return U(C,z(k._payload),P)}if(Qe(k)||ee(k))return k=qr(k,C.mode,P,null),k.return=C,k;bi(C,k)}return null}function B(C,k,P,z){var Y=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Y!==null?null:w(C,k,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===Y?b(C,k,P,z):null;case Q:return P.key===Y?A(C,k,P,z):null;case Ne:return Y=P._init,B(C,k,Y(P._payload),z)}if(Qe(P)||ee(P))return Y!==null?null:D(C,k,P,z,null);bi(C,P)}return null}function K(C,k,P,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return C=C.get(P)||null,w(k,C,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return C=C.get(z.key===null?P:z.key)||null,b(k,C,z,Y);case Q:return C=C.get(z.key===null?P:z.key)||null,A(k,C,z,Y);case Ne:var te=z._init;return K(C,k,P,te(z._payload),Y)}if(Qe(z)||ee(z))return C=C.get(P)||null,D(k,C,z,Y,null);bi(k,z)}return null}function H(C,k,P,z){for(var Y=null,te=null,re=k,ae=k=0,Ze=null;re!==null&&ae<P.length;ae++){re.index>ae?(Ze=re,re=null):Ze=re.sibling;var we=B(C,re,P[ae],z);if(we===null){re===null&&(re=Ze);break}e&&re&&we.alternate===null&&t(C,re),k=f(we,k,ae),te===null?Y=we:te.sibling=we,te=we,re=Ze}if(ae===P.length)return i(C,re),Oe&&$r(C,ae),Y;if(re===null){for(;ae<P.length;ae++)re=U(C,P[ae],z),re!==null&&(k=f(re,k,ae),te===null?Y=re:te.sibling=re,te=re);return Oe&&$r(C,ae),Y}for(re=a(C,re);ae<P.length;ae++)Ze=K(re,C,ae,P[ae],z),Ze!==null&&(e&&Ze.alternate!==null&&re.delete(Ze.key===null?ae:Ze.key),k=f(Ze,k,ae),te===null?Y=Ze:te.sibling=Ze,te=Ze);return e&&re.forEach(function(Tr){return t(C,Tr)}),Oe&&$r(C,ae),Y}function J(C,k,P,z){var Y=ee(P);if(typeof Y!="function")throw Error(n(150));if(P=Y.call(P),P==null)throw Error(n(151));for(var te=Y=null,re=k,ae=k=0,Ze=null,we=P.next();re!==null&&!we.done;ae++,we=P.next()){re.index>ae?(Ze=re,re=null):Ze=re.sibling;var Tr=B(C,re,we.value,z);if(Tr===null){re===null&&(re=Ze);break}e&&re&&Tr.alternate===null&&t(C,re),k=f(Tr,k,ae),te===null?Y=Tr:te.sibling=Tr,te=Tr,re=Ze}if(we.done)return i(C,re),Oe&&$r(C,ae),Y;if(re===null){for(;!we.done;ae++,we=P.next())we=U(C,we.value,z),we!==null&&(k=f(we,k,ae),te===null?Y=we:te.sibling=we,te=we);return Oe&&$r(C,ae),Y}for(re=a(C,re);!we.done;ae++,we=P.next())we=K(re,C,ae,we.value,z),we!==null&&(e&&we.alternate!==null&&re.delete(we.key===null?ae:we.key),k=f(we,k,ae),te===null?Y=we:te.sibling=we,te=we);return e&&re.forEach(function(dm){return t(C,dm)}),Oe&&$r(C,ae),Y}function ze(C,k,P,z){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var Y=P.key,te=k;te!==null;){if(te.key===Y){if(Y=P.type,Y===ne){if(te.tag===7){i(C,te.sibling),k=c(te,P.props.children),k.return=C,C=k;break e}}else if(te.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ne&&gc(Y)===te.type){i(C,te.sibling),k=c(te,P.props),k.ref=fs(C,te,P),k.return=C,C=k;break e}i(C,te);break}else t(C,te);te=te.sibling}P.type===ne?(k=qr(P.props.children,C.mode,z,P.key),k.return=C,C=k):(z=qi(P.type,P.key,P.props,null,C.mode,z),z.ref=fs(C,k,P),z.return=C,C=z)}return g(C);case Q:e:{for(te=P.key;k!==null;){if(k.key===te)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){i(C,k.sibling),k=c(k,P.children||[]),k.return=C,C=k;break e}else{i(C,k);break}else t(C,k);k=k.sibling}k=tl(P,C.mode,z),k.return=C,C=k}return g(C);case Ne:return te=P._init,ze(C,k,te(P._payload),z)}if(Qe(P))return H(C,k,P,z);if(ee(P))return J(C,k,P,z);bi(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(i(C,k.sibling),k=c(k,P),k.return=C,C=k):(i(C,k),k=el(P,C.mode,z),k.return=C,C=k),g(C)):i(C,k)}return ze}var yn=vc(!0),yc=vc(!1),ki=yr(null),Si=null,wn=null,ca=null;function da(){ca=wn=Si=null}function ha(e){var t=ki.current;Re(ki),e._currentValue=t}function fa(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function xn(e,t){Si=e,ca=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(ca!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(Si===null)throw Error(n(308));wn=e,Si.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var Dr=null;function pa(e){Dr===null?Dr=[e]:Dr.push(e)}function wc(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,pa(t)):(i.next=c.next,c.next=i),t.interleaved=i,ir(e,a)}function ir(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _r=!1;function ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function br(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ge&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,ir(e,i)}return c=a.interleaved,c===null?(t.next=t,pa(a)):(t.next=c.next,c.next=t),a.interleaved=t,ir(e,i)}function Ei(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,To(e,i)}}function _c(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ji(e,t,i,a){var c=e.updateQueue;_r=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var b=w,A=b.next;b.next=null,g===null?f=A:g.next=A,g=b;var D=e.alternate;D!==null&&(D=D.updateQueue,w=D.lastBaseUpdate,w!==g&&(w===null?D.firstBaseUpdate=A:w.next=A,D.lastBaseUpdate=b))}if(f!==null){var U=c.baseState;g=0,D=A=b=null,w=f;do{var B=w.lane,K=w.eventTime;if((a&B)===B){D!==null&&(D=D.next={eventTime:K,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var H=e,J=w;switch(B=t,K=i,J.tag){case 1:if(H=J.payload,typeof H=="function"){U=H.call(K,U,B);break e}U=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=J.payload,B=typeof H=="function"?H.call(K,U,B):H,B==null)break e;U=V({},U,B);break e;case 2:_r=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,B=c.effects,B===null?c.effects=[w]:B.push(w))}else K={eventTime:K,lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},D===null?(A=D=K,b=U):D=D.next=K,g|=B;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;B=w,w=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);if(D===null&&(b=U),c.baseState=b,c.firstBaseUpdate=A,c.lastBaseUpdate=D,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);Fr|=g,e.lanes=g,e.memoizedState=U}}function bc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var ps={},Yt=yr(ps),ms=yr(ps),gs=yr(ps);function Ur(e){if(e===ps)throw Error(n(174));return e}function ga(e,t){switch(Ce(gs,t),Ce(ms,e),Ce(Yt,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}Re(Yt),Ce(Yt,t)}function _n(){Re(Yt),Re(ms),Re(gs)}function kc(e){Ur(gs.current);var t=Ur(Yt.current),i=vo(t,e.type);t!==i&&(Ce(ms,e),Ce(Yt,i))}function va(e){ms.current===e&&(Re(Yt),Re(ms))}var Ae=yr(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function wa(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var Ci=$.ReactCurrentDispatcher,xa=$.ReactCurrentBatchConfig,zr=0,Ie=null,Ge=null,Ye=null,Ti=!1,vs=!1,ys=0,Ap=0;function ot(){throw Error(n(321))}function _a(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!$t(e[i],t[i]))return!1;return!0}function ba(e,t,i,a,c,f){if(zr=f,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?Bp:$p,e=i(a,c),vs){f=0;do{if(vs=!1,ys=0,25<=f)throw Error(n(301));f+=1,Ye=Ge=null,t.updateQueue=null,Ci.current=Dp,e=i(a,c)}while(vs)}if(Ci.current=Oi,t=Ge!==null&&Ge.next!==null,zr=0,Ye=Ge=Ie=null,Ti=!1,t)throw Error(n(300));return e}function ka(){var e=ys!==0;return ys=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ie.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function At(){if(Ge===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Ye===null?Ie.memoizedState:Ye.next;if(t!==null)Ye=t,Ge=e;else{if(e===null)throw Error(n(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ye===null?Ie.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function ws(e,t){return typeof t=="function"?t(e):t}function Sa(e){var t=At(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=Ge,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var w=g=null,b=null,A=f;do{var D=A.lane;if((zr&D)===D)b!==null&&(b=b.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),a=A.hasEagerState?A.eagerState:e(a,A.action);else{var U={lane:D,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};b===null?(w=b=U,g=a):b=b.next=U,Ie.lanes|=D,Fr|=D}A=A.next}while(A!==null&&A!==f);b===null?g=a:b.next=w,$t(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=b,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Ie.lanes|=f,Fr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ea(e){var t=At(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);$t(f,t.memoizedState)||(gt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function Sc(){}function Ec(e,t){var i=Ie,a=At(),c=t(),f=!$t(a.memoizedState,c);if(f&&(a.memoizedState=c,gt=!0),a=a.queue,ja(Cc.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,xs(9,Nc.bind(null,i,a,c,t),void 0,null),Xe===null)throw Error(n(349));(zr&30)!==0||jc(i,t,c)}return c}function jc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Nc(e,t,i,a){t.value=i,t.getSnapshot=a,Tc(t)&&Pc(e)}function Cc(e,t,i){return i(function(){Tc(t)&&Pc(e)})}function Tc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!$t(e,i)}catch{return!0}}function Pc(e){var t=ir(e,1);t!==null&&Wt(t,e,1,-1)}function Rc(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Mp.bind(null,Ie,e),[t.memoizedState,e]}function xs(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Oc(){return At().memoizedState}function Pi(e,t,i,a){var c=Xt();Ie.flags|=e,c.memoizedState=xs(1|t,i,void 0,a===void 0?null:a)}function Ri(e,t,i,a){var c=At();a=a===void 0?null:a;var f=void 0;if(Ge!==null){var g=Ge.memoizedState;if(f=g.destroy,a!==null&&_a(a,g.deps)){c.memoizedState=xs(t,i,f,a);return}}Ie.flags|=e,c.memoizedState=xs(1|t,i,f,a)}function Ac(e,t){return Pi(8390656,8,e,t)}function ja(e,t){return Ri(2048,8,e,t)}function Ic(e,t){return Ri(4,2,e,t)}function Lc(e,t){return Ri(4,4,e,t)}function Mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bc(e,t,i){return i=i!=null?i.concat([e]):null,Ri(4,4,Mc.bind(null,t,e),i)}function Na(){}function $c(e,t){var i=At();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&_a(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Dc(e,t){var i=At();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&_a(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Uc(e,t,i){return(zr&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=i):($t(i,t)||(i=gu(),Ie.lanes|=i,Fr|=i,e.baseState=!0),t)}function Ip(e,t){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var a=xa.transition;xa.transition={};try{e(!1),t()}finally{Ee=i,xa.transition=a}}function zc(){return At().memoizedState}function Lp(e,t,i){var a=jr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Fc(e))Wc(t,i);else if(i=wc(e,t,i,a),i!==null){var c=ht();Wt(i,e,a,c),Kc(i,t,a)}}function Mp(e,t,i){var a=jr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fc(e))Wc(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,i);if(c.hasEagerState=!0,c.eagerState=w,$t(w,g)){var b=t.interleaved;b===null?(c.next=c,pa(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}i=wc(e,t,c,a),i!==null&&(c=ht(),Wt(i,e,a,c),Kc(i,t,a))}}function Fc(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Wc(e,t){vs=Ti=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Kc(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,To(e,i)}}var Oi={readContext:Ot,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Bp={readContext:Ot,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Ac,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Pi(4194308,4,Mc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var i=Xt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Xt();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Lp.bind(null,Ie,e),[a.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Rc,useDebugValue:Na,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Rc(!1),t=e[0];return e=Ip.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ie,c=Xt();if(Oe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Xe===null)throw Error(n(349));(zr&30)!==0||jc(a,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,Ac(Cc.bind(null,a,f,e),[e]),a.flags|=2048,xs(9,Nc.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=Xt(),t=Xe.identifierPrefix;if(Oe){var i=sr,a=nr;i=(a&~(1<<32-Bt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=ys++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Ap++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$p={readContext:Ot,useCallback:$c,useContext:Ot,useEffect:ja,useImperativeHandle:Bc,useInsertionEffect:Ic,useLayoutEffect:Lc,useMemo:Dc,useReducer:Sa,useRef:Oc,useState:function(){return Sa(ws)},useDebugValue:Na,useDeferredValue:function(e){var t=At();return Uc(t,Ge.memoizedState,e)},useTransition:function(){var e=Sa(ws)[0],t=At().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:Ec,useId:zc,unstable_isNewReconciler:!1},Dp={readContext:Ot,useCallback:$c,useContext:Ot,useEffect:ja,useImperativeHandle:Bc,useInsertionEffect:Ic,useLayoutEffect:Lc,useMemo:Dc,useReducer:Ea,useRef:Oc,useState:function(){return Ea(ws)},useDebugValue:Na,useDeferredValue:function(e){var t=At();return Ge===null?t.memoizedState=e:Uc(t,Ge.memoizedState,e)},useTransition:function(){var e=Ea(ws)[0],t=At().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:Ec,useId:zc,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Ca(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:V({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ai={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=ht(),c=jr(e),f=or(a,c);f.payload=t,i!=null&&(f.callback=i),t=br(e,f,c),t!==null&&(Wt(t,e,c,a),Ei(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=ht(),c=jr(e),f=or(a,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=br(e,f,c),t!==null&&(Wt(t,e,c,a),Ei(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ht(),a=jr(e),c=or(i,a);c.tag=2,t!=null&&(c.callback=t),t=br(e,c,a),t!==null&&(Wt(t,e,a,i),Ei(t,e,a))}};function Vc(e,t,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!os(i,a)||!os(c,f):!0}function qc(e,t,i){var a=!1,c=wr,f=t.contextType;return typeof f=="object"&&f!==null?f=Ot(f):(c=mt(t)?Mr:it.current,a=t.contextTypes,f=(a=a!=null)?pn(e,c):wr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ai,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function Gc(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Ai.enqueueReplaceState(t,t.state,null)}function Ta(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},ma(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=Ot(f):(f=mt(t)?Mr:it.current,c.context=pn(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Ca(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Ai.enqueueReplaceState(c,c.state,null),ji(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function bn(e,t){try{var i="",a=t;do i+=ce(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function Pa(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Ra(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Up=typeof WeakMap=="function"?WeakMap:Map;function Hc(e,t,i){i=or(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ui||(Ui=!0,qa=a),Ra(e,t)},i}function Jc(e,t,i){i=or(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){Ra(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Ra(e,t),typeof a!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Qc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Up;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=em.bind(null,e,t,i),t.then(e,e))}function Yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,i,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=or(-1,1),t.tag=2,br(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var zp=$.ReactCurrentOwner,gt=!1;function dt(e,t,i,a){t.child=e===null?yc(t,null,i,a):yn(t,e.child,i,a)}function Zc(e,t,i,a,c){i=i.render;var f=t.ref;return xn(t,c),a=ba(e,t,i,a,f,c),i=ka(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,ar(e,t,c)):(Oe&&i&&ia(t),t.flags|=1,dt(e,t,a,c),t.child)}function ed(e,t,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Za(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,td(e,t,f,a,c)):(e=qi(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:os,i(g,a)&&e.ref===t.ref)return ar(e,t,c)}return t.flags|=1,e=Cr(f,a),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,i,a,c){if(e!==null){var f=e.memoizedProps;if(os(f,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,ar(e,t,c)}return Oa(e,t,i,a,c)}function rd(e,t,i){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Sn,kt),kt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Sn,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Ce(Sn,kt),kt|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,Ce(Sn,kt),kt|=a;return dt(e,t,c,i),t.child}function nd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Oa(e,t,i,a,c){var f=mt(i)?Mr:it.current;return f=pn(t,f),xn(t,c),i=ba(e,t,i,a,f,c),a=ka(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,ar(e,t,c)):(Oe&&a&&ia(t),t.flags|=1,dt(e,t,i,c),t.child)}function sd(e,t,i,a,c){if(mt(i)){var f=!0;vi(t)}else f=!1;if(xn(t,c),t.stateNode===null)Li(e,t),qc(t,i,a),Ta(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var b=g.context,A=i.contextType;typeof A=="object"&&A!==null?A=Ot(A):(A=mt(i)?Mr:it.current,A=pn(t,A));var D=i.getDerivedStateFromProps,U=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||b!==A)&&Gc(t,g,a,A),_r=!1;var B=t.memoizedState;g.state=B,ji(t,a,g,c),b=t.memoizedState,w!==a||B!==b||pt.current||_r?(typeof D=="function"&&(Ca(t,i,D,a),b=t.memoizedState),(w=_r||Vc(t,i,w,a,B,b,A))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),g.props=a,g.state=b,g.context=A,a=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,xc(e,t),w=t.memoizedProps,A=t.type===t.elementType?w:Ut(t.type,w),g.props=A,U=t.pendingProps,B=g.context,b=i.contextType,typeof b=="object"&&b!==null?b=Ot(b):(b=mt(i)?Mr:it.current,b=pn(t,b));var K=i.getDerivedStateFromProps;(D=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==U||B!==b)&&Gc(t,g,a,b),_r=!1,B=t.memoizedState,g.state=B,ji(t,a,g,c);var H=t.memoizedState;w!==U||B!==H||pt.current||_r?(typeof K=="function"&&(Ca(t,i,K,a),H=t.memoizedState),(A=_r||Vc(t,i,A,a,B,H,b)||!1)?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,H,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,H,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),g.props=a,g.state=H,g.context=b,a=A):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return Aa(e,t,i,a,f,c)}function Aa(e,t,i,a,c,f){nd(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&uc(t,i,!1),ar(e,t,f);a=t.stateNode,zp.current=t;var w=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=yn(t,e.child,null,f),t.child=yn(t,null,w,f)):dt(e,t,w,f),t.memoizedState=a.state,c&&uc(t,i,!0),t.child}function id(e){var t=e.stateNode;t.pendingContext?ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ac(e,t.context,!1),ga(e,t.containerInfo)}function od(e,t,i,a,c){return vn(),ua(c),t.flags|=256,dt(e,t,i,a),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function ad(e,t,i){var a=t.pendingProps,c=Ae.current,f=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ce(Ae,c&1),e===null)return la(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Gi(g,a,0,null),e=qr(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=La(i),t.memoizedState=Ia,e):Ma(t,g));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Fp(e,t,g,a,w,c,i);if(f){f=a.fallback,g=t.mode,c=e.child,w=c.sibling;var b={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=b,t.deletions=null):(a=Cr(c,b),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?f=Cr(w,f):(f=qr(f,g,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?La(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Ia,a}return f=e.child,e=f.sibling,a=Cr(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Ma(e,t){return t=Gi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,i,a){return a!==null&&ua(a),yn(t,e.child,null,i),e=Ma(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fp(e,t,i,a,c,f,g){if(i)return t.flags&256?(t.flags&=-257,a=Pa(Error(n(422))),Ii(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=Gi({mode:"visible",children:a.children},c,0,null),f=qr(f,c,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&yn(t,e.child,null,g),t.child.memoizedState=La(g),t.memoizedState=Ia,f);if((t.mode&1)===0)return Ii(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(n(419)),a=Pa(f,a,void 0),Ii(e,t,g,a)}if(w=(g&e.childLanes)!==0,gt||w){if(a=Xe,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,ir(e,c),Wt(a,e,c,-1))}return Xa(),a=Pa(Error(n(421))),Ii(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=tm.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,bt=vr(c.nextSibling),_t=t,Oe=!0,Dt=null,e!==null&&(Pt[Rt++]=nr,Pt[Rt++]=sr,Pt[Rt++]=Br,nr=e.id,sr=e.overflow,Br=t),t=Ma(t,a.children),t.flags|=4096,t)}function ld(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),fa(e.return,t,i)}function Ba(e,t,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function ud(e,t,i){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(dt(e,t,a.children,i),a=Ae.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,i,t);else if(e.tag===19)ld(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ce(Ae,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ni(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Ba(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ni(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ba(t,!0,i,null,f);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Li(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Cr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Wp(e,t,i){switch(t.tag){case 3:id(t),vn();break;case 5:kc(t);break;case 1:mt(t.type)&&vi(t);break;case 4:ga(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Ce(ki,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ce(Ae,Ae.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?ad(e,t,i):(Ce(Ae,Ae.current&1),e=ar(e,t,i),e!==null?e.sibling:null);Ce(Ae,Ae.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return ud(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ce(Ae,Ae.current),a)break;return null;case 22:case 23:return t.lanes=0,rd(e,t,i)}return ar(e,t,i)}var cd,$a,dd,hd;cd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},$a=function(){},dd=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Ur(Yt.current);var f=null;switch(i){case"input":c=ye(e,c),a=ye(e,a),f=[];break;case"select":c=V({},c,{value:void 0}),a=V({},a,{value:void 0}),f=[];break;case"textarea":c=tn(e,c),a=tn(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=pi)}yo(i,a);var g;i=null;for(A in c)if(!a.hasOwnProperty(A)&&c.hasOwnProperty(A)&&c[A]!=null)if(A==="style"){var w=c[A];for(g in w)w.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(l.hasOwnProperty(A)?f||(f=[]):(f=f||[]).push(A,null));for(A in a){var b=a[A];if(w=c!=null?c[A]:void 0,a.hasOwnProperty(A)&&b!==w&&(b!=null||w!=null))if(A==="style")if(w){for(g in w)!w.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in b)b.hasOwnProperty(g)&&w[g]!==b[g]&&(i||(i={}),i[g]=b[g])}else i||(f||(f=[]),f.push(A,i)),i=b;else A==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(f=f||[]).push(A,b)):A==="children"?typeof b!="string"&&typeof b!="number"||(f=f||[]).push(A,""+b):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(l.hasOwnProperty(A)?(b!=null&&A==="onScroll"&&Pe("scroll",e),f||w===b||(f=[])):(f=f||[]).push(A,b))}i&&(f=f||[]).push("style",i);var A=f;(t.updateQueue=A)&&(t.flags|=4)}},hd=function(e,t,i,a){i!==a&&(t.flags|=4)};function _s(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Kp(e,t,i){var a=t.pendingProps;switch(oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return mt(t.type)&&gi(),at(t),null;case 3:return a=t.stateNode,_n(),Re(pt),Re(it),wa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_i(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dt!==null&&(Ja(Dt),Dt=null))),$a(e,t),at(t),null;case 5:va(t);var c=Ur(gs.current);if(i=t.type,e!==null&&t.stateNode!=null)dd(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return at(t),null}if(e=Ur(Yt.current),_i(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[Qt]=t,a[ds]=f,e=(t.mode&1)!==0,i){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(c=0;c<ls.length;c++)Pe(ls[c],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":_e(a,f),Pe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Pe("invalid",a);break;case"textarea":Mt(a,f),Pe("invalid",a)}yo(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&fi(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&fi(a.textContent,w,e),c=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Pe("scroll",a)}switch(i){case"input":Ht(a),et(a,f,!0);break;case"textarea":Ht(a),Fn(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=pi)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xl(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Qt]=t,e[ds]=a,cd(e,t,!1,!1),t.stateNode=e;e:{switch(g=wo(i,a),i){case"dialog":Pe("cancel",e),Pe("close",e),c=a;break;case"iframe":case"object":case"embed":Pe("load",e),c=a;break;case"video":case"audio":for(c=0;c<ls.length;c++)Pe(ls[c],e);c=a;break;case"source":Pe("error",e),c=a;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),c=a;break;case"details":Pe("toggle",e),c=a;break;case"input":_e(e,a),c=ye(e,a),Pe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=V({},a,{value:void 0}),Pe("invalid",e);break;case"textarea":Mt(e,a),c=tn(e,a),Pe("invalid",e);break;default:c=a}yo(i,c),w=c;for(f in w)if(w.hasOwnProperty(f)){var b=w[f];f==="style"?tu(e,b):f==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Zl(e,b)):f==="children"?typeof b=="string"?(i!=="textarea"||b!=="")&&Wn(e,b):typeof b=="number"&&Wn(e,""+b):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?b!=null&&f==="onScroll"&&Pe("scroll",e):b!=null&&E(e,f,b,g))}switch(i){case"input":Ht(e),et(e,a,!1);break;case"textarea":Ht(e),Fn(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ve(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?ct(e,!!a.multiple,f,!1):a.defaultValue!=null&&ct(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=pi)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)hd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(i=Ur(gs.current),Ur(Yt.current),_i(t)){if(a=t.stateNode,i=t.memoizedProps,a[Qt]=t,(f=a.nodeValue!==i)&&(e=_t,e!==null))switch(e.tag){case 3:fi(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fi(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Qt]=t,t.stateNode=a}return at(t),null;case 13:if(Re(Ae),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)mc(),vn(),t.flags|=98560,f=!1;else if(f=_i(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Qt]=t}else vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),f=!1}else Dt!==null&&(Ja(Dt),Dt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ae.current&1)!==0?He===0&&(He=3):Xa())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return _n(),$a(e,t),e===null&&us(t.stateNode.containerInfo),at(t),null;case 10:return ha(t.type._context),at(t),null;case 17:return mt(t.type)&&gi(),at(t),null;case 19:if(Re(Ae),f=t.memoizedState,f===null)return at(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)_s(f,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ni(e),g!==null){for(t.flags|=128,_s(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ce(Ae,Ae.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ue()>En&&(t.flags|=128,a=!0,_s(f,!1),t.lanes=4194304)}else{if(!a)if(e=Ni(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),_s(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Oe)return at(t),null}else 2*Ue()-f.renderingStartTime>En&&i!==1073741824&&(t.flags|=128,a=!0,_s(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ue(),t.sibling=null,i=Ae.current,Ce(Ae,a?i&1|2:i&1),t):(at(t),null);case 22:case 23:return Ya(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(kt&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Vp(e,t){switch(oa(t),t.tag){case 1:return mt(t.type)&&gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(),Re(pt),Re(it),wa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return va(t),null;case 13:if(Re(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Ae),null;case 4:return _n(),null;case 10:return ha(t.type._context),null;case 22:case 23:return Ya(),null;case 24:return null;default:return null}}var Mi=!1,lt=!1,qp=typeof WeakSet=="function"?WeakSet:Set,G=null;function kn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Be(e,t,a)}else i.current=null}function Da(e,t,i){try{i()}catch(a){Be(e,t,a)}}var fd=!1;function Gp(e,t){if(Yo=ri,e=Vu(),Wo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,w=-1,b=-1,A=0,D=0,U=e,B=null;t:for(;;){for(var K;U!==i||c!==0&&U.nodeType!==3||(w=g+c),U!==f||a!==0&&U.nodeType!==3||(b=g+a),U.nodeType===3&&(g+=U.nodeValue.length),(K=U.firstChild)!==null;)B=U,U=K;for(;;){if(U===e)break t;if(B===i&&++A===c&&(w=g),B===f&&++D===a&&(b=g),(K=U.nextSibling)!==null)break;U=B,B=U.parentNode}U=K}i=w===-1||b===-1?null:{start:w,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xo={focusedElem:e,selectionRange:i},ri=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var J=H.memoizedProps,ze=H.memoizedState,C=t.stateNode,k=C.getSnapshotBeforeUpdate(t.elementType===t.type?J:Ut(t.type,J),ze);C.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(z){Be(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return H=fd,fd=!1,H}function bs(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Da(t,i,f)}c=c.next}while(c!==a)}}function Bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ua(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function pd(e){var t=e.alternate;t!==null&&(e.alternate=null,pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[ds],delete t[ra],delete t[Tp],delete t[Pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function md(e){return e.tag===5||e.tag===3||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function za(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=pi));else if(a!==4&&(e=e.child,e!==null))for(za(e,t,i),e=e.sibling;e!==null;)za(e,t,i),e=e.sibling}function Fa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Fa(e,t,i),e=e.sibling;e!==null;)Fa(e,t,i),e=e.sibling}var tt=null,zt=!1;function kr(e,t,i){for(i=i.child;i!==null;)vd(e,t,i),i=i.sibling}function vd(e,t,i){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Qs,i)}catch{}switch(i.tag){case 5:lt||kn(i,t);case 6:var a=tt,c=zt;tt=null,kr(e,t,i),tt=a,zt=c,tt!==null&&(zt?(e=tt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):tt.removeChild(i.stateNode));break;case 18:tt!==null&&(zt?(e=tt,i=i.stateNode,e.nodeType===8?ta(e.parentNode,i):e.nodeType===1&&ta(e,i),es(e)):ta(tt,i.stateNode));break;case 4:a=tt,c=zt,tt=i.stateNode.containerInfo,zt=!0,kr(e,t,i),tt=a,zt=c;break;case 0:case 11:case 14:case 15:if(!lt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Da(i,t,g),c=c.next}while(c!==a)}kr(e,t,i);break;case 1:if(!lt&&(kn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){Be(i,t,w)}kr(e,t,i);break;case 21:kr(e,t,i);break;case 22:i.mode&1?(lt=(a=lt)||i.memoizedState!==null,kr(e,t,i),lt=a):kr(e,t,i);break;default:kr(e,t,i)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new qp),t.forEach(function(a){var c=rm.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function Ft(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:tt=w.stateNode,zt=!1;break e;case 3:tt=w.stateNode.containerInfo,zt=!0;break e;case 4:tt=w.stateNode.containerInfo,zt=!0;break e}w=w.return}if(tt===null)throw Error(n(160));vd(f,g,c),tt=null,zt=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(A){Be(c,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wd(t,e),t=t.sibling}function wd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Zt(e),a&4){try{bs(3,e,e.return),Bi(3,e)}catch(J){Be(e,e.return,J)}try{bs(5,e,e.return)}catch(J){Be(e,e.return,J)}}break;case 1:Ft(t,e),Zt(e),a&512&&i!==null&&kn(i,i.return);break;case 5:if(Ft(t,e),Zt(e),a&512&&i!==null&&kn(i,i.return),e.flags&32){var c=e.stateNode;try{Wn(c,"")}catch(J){Be(e,e.return,J)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&ft(c,f),wo(w,g);var A=wo(w,f);for(g=0;g<b.length;g+=2){var D=b[g],U=b[g+1];D==="style"?tu(c,U):D==="dangerouslySetInnerHTML"?Zl(c,U):D==="children"?Wn(c,U):E(c,D,U,A)}switch(w){case"input":Me(c,f);break;case"textarea":Vs(c,f);break;case"select":var B=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var K=f.value;K!=null?ct(c,!!f.multiple,K,!1):B!==!!f.multiple&&(f.defaultValue!=null?ct(c,!!f.multiple,f.defaultValue,!0):ct(c,!!f.multiple,f.multiple?[]:"",!1))}c[ds]=f}catch(J){Be(e,e.return,J)}}break;case 6:if(Ft(t,e),Zt(e),a&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(J){Be(e,e.return,J)}}break;case 3:if(Ft(t,e),Zt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(J){Be(e,e.return,J)}break;case 4:Ft(t,e),Zt(e);break;case 13:Ft(t,e),Zt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Va=Ue())),a&4&&yd(e);break;case 22:if(D=i!==null&&i.memoizedState!==null,e.mode&1?(lt=(A=lt)||D,Ft(t,e),lt=A):Ft(t,e),Zt(e),a&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!D&&(e.mode&1)!==0)for(G=e,D=e.child;D!==null;){for(U=G=D;G!==null;){switch(B=G,K=B.child,B.tag){case 0:case 11:case 14:case 15:bs(4,B,B.return);break;case 1:kn(B,B.return);var H=B.stateNode;if(typeof H.componentWillUnmount=="function"){a=B,i=B.return;try{t=a,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(J){Be(a,i,J)}}break;case 5:kn(B,B.return);break;case 22:if(B.memoizedState!==null){bd(U);continue}}K!==null?(K.return=B,G=K):bd(U)}D=D.sibling}e:for(D=null,U=e;;){if(U.tag===5){if(D===null){D=U;try{c=U.stateNode,A?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=U.stateNode,b=U.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=eu("display",g))}catch(J){Be(e,e.return,J)}}}else if(U.tag===6){if(D===null)try{U.stateNode.nodeValue=A?"":U.memoizedProps}catch(J){Be(e,e.return,J)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;D===U&&(D=null),U=U.return}D===U&&(D=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Ft(t,e),Zt(e),a&4&&yd(e);break;case 21:break;default:Ft(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(md(i)){var a=i;break e}i=i.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Wn(c,""),a.flags&=-33);var f=gd(e);Fa(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,w=gd(e);za(e,w,g);break;default:throw Error(n(161))}}catch(b){Be(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e,t,i){G=e,xd(e)}function xd(e,t,i){for(var a=(e.mode&1)!==0;G!==null;){var c=G,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Mi;if(!g){var w=c.alternate,b=w!==null&&w.memoizedState!==null||lt;w=Mi;var A=lt;if(Mi=g,(lt=b)&&!A)for(G=c;G!==null;)g=G,b=g.child,g.tag===22&&g.memoizedState!==null?kd(c):b!==null?(b.return=g,G=b):kd(c);for(;f!==null;)G=f,xd(f),f=f.sibling;G=c,Mi=w,lt=A}_d(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,G=f):_d(e)}}function _d(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:lt||Bi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!lt)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Ut(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&bc(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}bc(t,g,i)}break;case 5:var w=t.stateNode;if(i===null&&t.flags&4){i=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&i.focus();break;case"img":b.src&&(i.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var D=A.memoizedState;if(D!==null){var U=D.dehydrated;U!==null&&es(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lt||t.flags&512&&Ua(t)}catch(B){Be(t,t.return,B)}}if(t===e){G=null;break}if(i=t.sibling,i!==null){i.return=t.return,G=i;break}G=t.return}}function bd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var i=t.sibling;if(i!==null){i.return=t.return,G=i;break}G=t.return}}function kd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Bi(4,t)}catch(b){Be(t,i,b)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(b){Be(t,c,b)}}var f=t.return;try{Ua(t)}catch(b){Be(t,f,b)}break;case 5:var g=t.return;try{Ua(t)}catch(b){Be(t,g,b)}}}catch(b){Be(t,t.return,b)}if(t===e){G=null;break}var w=t.sibling;if(w!==null){w.return=t.return,G=w;break}G=t.return}}var Jp=Math.ceil,$i=$.ReactCurrentDispatcher,Wa=$.ReactCurrentOwner,It=$.ReactCurrentBatchConfig,ge=0,Xe=null,We=null,rt=0,kt=0,Sn=yr(0),He=0,ks=null,Fr=0,Di=0,Ka=0,Ss=null,vt=null,Va=0,En=1/0,lr=null,Ui=!1,qa=null,Sr=null,zi=!1,Er=null,Fi=0,Es=0,Ga=null,Wi=-1,Ki=0;function ht(){return(ge&6)!==0?Ue():Wi!==-1?Wi:Wi=Ue()}function jr(e){return(e.mode&1)===0?1:(ge&2)!==0&&rt!==0?rt&-rt:Op.transition!==null?(Ki===0&&(Ki=gu()),Ki):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Eu(e.type)),e)}function Wt(e,t,i,a){if(50<Es)throw Es=0,Ga=null,Error(n(185));Jn(e,i,a),((ge&2)===0||e!==Xe)&&(e===Xe&&((ge&2)===0&&(Di|=i),He===4&&Nr(e,rt)),yt(e,a),i===1&&ge===0&&(t.mode&1)===0&&(En=Ue()+500,yi&&xr()))}function yt(e,t){var i=e.callbackNode;Of(e,t);var a=Zs(e,e===Xe?rt:0);if(a===0)i!==null&&fu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&fu(i),t===1)e.tag===0?Rp(Ed.bind(null,e)):cc(Ed.bind(null,e)),Np(function(){(ge&6)===0&&xr()}),i=null;else{switch(vu(a)){case 1:i=jo;break;case 4:i=pu;break;case 16:i=Js;break;case 536870912:i=mu;break;default:i=Js}i=Ad(i,Sd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Sd(e,t){if(Wi=-1,Ki=0,(ge&6)!==0)throw Error(n(327));var i=e.callbackNode;if(jn()&&e.callbackNode!==i)return null;var a=Zs(e,e===Xe?rt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Vi(e,a);else{t=a;var c=ge;ge|=2;var f=Nd();(Xe!==e||rt!==t)&&(lr=null,En=Ue()+500,Kr(e,t));do try{Xp();break}catch(w){jd(e,w)}while(!0);da(),$i.current=f,ge=c,We!==null?t=0:(Xe=null,rt=0,t=He)}if(t!==0){if(t===2&&(c=No(e),c!==0&&(a=c,t=Ha(e,c))),t===1)throw i=ks,Kr(e,0),Nr(e,a),yt(e,Ue()),i;if(t===6)Nr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!Qp(c)&&(t=Vi(e,a),t===2&&(f=No(e),f!==0&&(a=f,t=Ha(e,f))),t===1))throw i=ks,Kr(e,0),Nr(e,a),yt(e,Ue()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Vr(e,vt,lr);break;case 3:if(Nr(e,a),(a&130023424)===a&&(t=Va+500-Ue(),10<t)){if(Zs(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){ht(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ea(Vr.bind(null,e,vt,lr),t);break}Vr(e,vt,lr);break;case 4:if(Nr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-Bt(a);f=1<<g,g=t[g],g>c&&(c=g),a&=~f}if(a=c,a=Ue()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Jp(a/1960))-a,10<a){e.timeoutHandle=ea(Vr.bind(null,e,vt,lr),a);break}Vr(e,vt,lr);break;case 5:Vr(e,vt,lr);break;default:throw Error(n(329))}}}return yt(e,Ue()),e.callbackNode===i?Sd.bind(null,e):null}function Ha(e,t){var i=Ss;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=Vi(e,t),e!==2&&(t=vt,vt=i,t!==null&&Ja(t)),e}function Ja(e){vt===null?vt=e:vt.push.apply(vt,e)}function Qp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!$t(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~Ka,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Bt(t),a=1<<i;e[i]=-1,t&=~a}}function Ed(e){if((ge&6)!==0)throw Error(n(327));jn();var t=Zs(e,0);if((t&1)===0)return yt(e,Ue()),null;var i=Vi(e,t);if(e.tag!==0&&i===2){var a=No(e);a!==0&&(t=a,i=Ha(e,a))}if(i===1)throw i=ks,Kr(e,0),Nr(e,t),yt(e,Ue()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,vt,lr),yt(e,Ue()),null}function Qa(e,t){var i=ge;ge|=1;try{return e(t)}finally{ge=i,ge===0&&(En=Ue()+500,yi&&xr())}}function Wr(e){Er!==null&&Er.tag===0&&(ge&6)===0&&jn();var t=ge;ge|=1;var i=It.transition,a=Ee;try{if(It.transition=null,Ee=1,e)return e()}finally{Ee=a,It.transition=i,ge=t,(ge&6)===0&&xr()}}function Ya(){kt=Sn.current,Re(Sn)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,jp(i)),We!==null)for(i=We.return;i!==null;){var a=i;switch(oa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&gi();break;case 3:_n(),Re(pt),Re(it),wa();break;case 5:va(a);break;case 4:_n();break;case 13:Re(Ae);break;case 19:Re(Ae);break;case 10:ha(a.type._context);break;case 22:case 23:Ya()}i=i.return}if(Xe=e,We=e=Cr(e.current,null),rt=kt=t,He=0,ks=null,Ka=Di=Fr=0,vt=Ss=null,Dr!==null){for(t=0;t<Dr.length;t++)if(i=Dr[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}Dr=null}return e}function jd(e,t){do{var i=We;try{if(da(),Ci.current=Oi,Ti){for(var a=Ie.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ti=!1}if(zr=0,Ye=Ge=Ie=null,vs=!1,ys=0,Wa.current=null,i===null||i.return===null){He=1,ks=t,We=null;break}e:{var f=e,g=i.return,w=i,b=t;if(t=rt,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=b,D=w,U=D.tag;if((D.mode&1)===0&&(U===0||U===11||U===15)){var B=D.alternate;B?(D.updateQueue=B.updateQueue,D.memoizedState=B.memoizedState,D.lanes=B.lanes):(D.updateQueue=null,D.memoizedState=null)}var K=Yc(g);if(K!==null){K.flags&=-257,Xc(K,g,w,f,t),K.mode&1&&Qc(f,A,t),t=K,b=A;var H=t.updateQueue;if(H===null){var J=new Set;J.add(b),t.updateQueue=J}else H.add(b);break e}else{if((t&1)===0){Qc(f,A,t),Xa();break e}b=Error(n(426))}}else if(Oe&&w.mode&1){var ze=Yc(g);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),Xc(ze,g,w,f,t),ua(bn(b,w));break e}}f=b=bn(b,w),He!==4&&(He=2),Ss===null?Ss=[f]:Ss.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var C=Hc(f,b,t);_c(f,C);break e;case 1:w=b;var k=f.type,P=f.stateNode;if((f.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Sr===null||!Sr.has(P)))){f.flags|=65536,t&=-t,f.lanes|=t;var z=Jc(f,w,t);_c(f,z);break e}}f=f.return}while(f!==null)}Td(i)}catch(Y){t=Y,We===i&&i!==null&&(We=i=i.return);continue}break}while(!0)}function Nd(){var e=$i.current;return $i.current=Oi,e===null?Oi:e}function Xa(){(He===0||He===3||He===2)&&(He=4),Xe===null||(Fr&268435455)===0&&(Di&268435455)===0||Nr(Xe,rt)}function Vi(e,t){var i=ge;ge|=2;var a=Nd();(Xe!==e||rt!==t)&&(lr=null,Kr(e,t));do try{Yp();break}catch(c){jd(e,c)}while(!0);if(da(),ge=i,$i.current=a,We!==null)throw Error(n(261));return Xe=null,rt=0,He}function Yp(){for(;We!==null;)Cd(We)}function Xp(){for(;We!==null&&!kf();)Cd(We)}function Cd(e){var t=Od(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Td(e):We=t,Wa.current=null}function Td(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Kp(i,t,kt),i!==null){We=i;return}}else{if(i=Vp(i,t),i!==null){i.flags&=32767,We=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,We=null;return}}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);He===0&&(He=5)}function Vr(e,t,i){var a=Ee,c=It.transition;try{It.transition=null,Ee=1,Zp(e,t,i,a)}finally{It.transition=c,Ee=a}return null}function Zp(e,t,i,a){do jn();while(Er!==null);if((ge&6)!==0)throw Error(n(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Af(e,f),e===Xe&&(We=Xe=null,rt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||zi||(zi=!0,Ad(Js,function(){return jn(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=It.transition,It.transition=null;var g=Ee;Ee=1;var w=ge;ge|=4,Wa.current=null,Gp(e,i),wd(i,e),wp(Xo),ri=!!Yo,Xo=Yo=null,e.current=i,Hp(i),Sf(),ge=w,Ee=g,It.transition=f}else e.current=i;if(zi&&(zi=!1,Er=e,Fi=c),f=e.pendingLanes,f===0&&(Sr=null),Nf(i.stateNode),yt(e,Ue()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ui)throw Ui=!1,e=qa,qa=null,e;return(Fi&1)!==0&&e.tag!==0&&jn(),f=e.pendingLanes,(f&1)!==0?e===Ga?Es++:(Es=0,Ga=e):Es=0,xr(),null}function jn(){if(Er!==null){var e=vu(Fi),t=It.transition,i=Ee;try{if(It.transition=null,Ee=16>e?16:e,Er===null)var a=!1;else{if(e=Er,Er=null,Fi=0,(ge&6)!==0)throw Error(n(331));var c=ge;for(ge|=4,G=e.current;G!==null;){var f=G,g=f.child;if((G.flags&16)!==0){var w=f.deletions;if(w!==null){for(var b=0;b<w.length;b++){var A=w[b];for(G=A;G!==null;){var D=G;switch(D.tag){case 0:case 11:case 15:bs(8,D,f)}var U=D.child;if(U!==null)U.return=D,G=U;else for(;G!==null;){D=G;var B=D.sibling,K=D.return;if(pd(D),D===A){G=null;break}if(B!==null){B.return=K,G=B;break}G=K}}}var H=f.alternate;if(H!==null){var J=H.child;if(J!==null){H.child=null;do{var ze=J.sibling;J.sibling=null,J=ze}while(J!==null)}}G=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,G=g;else e:for(;G!==null;){if(f=G,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:bs(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,G=C;break e}G=f.return}}var k=e.current;for(G=k;G!==null;){g=G;var P=g.child;if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,G=P;else e:for(g=k;G!==null;){if(w=G,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Bi(9,w)}}catch(Y){Be(w,w.return,Y)}if(w===g){G=null;break e}var z=w.sibling;if(z!==null){z.return=w.return,G=z;break e}G=w.return}}if(ge=c,xr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Qs,e)}catch{}a=!0}return a}finally{Ee=i,It.transition=t}}return!1}function Pd(e,t,i){t=bn(i,t),t=Hc(e,t,1),e=br(e,t,1),t=ht(),e!==null&&(Jn(e,1,t),yt(e,t))}function Be(e,t,i){if(e.tag===3)Pd(e,e,i);else for(;t!==null;){if(t.tag===3){Pd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Sr===null||!Sr.has(a))){e=bn(i,e),e=Jc(t,e,1),t=br(t,e,1),e=ht(),t!==null&&(Jn(t,1,e),yt(t,e));break}}t=t.return}}function em(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&i,Xe===e&&(rt&i)===i&&(He===4||He===3&&(rt&130023424)===rt&&500>Ue()-Va?Kr(e,0):Ka|=i),yt(e,t)}function Rd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var i=ht();e=ir(e,t),e!==null&&(Jn(e,t,i),yt(e,i))}function tm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Rd(e,i)}function rm(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),Rd(e,i)}var Od;Od=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)gt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return gt=!1,Wp(e,t,i);gt=(e.flags&131072)!==0}else gt=!1,Oe&&(t.flags&1048576)!==0&&dc(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Li(e,t),e=t.pendingProps;var c=pn(t,it.current);xn(t,i),c=ba(null,t,a,e,c,i);var f=ka();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(a)?(f=!0,vi(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ma(t),c.updater=Ai,t.stateNode=c,c._reactInternals=t,Ta(t,a,e,i),t=Aa(null,t,a,!0,f,i)):(t.tag=0,Oe&&f&&ia(t),dt(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Li(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=sm(a),e=Ut(a,e),c){case 0:t=Oa(null,t,a,e,i);break e;case 1:t=sd(null,t,a,e,i);break e;case 11:t=Zc(null,t,a,e,i);break e;case 14:t=ed(null,t,a,Ut(a.type,e),i);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ut(a,c),Oa(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ut(a,c),sd(e,t,a,c,i);case 3:e:{if(id(t),e===null)throw Error(n(387));a=t.pendingProps,f=t.memoizedState,c=f.element,xc(e,t),ji(t,a,null,i);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=bn(Error(n(423)),t),t=od(e,t,a,i,c);break e}else if(a!==c){c=bn(Error(n(424)),t),t=od(e,t,a,i,c);break e}else for(bt=vr(t.stateNode.containerInfo.firstChild),_t=t,Oe=!0,Dt=null,i=yc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(vn(),a===c){t=ar(e,t,i);break e}dt(e,t,a,i)}t=t.child}return t;case 5:return kc(t),e===null&&la(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Zo(a,c)?g=null:f!==null&&Zo(a,f)&&(t.flags|=32),nd(e,t),dt(e,t,g,i),t.child;case 6:return e===null&&la(t),null;case 13:return ad(e,t,i);case 4:return ga(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=yn(t,null,a,i):dt(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ut(a,c),Zc(e,t,a,c,i);case 7:return dt(e,t,t.pendingProps,i),t.child;case 8:return dt(e,t,t.pendingProps.children,i),t.child;case 12:return dt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,Ce(ki,a._currentValue),a._currentValue=g,f!==null)if($t(f.value,g)){if(f.children===c.children&&!pt.current){t=ar(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var b=w.firstContext;b!==null;){if(b.context===a){if(f.tag===1){b=or(-1,i&-i),b.tag=2;var A=f.updateQueue;if(A!==null){A=A.shared;var D=A.pending;D===null?b.next=b:(b.next=D.next,D.next=b),A.pending=b}}f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),fa(f.return,i,t),w.lanes|=i;break}b=b.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,w=g.alternate,w!==null&&(w.lanes|=i),fa(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}dt(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,xn(t,i),c=Ot(c),a=a(c),t.flags|=1,dt(e,t,a,i),t.child;case 14:return a=t.type,c=Ut(a,t.pendingProps),c=Ut(a.type,c),ed(e,t,a,c,i);case 15:return td(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ut(a,c),Li(e,t),t.tag=1,mt(a)?(e=!0,vi(t)):e=!1,xn(t,i),qc(t,a,c),Ta(t,a,c,i),Aa(null,t,a,!0,e,i);case 19:return ud(e,t,i);case 22:return rd(e,t,i)}throw Error(n(156,t.tag))};function Ad(e,t){return hu(e,t)}function nm(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,i,a){return new nm(e,t,i,a)}function Za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sm(e){if(typeof e=="function")return Za(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z)return 11;if(e===ke)return 14}return 2}function Cr(e,t){var i=e.alternate;return i===null?(i=Lt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function qi(e,t,i,a,c,f){var g=2;if(a=e,typeof e=="function")Za(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ne:return qr(i.children,c,f,t);case he:g=8,c|=8;break;case xe:return e=Lt(12,i,t,c|2),e.elementType=xe,e.lanes=f,e;case me:return e=Lt(13,i,t,c),e.elementType=me,e.lanes=f,e;case be:return e=Lt(19,i,t,c),e.elementType=be,e.lanes=f,e;case fe:return Gi(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fe:g=10;break e;case ue:g=9;break e;case Z:g=11;break e;case ke:g=14;break e;case Ne:g=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Lt(g,i,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function qr(e,t,i,a){return e=Lt(7,e,a,t),e.lanes=i,e}function Gi(e,t,i,a){return e=Lt(22,e,a,t),e.elementType=fe,e.lanes=i,e.stateNode={isHidden:!1},e}function el(e,t,i){return e=Lt(6,e,null,t),e.lanes=i,e}function tl(e,t,i){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function im(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Co(0),this.expirationTimes=Co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function rl(e,t,i,a,c,f,g,w,b){return e=new im(e,t,i,w,b),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Lt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ma(f),e}function om(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Id(e){if(!e)return wr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(mt(i))return lc(e,i,t)}return t}function Ld(e,t,i,a,c,f,g,w,b){return e=rl(i,a,!0,e,c,f,g,w,b),e.context=Id(null),i=e.current,a=ht(),c=jr(i),f=or(a,c),f.callback=t??null,br(i,f,c),e.current.lanes=c,Jn(e,c,a),yt(e,a),e}function Hi(e,t,i,a){var c=t.current,f=ht(),g=jr(c);return i=Id(i),t.context===null?t.context=i:t.pendingContext=i,t=or(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=br(c,t,g),e!==null&&(Wt(e,c,g,f),Ei(e,c,g)),g}function Ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function nl(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}function am(){return null}var Bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function sl(e){this._internalRoot=e}Qi.prototype.render=sl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Hi(e,t,null,null)},Qi.prototype.unmount=sl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wr(function(){Hi(null,e,null,null)}),t[tr]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<pr.length&&t!==0&&t<pr[i].priority;i++);pr.splice(i,0,e),i===0&&ku(e)}};function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $d(){}function lm(e,t,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var A=Ji(g);f.call(A)}}var g=Ld(t,a,e,0,null,!1,!1,"",$d);return e._reactRootContainer=g,e[tr]=g.current,us(e.nodeType===8?e.parentNode:e),Wr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var A=Ji(b);w.call(A)}}var b=rl(e,0,!1,null,null,!1,!1,"",$d);return e._reactRootContainer=b,e[tr]=b.current,us(e.nodeType===8?e.parentNode:e),Wr(function(){Hi(t,b,i,a)}),b}function Xi(e,t,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var w=c;c=function(){var b=Ji(g);w.call(b)}}Hi(t,g,e,c)}else g=lm(i,t,e,c,a);return Ji(g)}yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Hn(t.pendingLanes);i!==0&&(To(t,i|1),yt(t,Ue()),(ge&6)===0&&(En=Ue()+500,xr()))}break;case 13:Wr(function(){var a=ir(e,1);if(a!==null){var c=ht();Wt(a,e,1,c)}}),nl(e,1)}},Po=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var i=ht();Wt(t,e,134217728,i)}nl(e,134217728)}},wu=function(e){if(e.tag===13){var t=jr(e),i=ir(e,t);if(i!==null){var a=ht();Wt(i,e,t,a)}nl(e,t)}},xu=function(){return Ee},_u=function(e,t){var i=Ee;try{return Ee=e,t()}finally{Ee=i}},bo=function(e,t,i){switch(t){case"input":if(Me(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=mi(a);if(!c)throw Error(n(90));zn(a),Me(a,c)}}}break;case"textarea":Vs(e,i);break;case"select":t=i.value,t!=null&&ct(e,!!i.multiple,t,!1)}},iu=Qa,ou=Wr;var um={usingClientEntryPoint:!1,Events:[hs,hn,mi,nu,su,Qa]},js={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cm={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cu(e),e===null?null:e.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Qs=Zi.inject(cm),Jt=Zi}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=um,wt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!il(t))throw Error(n(200));return om(e,t,null,i)},wt.createRoot=function(e,t){if(!il(e))throw Error(n(299));var i=!1,a="",c=Bd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=rl(e,1,!1,null,null,i,!1,a,c),e[tr]=t.current,us(e.nodeType===8?e.parentNode:e),new sl(t)},wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=cu(t),e=e===null?null:e.stateNode,e},wt.flushSync=function(e){return Wr(e)},wt.hydrate=function(e,t,i){if(!Yi(t))throw Error(n(200));return Xi(null,e,t,!0,i)},wt.hydrateRoot=function(e,t,i){if(!il(e))throw Error(n(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=Bd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Ld(t,null,e,1,i??null,c,!1,f,g),e[tr]=t.current,us(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new Qi(t)},wt.render=function(e,t,i){if(!Yi(t))throw Error(n(200));return Xi(null,e,t,!1,i)},wt.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(n(40));return e._reactRootContainer?(Wr(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1},wt.unstable_batchedUpdates=Qa,wt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Yi(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Xi(e,t,i,!1,a)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var qd;function Ah(){if(qd)return ll.exports;qd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),ll.exports=wm(),ll.exports}var Gd;function xm(){if(Gd)return eo;Gd=1;var s=Ah();return eo.createRoot=s.createRoot,eo.hydrateRoot=s.hydrateRoot,eo}var _m=xm();const bm=Rh(_m);Ah();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Os.apply(this,arguments)}var Or;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Or||(Or={}));const Hd="popstate";function km(s){s===void 0&&(s={});function r(o,l){let{pathname:u,search:h,hash:p}=o.location;return bl("",{pathname:u,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:io(l)}return Em(r,n,null,s)}function Ve(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function $l(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Sm(){return Math.random().toString(36).substr(2,8)}function Jd(s,r){return{usr:s.state,key:s.key,idx:r}}function bl(s,r,n,o){return n===void 0&&(n=null),Os({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Dn(r):r,{state:n,key:r&&r.key||o||Sm()})}function io(s){let{pathname:r="/",search:n="",hash:o=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Dn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let o=s.indexOf("?");o>=0&&(r.search=s.substr(o),s=s.substr(0,o)),s&&(r.pathname=s)}return r}function Em(s,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,p=Or.Pop,m=null,v=y();v==null&&(v=0,h.replaceState(Os({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function x(){p=Or.Pop;let j=y(),M=j==null?null:j-v;v=j,m&&m({action:p,location:T.location,delta:M})}function _(j,M){p=Or.Push;let I=bl(T.location,j,M);v=y()+1;let E=Jd(I,v),$=T.createHref(I);try{h.pushState(E,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign($)}u&&m&&m({action:p,location:T.location,delta:1})}function N(j,M){p=Or.Replace;let I=bl(T.location,j,M);v=y();let E=Jd(I,v),$=T.createHref(I);h.replaceState(E,"",$),u&&m&&m({action:p,location:T.location,delta:0})}function R(j){let M=l.location.origin!=="null"?l.location.origin:l.location.href,I=typeof j=="string"?j:io(j);return I=I.replace(/ $/,"%20"),Ve(M,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,M)}let T={get action(){return p},get location(){return s(l,h)},listen(j){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Hd,x),m=j,()=>{l.removeEventListener(Hd,x),m=null}},createHref(j){return r(l,j)},createURL:R,encodeLocation(j){let M=R(j);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:N,go(j){return h.go(j)}};return T}var Qd;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Qd||(Qd={}));function jm(s,r,n){return n===void 0&&(n="/"),Nm(s,r,n)}function Nm(s,r,n,o){let l=typeof r=="string"?Dn(r):r,u=Dl(l.pathname||"/",n);if(u==null)return null;let h=Ih(s);Cm(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let v=Um(u);p=Bm(h[m],v)}return p}function Ih(s,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(Ve(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let v=Ar([o,m.relativePath]),y=n.concat(m);u.children&&u.children.length>0&&(Ve(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Ih(u.children,r,y,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:Lm(v,u.index),routesMeta:y})};return s.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,h);else for(let m of Lh(u.path))l(u,h,m)}),r}function Lh(s){let r=s.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let h=Lh(o.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...h),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function Cm(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:Mm(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Tm=/^:[\w-]+$/,Pm=3,Rm=2,Om=1,Am=10,Im=-2,Yd=s=>s==="*";function Lm(s,r){let n=s.split("/"),o=n.length;return n.some(Yd)&&(o+=Im),r&&(o+=Rm),n.filter(l=>!Yd(l)).reduce((l,u)=>l+(Tm.test(u)?Pm:u===""?Om:Am),o)}function Mm(s,r){return s.length===r.length&&s.slice(0,-1).every((o,l)=>o===r[l])?s[s.length-1]-r[r.length-1]:0}function Bm(s,r,n){let{routesMeta:o}=s,l={},u="/",h=[];for(let p=0;p<o.length;++p){let m=o[p],v=p===o.length-1,y=u==="/"?r:r.slice(u.length)||"/",x=$m({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),_=m.route;if(!x)return null;Object.assign(l,x.params),h.push({params:l,pathname:Ar([u,x.pathname]),pathnameBase:Vm(Ar([u,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(u=Ar([u,x.pathnameBase]))}return h}function $m(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,o]=Dm(s.path,s.caseSensitive,s.end),l=r.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((v,y,x)=>{let{paramName:_,isOptional:N}=y;if(_==="*"){let T=p[x]||"";h=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const R=p[x];return N&&!R?v[_]=void 0:v[_]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function Dm(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),$l(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Um(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return $l(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function Dl(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=s.charAt(n);return o&&o!=="/"?null:s.slice(n)||"/"}const zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fm=s=>zm.test(s);function Wm(s,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:l=""}=typeof s=="string"?Dn(s):s,u;if(n)if(Fm(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),$l(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?u=Xd(n.substring(1),"/"):u=Xd(n,r)}else u=r;return{pathname:u,search:qm(o),hash:Gm(l)}}function Xd(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function dl(s,r,n,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Km(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Mh(s,r){let n=Km(s);return r?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Bh(s,r,n,o){o===void 0&&(o=!1);let l;typeof s=="string"?l=Dn(s):(l=Os({},s),Ve(!l.pathname||!l.pathname.includes("?"),dl("?","pathname","search",l)),Ve(!l.pathname||!l.pathname.includes("#"),dl("#","pathname","hash",l)),Ve(!l.search||!l.search.includes("#"),dl("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,p;if(h==null)p=n;else{let x=r.length-1;if(!o&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),x-=1;l.pathname=_.join("/")}p=x>=0?r[x]:"/"}let m=Wm(l,p),v=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const Ar=s=>s.join("/").replace(/\/\/+/g,"/"),Vm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),qm=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Gm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Hm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const $h=["post","put","patch","delete"];new Set($h);const Jm=["get",...$h];new Set(Jm);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},As.apply(this,arguments)}const Ul=O.createContext(null),Qm=O.createContext(null),Zr=O.createContext(null),co=O.createContext(null),en=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Dh=O.createContext(null);function Ym(s,r){let{relative:n}=r===void 0?{}:r;zs()||Ve(!1);let{basename:o,navigator:l}=O.useContext(Zr),{hash:u,pathname:h,search:p}=zh(s,{relative:n}),m=h;return o!=="/"&&(m=h==="/"?o:Ar([o,h])),l.createHref({pathname:m,search:p,hash:u})}function zs(){return O.useContext(co)!=null}function ho(){return zs()||Ve(!1),O.useContext(co).location}function Uh(s){O.useContext(Zr).static||O.useLayoutEffect(s)}function fo(){let{isDataRoute:s}=O.useContext(en);return s?cg():Xm()}function Xm(){zs()||Ve(!1);let s=O.useContext(Ul),{basename:r,future:n,navigator:o}=O.useContext(Zr),{matches:l}=O.useContext(en),{pathname:u}=ho(),h=JSON.stringify(Mh(l,n.v7_relativeSplatPath)),p=O.useRef(!1);return Uh(()=>{p.current=!0}),O.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let x=Bh(v,JSON.parse(h),u,y.relative==="path");s==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Ar([r,x.pathname])),(y.replace?o.replace:o.push)(x,y.state,y)},[r,o,h,u,s])}function zh(s,r){let{relative:n}=r===void 0?{}:r,{future:o}=O.useContext(Zr),{matches:l}=O.useContext(en),{pathname:u}=ho(),h=JSON.stringify(Mh(l,o.v7_relativeSplatPath));return O.useMemo(()=>Bh(s,JSON.parse(h),u,n==="path"),[s,h,u,n])}function Zm(s,r){return eg(s,r)}function eg(s,r,n,o){zs()||Ve(!1);let{navigator:l}=O.useContext(Zr),{matches:u}=O.useContext(en),h=u[u.length-1],p=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=ho(),y;if(r){var x;let j=typeof r=="string"?Dn(r):r;m==="/"||(x=j.pathname)!=null&&x.startsWith(m)||Ve(!1),y=j}else y=v;let _=y.pathname||"/",N=_;if(m!=="/"){let j=m.replace(/^\//,"").split("/");N="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let R=jm(s,{pathname:N}),T=ig(R&&R.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Ar([m,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Ar([m,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,n,o);return r&&T?O.createElement(co.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Or.Pop}},T):T}function tg(){let s=ug(),r=Hm(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},r),n?O.createElement("pre",{style:l},n):null,null)}const rg=O.createElement(tg,null);class ng extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?O.createElement(en.Provider,{value:this.props.routeContext},O.createElement(Dh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sg(s){let{routeContext:r,match:n,children:o}=s,l=O.useContext(Ul);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(en.Provider,{value:r},o)}function ig(s,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,p=(l=n)==null?void 0:l.errors;if(p!=null){let y=h.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);y>=0||Ve(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(n&&o&&o.v7_partialHydration)for(let y=0;y<h.length;y++){let x=h[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=y),x.route.id){let{loaderData:_,errors:N}=n,R=x.route.loader&&_[x.route.id]===void 0&&(!N||N[x.route.id]===void 0);if(x.route.lazy||R){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,x,_)=>{let N,R=!1,T=null,j=null;n&&(N=p&&x.route.id?p[x.route.id]:void 0,T=x.route.errorElement||rg,m&&(v<0&&_===0?(dg("route-fallback"),R=!0,j=null):v===_&&(R=!0,j=x.route.hydrateFallbackElement||null)));let M=r.concat(h.slice(0,_+1)),I=()=>{let E;return N?E=T:R?E=j:x.route.Component?E=O.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=y,O.createElement(sg,{match:x,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:E})};return n&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?O.createElement(ng,{location:n.location,revalidation:n.revalidation,component:T,error:N,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}var Fh=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Fh||{}),Wh=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Wh||{});function og(s){let r=O.useContext(Ul);return r||Ve(!1),r}function ag(s){let r=O.useContext(Qm);return r||Ve(!1),r}function lg(s){let r=O.useContext(en);return r||Ve(!1),r}function Kh(s){let r=lg(),n=r.matches[r.matches.length-1];return n.route.id||Ve(!1),n.route.id}function ug(){var s;let r=O.useContext(Dh),n=ag(),o=Kh();return r!==void 0?r:(s=n.errors)==null?void 0:s[o]}function cg(){let{router:s}=og(Fh.UseNavigateStable),r=Kh(Wh.UseNavigateStable),n=O.useRef(!1);return Uh(()=>{n.current=!0}),O.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,As({fromRouteId:r},u)))},[s,r])}const Zd={};function dg(s,r,n){Zd[s]||(Zd[s]=!0)}function hg(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function er(s){Ve(!1)}function fg(s){let{basename:r="/",children:n=null,location:o,navigationType:l=Or.Pop,navigator:u,static:h=!1,future:p}=s;zs()&&Ve(!1);let m=r.replace(/^\/*/,"/"),v=O.useMemo(()=>({basename:m,navigator:u,static:h,future:As({v7_relativeSplatPath:!1},p)}),[m,p,u,h]);typeof o=="string"&&(o=Dn(o));let{pathname:y="/",search:x="",hash:_="",state:N=null,key:R="default"}=o,T=O.useMemo(()=>{let j=Dl(y,m);return j==null?null:{location:{pathname:j,search:x,hash:_,state:N,key:R},navigationType:l}},[m,y,x,_,N,R,l]);return T==null?null:O.createElement(Zr.Provider,{value:v},O.createElement(co.Provider,{children:n,value:T}))}function pg(s){let{children:r,location:n}=s;return Zm(kl(r),n)}new Promise(()=>{});function kl(s,r){r===void 0&&(r=[]);let n=[];return O.Children.forEach(s,(o,l)=>{if(!O.isValidElement(o))return;let u=[...r,l];if(o.type===O.Fragment){n.push.apply(n,kl(o.props.children,u));return}o.type!==er&&Ve(!1),!o.props.index||!o.props.children||Ve(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=kl(o.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Sl.apply(this,arguments)}function mg(s,r){if(s==null)return{};var n={},o=Object.keys(s),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function gg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function vg(s,r){return s.button===0&&(!r||r==="_self")&&!gg(s)}const yg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wg="6";try{window.__reactRouterVersion=wg}catch{}const xg="startTransition",eh=gm[xg];function _g(s){let{basename:r,children:n,future:o,window:l}=s,u=O.useRef();u.current==null&&(u.current=km({window:l,v5Compat:!0}));let h=u.current,[p,m]=O.useState({action:h.action,location:h.location}),{v7_startTransition:v}=o||{},y=O.useCallback(x=>{v&&eh?eh(()=>m(x)):m(x)},[m,v]);return O.useLayoutEffect(()=>h.listen(y),[h,y]),O.useEffect(()=>hg(o),[o]),O.createElement(fg,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:h,future:o})}const bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=O.forwardRef(function(r,n){let{onClick:o,relative:l,reloadDocument:u,replace:h,state:p,target:m,to:v,preventScrollReset:y,viewTransition:x}=r,_=mg(r,yg),{basename:N}=O.useContext(Zr),R,T=!1;if(typeof v=="string"&&kg.test(v)&&(R=v,bg))try{let E=new URL(window.location.href),$=v.startsWith("//")?new URL(E.protocol+v):new URL(v),q=Dl($.pathname,N);$.origin===E.origin&&q!=null?v=q+$.search+$.hash:T=!0}catch{}let j=Ym(v,{relative:l}),M=Sg(v,{replace:h,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:x});function I(E){o&&o(E),E.defaultPrevented||M(E)}return O.createElement("a",Sl({},_,{href:R||j,onClick:T||u?o:I,ref:n,target:m}))});var th;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(th||(th={}));var rh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(rh||(rh={}));function Sg(s,r){let{target:n,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:p}=r===void 0?{}:r,m=fo(),v=ho(),y=zh(s,{relative:h});return O.useCallback(x=>{if(vg(x,n)){x.preventDefault();let _=o!==void 0?o:io(v)===io(y);m(s,{replace:_,state:l,preventScrollReset:u,relative:h,viewTransition:p})}},[v,m,y,o,l,n,s,u,h,p])}const Eg={"landing.badge":{EN:"Ready for adventure?",BM:"Sedia untuk pengembaraan?"},"landing.title.welcome":{EN:"Welcome, Young",BM:"Selamat Datang,"},"landing.title.ceo":{EN:"CEO!",BM:"CEO Muda!"},"landing.subtitle":{EN:"Your entrepreneurship journey starts here! Create amazing products, design cool logos, and build your business empire!",BM:"Perjalanan keusahawanan anda bermula di sini! Cipta produk hebat, reka logo keren, dan bina empayar perniagaan anda!"},"landing.cta":{EN:"Start Creating!",BM:"Mula Mencipta!"},"landing.tools.title":{EN:"Your AI Superpowers",BM:"Kuasa AI Anda"},"tool.product":{EN:"AI Product Idea",BM:"Idea Produk AI"},"tool.product.desc":{EN:"Get amazing product ideas for your carnival booth!",BM:"Dapatkan idea produk hebat untuk gerai karnival anda!"},"tool.packaging":{EN:"AI Packaging Idea",BM:"Idea Pembungkusan AI"},"tool.packaging.desc":{EN:"Make your products look irresistible!",BM:"Jadikan produk anda kelihatan menarik!"},"tool.logo":{EN:"AI Logo Maker",BM:"Pembuat Logo AI"},"tool.logo.desc":{EN:"Design a cool logo for your brand!",BM:"Reka logo keren untuk jenama anda!"},"tool.booth":{EN:"Booth Ready Mode",BM:"Mod Sedia Gerai"},"tool.booth.desc":{EN:"Print banners, stickers & price tags!",BM:"Cetak sepanduk, pelekat & tanda harga!"},"tool.profit":{EN:"Profit Calculator",BM:"Kalkulator Untung"},"tool.profit.desc":{EN:"See how much money you can make!",BM:"Lihat berapa banyak wang anda boleh buat!"},"tool.businessName":{EN:"Business Name Generator",BM:"Penjana Nama Perniagaan"},"tool.businessName.desc":{EN:"Find the perfect name for your business!",BM:"Cari nama yang sempurna untuk perniagaan anda!"},"tool.marketing":{EN:"Marketing Ideas",BM:"Idea Pemasaran"},"tool.marketing.desc":{EN:"Get creative marketing strategies!",BM:"Dapatkan strategi pemasaran kreatif!"},"dashboard.welcome":{EN:"Welcome Back,",BM:"Selamat Kembali,"},"dashboard.tip.title":{EN:"Tip of the Day",BM:"Tip Hari Ini"},"dashboard.tools":{EN:"Your Tools",BM:"Alatan Anda"},"dashboard.recent":{EN:"Recent Creations",BM:"Ciptaan Terbaru"},"dashboard.seeMore":{EN:"See More",BM:"Lihat Lagi"},"dashboard.company":{EN:"Your Company",BM:"Syarikat Anda"},"state.available":{EN:"Available",BM:"Tersedia"},"state.inProgress":{EN:"In Progress",BM:"Sedang Berjalan"},"state.usedToday":{EN:"Used Today",BM:"Digunakan Hari Ini"},"state.comingSoon":{EN:"Coming Soon",BM:"Akan Datang"},"common.back":{EN:"Back to Adventure!",BM:"Kembali ke Pengembaraan!"},"common.next":{EN:"Next",BM:"Seterusnya"},"common.previous":{EN:"Previous",BM:"Sebelumnya"},"common.finish":{EN:"Finish",BM:"Selesai"},"common.save":{EN:"Save",BM:"Simpan"},"common.cancel":{EN:"Cancel",BM:"Batal"},"common.help":{EN:"What should I do?",BM:"Apa yang perlu saya buat?"},"common.optional":{EN:"Optional",BM:"Pilihan"},"wizard.step":{EN:"Step",BM:"Langkah"},"wizard.generating":{EN:"Generating...",BM:"Menjana..."},"product.step1.title":{EN:"What do you like?",BM:"Apa yang anda suka?"},"product.step1.subtitle":{EN:"Pick your favorite topic!",BM:"Pilih topik kegemaran anda!"},"product.step2.title":{EN:"What's your budget?",BM:"Berapa bajet anda?"},"product.step2.subtitle":{EN:"How much can you spend to make products?",BM:"Berapa anda boleh belanja untuk buat produk?"},"product.step3.title":{EN:"Make or Buy?",BM:"Buat atau Beli?"},"product.step3.subtitle":{EN:"Do you want to make things yourself or sell ready-made items?",BM:"Nak buat sendiri atau jual barang siap?"},"product.step4.title":{EN:"AI Suggestions!",BM:"Cadangan AI!"},"product.step4.subtitle":{EN:"Here are some cool ideas for you!",BM:"Ini beberapa idea hebat untuk anda!"},"product.interest.food":{EN:"Food",BM:"Makanan"},"product.interest.crafts":{EN:"Crafts",BM:"Kraf"},"product.interest.games":{EN:"Games",BM:"Permainan"},"product.interest.books":{EN:"Books",BM:"Buku"},"product.interest.toys":{EN:"Toys",BM:"Mainan"},"product.budget.low":{EN:"Small",BM:"Kecil"},"product.budget.medium":{EN:"Medium",BM:"Sederhana"},"product.budget.high":{EN:"Big",BM:"Besar"},"product.type.diy":{EN:"Make It",BM:"Buat Sendiri"},"product.type.resale":{EN:"Buy & Sell",BM:"Beli & Jual"},"product.type.both":{EN:"Both!",BM:"Dua-dua!"},"product.success.title":{EN:"Great Choice!",BM:"Pilihan Hebat!"},"product.success.desc":{EN:"You picked an awesome product idea! Let's make it look amazing.",BM:"Anda pilih idea produk yang hebat! Jom jadikan ia menawan."},"product.success.next":{EN:"Design Packaging",BM:"Reka Pembungkusan"},"packaging.step1.title":{EN:"What's your product?",BM:"Apa produk anda?"},"packaging.step1.subtitle":{EN:"Pick the type that matches best!",BM:"Pilih jenis yang paling sesuai!"},"packaging.step2.title":{EN:"Who will buy it?",BM:"Siapa akan beli?"},"packaging.step2.subtitle":{EN:"Think about your customers!",BM:"Fikirkan pelanggan anda!"},"packaging.step3.title":{EN:"Packaging style?",BM:"Gaya pembungkusan?"},"packaging.step3.subtitle":{EN:"What feeling do you want?",BM:"Apa perasaan yang anda mahu?"},"packaging.step4.title":{EN:"Packaging Ideas!",BM:"Idea Pembungkusan!"},"packaging.step4.subtitle":{EN:"Pick the one you like best!",BM:"Pilih yang anda paling suka!"},"packaging.type.baked":{EN:"Baked Goods",BM:"Kek & Kuih"},"packaging.type.liquid":{EN:"Drinks",BM:"Minuman"},"packaging.type.boxed":{EN:"Boxed Items",BM:"Barang Berkotak"},"packaging.type.flat":{EN:"Flat Items",BM:"Barang Rata"},"packaging.type.soft":{EN:"Soft Items",BM:"Barang Lembut"},"packaging.buyer.kids":{EN:"Kids",BM:"Kanak-kanak"},"packaging.buyer.teens":{EN:"Teens",BM:"Remaja"},"packaging.buyer.parents":{EN:"Parents",BM:"Ibu Bapa"},"packaging.buyer.gifts":{EN:"Gift Buyers",BM:"Pembeli Hadiah"},"packaging.budget.eco":{EN:"Eco-Friendly",BM:"Mesra Alam"},"packaging.budget.fancy":{EN:"Fancy",BM:"Mewah"},"packaging.budget.creative":{EN:"Creative",BM:"Kreatif"},"packaging.success.title":{EN:"Packaging Ready!",BM:"Pembungkusan Siap!"},"packaging.success.desc":{EN:"Your packaging idea is saved! Time to make a cool logo.",BM:"Idea pembungkusan disimpan! Masa untuk buat logo yang keren."},"packaging.success.next":{EN:"Create Logo",BM:"Buat Logo"},"logo.step1.title":{EN:"Name Your Shop!",BM:"Namakan Kedai Anda!"},"logo.step1.subtitle":{EN:"What's your business called?",BM:"Apakah nama perniagaan anda?"},"logo.step2.title":{EN:"Style Your Logo!",BM:"Gayakan Logo Anda!"},"logo.step2.subtitle":{EN:"Pick the look you want!",BM:"Pilih rupa yang anda mahu!"},"logo.step3.title":{EN:"Add Fun Details!",BM:"Tambah Butiran Seronok!"},"logo.step3.subtitle":{EN:"Optional extras for your logo!",BM:"Tambahan pilihan untuk logo anda!"},"logo.step5.title":{EN:"Pick Your Favorite!",BM:"Pilih Kegemaran Anda!"},"logo.step5.subtitle":{EN:"AI made these logos just for you!",BM:"AI buat logo ini khas untuk anda!"},"logo.step6.title":{EN:"Logo Saved!",BM:"Logo Disimpan!"},"logo.step6.subtitle":{EN:"Your new logo is ready!",BM:"Logo baru anda siap!"},"logo.shopName":{EN:"Shop Name",BM:"Nama Kedai"},"logo.shopName.placeholder":{EN:"e.g. Ahmad's Cookies",BM:"cth. Kek Ahmad"},"logo.businessType":{EN:"Business Type",BM:"Jenis Perniagaan"},"logo.type.food":{EN:"Food",BM:"Makanan"},"logo.type.crafts":{EN:"Crafts",BM:"Kraf"},"logo.type.toys":{EN:"Toys",BM:"Mainan"},"logo.type.accessories":{EN:"Accessories",BM:"Aksesori"},"logo.type.diy":{EN:"DIY",BM:"DIY"},"logo.type.fashion":{EN:"Fashion",BM:"Fesyen"},"logo.type.games":{EN:"Games",BM:"Permainan"},"logo.type.services":{EN:"Services",BM:"Perkhidmatan"},"logo.style":{EN:"Logo Style",BM:"Gaya Logo"},"logo.style.wordmark":{EN:"Wordmark",BM:"Teks Logo"},"logo.style.symbol":{EN:"Symbol",BM:"Simbol"},"logo.style.emblem":{EN:"Emblem",BM:"Lambang"},"logo.style.mascot":{EN:"Mascot",BM:"Maskot"},"logo.style.text":{EN:"Text Only",BM:"Teks Sahaja"},"logo.style.icon":{EN:"Icon Only",BM:"Ikon Sahaja"},"logo.style.combined":{EN:"Text + Icon",BM:"Teks + Ikon"},"logo.vibe":{EN:"Brand Vibe",BM:"Suasana Jenama"},"logo.vibe.cheerful":{EN:"Cheerful",BM:"Ceria"},"logo.vibe.premium":{EN:"Premium",BM:"Premium"},"logo.vibe.minimal":{EN:"Minimal",BM:"Minimal"},"logo.vibe.playful":{EN:"Playful",BM:"Bermain"},"logo.vibe.traditional":{EN:"Traditional",BM:"Tradisional"},"logo.vibe.fun":{EN:"Fun & Playful",BM:"Seronok & Ceria"},"logo.vibe.professional":{EN:"Professional",BM:"Profesional"},"logo.vibe.creative":{EN:"Creative",BM:"Kreatif"},"logo.vibe.natural":{EN:"Natural",BM:"Semulajadi"},"logo.colors":{EN:"Color Theme",BM:"Tema Warna"},"logo.symbol":{EN:"Add a Symbol",BM:"Tambah Simbol"},"logo.slogan":{EN:"Add a Slogan",BM:"Tambah Slogan"},"logo.slogan.placeholder":{EN:"e.g. Made with love!",BM:"cth. Dibuat dengan kasih sayang!"},"logo.generating.title":{EN:"Creating Your Logos...",BM:"Mencipta Logo Anda..."},"logo.generating.subtitle":{EN:"AI is designing something special!",BM:"AI sedang mereka sesuatu yang istimewa!"},"logo.option":{EN:"Option",BM:"Pilihan"},"logo.download":{EN:"Download",BM:"Muat Turun"},"logo.backToDashboard":{EN:"Back to Dashboard",BM:"Kembali ke Dashboard"},"logo.success.title":{EN:"Logo Saved!",BM:"Logo Disimpan!"},"logo.success.desc":{EN:"Your new logo is ready! Want to create booth materials?",BM:"Logo baru anda siap! Mahu buat bahan gerai?"},"logo.success.booth":{EN:"Create Booth Materials",BM:"Buat Bahan Gerai"},"booth.select.title":{EN:"What do you need?",BM:"Apa yang anda perlukan?"},"booth.select.subtitle":{EN:"Pick the materials for your booth!",BM:"Pilih bahan untuk gerai anda!"},"booth.generate":{EN:"Generate Mockups",BM:"Jana Mockup"},"booth.generating":{EN:"Creating your mockups...",BM:"Mencipta mockup anda..."},"booth.ready.title":{EN:"Your Booth Materials!",BM:"Bahan Gerai Anda!"},"booth.ready.subtitle":{EN:"Download and print for your carnival!",BM:"Muat turun dan cetak untuk karnival anda!"},"booth.export.label":{EN:"Download Format:",BM:"Format Muat Turun:"},"booth.download":{EN:"Download",BM:"Muat Turun"},"booth.next":{EN:"Calculate Profit",BM:"Kira Untung"},"profit.title":{EN:"Calculate Your Profit!",BM:"Kira Untung Anda!"},"profit.subtitle":{EN:"See how much money you can make!",BM:"Lihat berapa wang anda boleh buat!"},"profit.cost":{EN:"Cost per item",BM:"Kos setiap item"},"profit.price":{EN:"Selling price",BM:"Harga jualan"},"profit.quantity":{EN:"How many to sell?",BM:"Berapa banyak nak jual?"},"profit.items":{EN:"items",BM:"item"},"profit.revenue":{EN:"Revenue",BM:"Pendapatan"},"profit.totalCost":{EN:"Total Cost",BM:"Jumlah Kos"},"profit.totalProfit":{EN:"Total Profit",BM:"Jumlah Untung"},"profit.perItem":{EN:"Profit per item",BM:"Untung setiap item"},"profit.margin":{EN:"Margin",BM:"Margin"},"profit.formula":{EN:"Formula",BM:"Formula"},"profit.status.loss":{EN:"You're losing money!",BM:"Anda rugi!"},"profit.status.low":{EN:"Low profit margin",BM:"Margin untung rendah"},"profit.status.good":{EN:"Good profit!",BM:"Untung bagus!"},"profit.status.great":{EN:"Amazing profit!",BM:"Untung hebat!"},"profit.done":{EN:"Back to Dashboard",BM:"Kembali ke Dashboard"}},Vh=O.createContext(void 0);function jg({children:s}){const[r,n]=O.useState("EN");O.useEffect(()=>{const u=localStorage.getItem("bizkids-language");u&&(u==="EN"||u==="BM")&&n(u)},[]);const o=u=>{n(u),localStorage.setItem("bizkids-language",u)},l=u=>{var h;return((h=Eg[u])==null?void 0:h[r])||u};return d.jsx(Vh.Provider,{value:{language:r,setLanguage:o,t:l},children:s})}function Tt(){const s=O.useContext(Vh);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s}function zl(){const{language:s,setLanguage:r}=Tt();return d.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full p-1 shadow-[var(--shadow-medium)]",children:[d.jsx("button",{onClick:()=>r("BM"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${s==="BM"?"bg-[var(--sky-blue)] text-white":"text-[var(--text-secondary)] hover:bg-[var(--muted)]"}`,children:"BM"}),d.jsx("button",{onClick:()=>r("EN"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${s==="EN"?"bg-[var(--sky-blue)] text-white":"text-[var(--text-secondary)] hover:bg-[var(--muted)]"}`,children:"ENG"})]})}function Fs(){return d.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[d.jsx("div",{className:"absolute top-20 left-[10%] animate-float",style:{animationDelay:"0s"},children:d.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, rgba(255, 200, 80, 0.4) 0%, rgba(255, 200, 80, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 200, 80, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute top-40 right-[15%] animate-float",style:{animationDelay:"1s"},children:d.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xl",style:{background:"linear-gradient(135deg, rgba(255, 200, 80, 0.4) 0%, rgba(255, 200, 80, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 200, 80, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute bottom-32 left-[20%] animate-float-slow",style:{animationDelay:"0.5s"},children:d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{background:"linear-gradient(135deg, rgba(255, 184, 77, 0.4) 0%, rgba(255, 184, 77, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 184, 77, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute top-32 right-[8%] animate-float-slow",style:{animationDelay:"2s"},children:d.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, rgba(168, 213, 247, 0.5) 0%, rgba(168, 213, 247, 0.2) 100%)",boxShadow:"0 8px 32px rgba(96, 181, 244, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute top-[60%] left-[5%] animate-float",style:{animationDelay:"1.5s"},children:d.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-xl",style:{background:"linear-gradient(135deg, rgba(255, 182, 193, 0.5) 0%, rgba(255, 182, 193, 0.2) 100%)",boxShadow:"0 8px 32px rgba(255, 182, 193, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute bottom-48 right-[12%] animate-float-slow",style:{animationDelay:"0.8s"},children:d.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, rgba(168, 230, 207, 0.5) 0%, rgba(168, 230, 207, 0.2) 100%)",boxShadow:"0 8px 32px rgba(168, 230, 207, 0.25), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute top-[45%] right-[5%] animate-float",style:{animationDelay:"2.5s"},children:d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{background:"linear-gradient(135deg, rgba(255, 200, 80, 0.4) 0%, rgba(255, 200, 80, 0.15) 100%)",boxShadow:"0 8px 32px rgba(255, 200, 80, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"},children:""})}),d.jsx("div",{className:"absolute bottom-20 left-8 animate-bounce-gentle hidden md:flex",children:d.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(96, 181, 244, 0.5) 0%, rgba(96, 181, 244, 0.25) 100%)",boxShadow:"0 12px 40px rgba(96, 181, 244, 0.3), inset 0 0 30px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(6px)",border:"2px solid rgba(255, 255, 255, 0.5)"},children:d.jsx("span",{className:"text-4xl",children:""})})}),d.jsx("div",{className:"absolute -top-12 -right-12 w-40 h-40 rounded-full",style:{background:"linear-gradient(135deg, rgba(168, 213, 247, 0.4) 0%, rgba(96, 181, 244, 0.15) 100%)",boxShadow:"0 0 60px rgba(96, 181, 244, 0.2)"}})]})}function El({icon:s,iconImage:r,titleKey:n,descKey:o,href:l,state:u="available",progress:h}){const{t:p}=Tt(),m=u==="comingSoon",v={available:"bg-[var(--mint-green)]",inProgress:"bg-[var(--sunshine-orange)]",usedToday:"bg-[var(--sky-blue)]",comingSoon:"bg-[var(--text-muted)]"},y=d.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[r?d.jsx("img",{src:r,alt:p(n),className:"w-16 h-16 object-contain"}):d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--sky-blue-light)] to-[var(--sky-blue)] flex items-center justify-center shadow-[var(--shadow-low)]",children:d.jsx("span",{className:"text-3xl",children:s})}),d.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:p(n)}),d.jsx("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:p(o)}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${v[u]}`,children:p(`state.${u}`)}),u==="inProgress"&&h!==void 0&&d.jsx("div",{className:"w-full h-2 bg-[var(--muted)] rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[var(--sunshine-orange)] rounded-full transition-all duration-500",style:{width:`${h}%`}})})]});return m?d.jsx("div",{className:"block bg-white rounded-3xl p-6 shadow-[var(--shadow-medium)] transition-all duration-300 opacity-60 cursor-not-allowed",children:y}):d.jsx(Nt,{to:l,className:"block bg-white rounded-3xl p-6 shadow-[var(--shadow-medium)] transition-all duration-300 hover:shadow-[var(--shadow-high)] hover:scale-[1.02] cursor-pointer",children:y})}function Fl(){const{t:s}=Tt(),[r,n]=O.useState(!1);return d.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[r&&d.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-2xl shadow-[var(--shadow-high)] p-4 w-64 mb-2 animate-fade-up",children:[d.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:s("common.help")}),d.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"Click on any tool to start your adventure! "})]}),d.jsx("button",{onClick:()=>n(!r),className:"w-14 h-14 rounded-full bg-[var(--sky-blue)] text-white shadow-[var(--shadow-high)] flex items-center justify-center text-2xl hover:scale-110 transition-transform duration-200",children:""})]})}function Ng(){const{t:s}=Tt(),r=[{icon:"",titleKey:"tool.product",descKey:"tool.product.desc",href:"/tools/product-idea"},{icon:"",titleKey:"tool.packaging",descKey:"tool.packaging.desc",href:"/tools/packaging-idea"},{icon:"",titleKey:"tool.logo",descKey:"tool.logo.desc",href:"/tools/logo-maker"},{icon:"",titleKey:"tool.booth",descKey:"tool.booth.desc",href:"/tools/booth-ready"},{icon:"",titleKey:"tool.profit",descKey:"tool.profit.desc",href:"/tools/profit-calculator"}];return d.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[d.jsx(Fs,{}),d.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"font-bold text-[var(--text-primary)] text-lg",children:"BizKids AI"})]}),d.jsx(zl,{})]}),d.jsx("main",{className:"relative z-10 px-4 md:px-8 py-8 md:py-12",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[d.jsx("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 shadow-[var(--shadow-low)] mb-6",children:d.jsx("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:s("landing.badge")})}),d.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6",children:[d.jsx("span",{className:"text-[var(--sky-blue)]",children:s("landing.title.welcome")}),d.jsx("br",{}),d.jsx("span",{className:"text-[var(--sunshine-orange)]",children:s("landing.title.ceo")})]}),d.jsx("div",{className:"max-w-2xl mx-auto bg-white/60 backdrop-blur-sm rounded-2xl border-2 border-dashed border-[var(--sky-blue-light)] p-6 mb-8",children:d.jsx("p",{className:"text-lg md:text-xl text-[var(--text-secondary)] leading-relaxed",children:s("landing.subtitle")})}),d.jsx(Nt,{to:"/dashboard",className:"inline-flex items-center gap-2 bg-[var(--sky-blue)] text-white font-bold text-lg px-8 py-4 rounded-full shadow-[var(--shadow-medium)] hover:shadow-[var(--shadow-high)] hover:scale-105 transition-all duration-200",children:s("landing.cta")})]}),d.jsxs("section",{children:[d.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-[var(--text-primary)] text-center mb-8",children:[" ",s("landing.tools.title")," "]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:r.map(n=>d.jsx(El,{icon:n.icon,titleKey:n.titleKey,descKey:n.descKey,href:n.href,state:"available"},n.titleKey))})]})]})}),d.jsx(Fl,{})]})}function po(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(n[o[l]]=s[o[l]]);return n}function Cg(s,r,n,o){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function m(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((o=o.apply(s,r||[])).next())})}const Tg=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Wl extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class Pg extends Wl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class nh extends Wl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class sh extends Wl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var jl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(jl||(jl={}));class Rg{constructor(r,{headers:n={},customFetch:o,region:l=jl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Tg(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Cg(this,arguments,void 0,function*(n,o={}){var l;let u,h;try{const{headers:p,method:m,body:v,signal:y,timeout:x}=o;let _={},{region:N}=o;N||(N=this.region);const R=new URL(`${this.url}/${n}`);N&&N!=="any"&&(_["x-region"]=N,R.searchParams.set("forceFunctionRegion",N));let T;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",T=v):typeof v=="string"?(_["Content-Type"]="text/plain",T=v):typeof FormData<"u"&&v instanceof FormData?T=v:(_["Content-Type"]="application/json",T=JSON.stringify(v)):T=v;let j=y;x&&(h=new AbortController,u=setTimeout(()=>h.abort(),x),y?(j=h.signal,y.addEventListener("abort",()=>h.abort())):j=h.signal);const M=yield this.fetch(R.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:T,signal:j}).catch(q=>{throw new Pg(q)}),I=M.headers.get("x-relay-error");if(I&&I==="true")throw new nh(M);if(!M.ok)throw new sh(M);let E=((l=M.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),$;return E==="application/json"?$=yield M.json():E==="application/octet-stream"||E==="application/pdf"?$=yield M.blob():E==="text/event-stream"?$=M:E==="multipart/form-data"?$=yield M.formData():$=yield M.text(),{data:$,error:null,response:M}}catch(p){return{data:null,error:p,response:p instanceof sh||p instanceof nh?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var Og=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Ag=class{constructor(s){var r,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,p=null,m=null,v=u.status,y=u.statusText;if(u.ok){var x,_;if(n.method!=="HEAD"){var N;const M=await u.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((N=n.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?p=M:p=JSON.parse(M))}const T=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),j=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");T&&j&&j.length>1&&(m=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,v=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var R;const T=await u.text();try{h=JSON.parse(T),Array.isArray(h)&&u.status===404&&(p=[],h=null,v=200,y="OK")}catch{u.status===404&&T===""?(v=204,y="No Content"):h={message:T}}if(h&&n.isMaybeSingle&&(!(h==null||(R=h.details)===null||R===void 0)&&R.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&n.shouldThrowOnError)throw new Og(h)}return{error:h,data:p,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(l=l.catch(u=>{var h;let p="";const m=u==null?void 0:u.cause;if(m){var v,y,x,_;const R=(v=m==null?void 0:m.message)!==null&&v!==void 0?v:"",T=(y=m==null?void 0:m.code)!==null&&y!==void 0?y:"";p=`${(x=u==null?void 0:u.name)!==null&&x!==void 0?x:"FetchError"}: ${u==null?void 0:u.message}`,p+=`

Caused by: ${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"Error"}: ${R}`,T&&(p+=` (${T})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var N;p=(N=u==null?void 0:u.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},Ig=class extends Ag{select(s){let r=!1;const n=(s??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:o=n}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var h;const p=[s?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const ih=new RegExp("[,()]");var An=class extends Ig{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&ih.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&ih.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${u}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},Lg=class{constructor(s,{headers:r={},schema:n,fetch:o}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=o}select(s,r){const{head:n=!1,count:o}=r??{},l=n?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new An({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:n=!0}={}){var o;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new An({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:l=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(p.length>0){const m=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new An({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:r}={}){var n;const o="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new An({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var r;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new An({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},Mg=class qh{constructor(r,{headers:n={},schema:o,fetch:l}={}){this.url=r,this.headers=new Headers(n),this.schemaName=o,this.fetch=l}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new qh(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:o=!1,get:l=!1,count:u}={}){var h;let p;const m=new URL(`${this.url}/rpc/${r}`);let v;o||l?(p=o?"HEAD":"GET",Object.entries(n).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{m.searchParams.append(x,_)})):(p="POST",v=n);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new An({method:p,url:m,headers:y,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Bg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const $g="2.89.0",Dg=`realtime-js/${$g}`,Gh="1.0.0",Ug="2.0.0",oh=Gh,Nl=1e4,zg=1e3,Fg=100;var Pr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Pr||(Pr={}));var Je;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Je||(Je={}));var qt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(qt||(qt={}));var Cl;(function(s){s.websocket="websocket"})(Cl||(Cl={}));var Qr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Qr||(Qr={}));class Wg{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,o){var l,u;const h=r.topic,p=(l=r.ref)!==null&&l!==void 0?l:"",m=(u=r.join_ref)!==null&&u!==void 0?u:"",v=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+v.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+_);let R=new DataView(N),T=0;R.setUint8(T++,this.KINDS.userBroadcastPush),R.setUint8(T++,m.length),R.setUint8(T++,p.length),R.setUint8(T++,h.length),R.setUint8(T++,v.length),R.setUint8(T++,x.length),R.setUint8(T++,n),Array.from(m,M=>R.setUint8(T++,M.charCodeAt(0))),Array.from(p,M=>R.setUint8(T++,M.charCodeAt(0))),Array.from(h,M=>R.setUint8(T++,M.charCodeAt(0))),Array.from(v,M=>R.setUint8(T++,M.charCodeAt(0))),Array.from(x,M=>R.setUint8(T++,M.charCodeAt(0)));var j=new Uint8Array(N.byteLength+o.byteLength);return j.set(new Uint8Array(N),0),j.set(new Uint8Array(o),N.byteLength),j.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,h,p,m]=o;return n({join_ref:l,ref:u,topic:h,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const v=o.decode(r.slice(m,m+l));m=m+l;const y=o.decode(r.slice(m,m+u));m=m+u;const x=o.decode(r.slice(m,m+h));m=m+h;const _=r.slice(m,r.byteLength),N=p===this.JSON_ENCODING?JSON.parse(o.decode(_)):_,R={type:this.BROADCAST_EVENT,event:y,payload:N};return h>0&&(R.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class Hh{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Te||(Te={}));const ah=(s,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=Kg(h,s,r,l),u),{}):{}},Kg=(s,r,n,o)=>{const l=r.find(p=>p.name===s),u=l==null?void 0:l.type,h=n[s];return u&&!o.includes(u)?Jh(u,h):Tl(h)},Jh=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return Hg(r,n)}switch(s){case Te.bool:return Vg(r);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return qg(r);case Te.json:case Te.jsonb:return Gg(r);case Te.timestamp:return Jg(r);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Tl(r);default:return Tl(r)}},Tl=s=>s,Vg=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},qg=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},Gg=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Hg=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let u;const h=s.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(p=>Jh(r,p))}return s},Jg=s=>typeof s=="string"?s.replace(" ","T"):s,Qh=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class hl{constructor(r,n,o={},l=Nl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var lh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(lh||(lh={}));class Ps{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,l,u,h),this.pendingDiffs.forEach(m=>{this.state=Ps.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ps.syncDiff(this.state,l,u,h),p())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),h=this.transformState(n),p={},m={};return this.map(u,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const x=u[v];if(x){const _=y.map(j=>j.presence_ref),N=x.map(j=>j.presence_ref),R=y.filter(j=>N.indexOf(j.presence_ref)<0),T=x.filter(j=>_.indexOf(j.presence_ref)<0);R.length>0&&(p[v]=R),T.length>0&&(m[v]=T)}else p[v]=y}),this.syncDiff(u,{joins:p,leaves:m},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var v;const y=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(m),y.length>0){const x=r[p].map(N=>N.presence_ref),_=y.filter(N=>x.indexOf(N.presence_ref)<0);r[p].unshift(..._)}o(p,y,m)}),this.map(h,(p,m)=>{let v=r[p];if(!v)return;const y=m.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),r[p]=v,l(p,v,m),v.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(uh||(uh={}));var Rs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Rs||(Rs={}));var ur;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Mn{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hl(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Hh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new Ps(this),this.broadcastEndpointURL=Qh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(N=>N.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Rs.PRESENCE]&&this.bindings[Rs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},_={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>r==null?void 0:r(ur.CHANNEL_ERROR,N)),this._onClose(()=>r==null?void 0:r(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:N})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){r==null||r(ur.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,j=(R=T==null?void 0:T.length)!==null&&R!==void 0?R:0,M=[];for(let I=0;I<j;I++){const E=T[I],{filter:{event:$,schema:q,table:Q,filter:ne}}=E,he=N&&N[I];if(he&&he.event===$&&Mn.isFilterValueEqual(he.schema,q)&&Mn.isFilterValueEqual(he.table,Q)&&Mn.isFilterValueEqual(he.filter,ne))M.push(Object.assign(Object.assign({},E),{id:he.id}));else{this.unsubscribe(),this.state=Je.errored,r==null||r(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,r&&r(ur.SUBSCRIBED);return}}).receive("error",N=>{this.state=Je.errored,r==null||r(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===Je.joined&&r===Rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,p,m;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new hl(this,qt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),h}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new hl(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Fg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const h=r.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=qt;if(o&&[p,m,v,y].indexOf(h)>=0&&o!==this._joinRef())return;let _=this._onMessage(h,n,o);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(N=>{var R,T,j;return((R=N.filter)===null||R===void 0?void 0:R.event)==="*"||((j=(T=N.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(N=>N.callback(_,o)):(u=this.bindings[h])===null||u===void 0||u.filter(N=>{var R,T,j,M,I,E;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const $=N.id,q=(R=N.filter)===null||R===void 0?void 0:R.event;return $&&((T=n.ids)===null||T===void 0?void 0:T.includes($))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const $=(I=(M=N==null?void 0:N.filter)===null||M===void 0?void 0:M.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return $==="*"||$===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof _=="object"&&"ids"in _){const R=_.data,{schema:T,table:j,commit_timestamp:M,type:I,errors:E}=R;_=Object.assign(Object.assign({},{schema:T,table:j,commit_timestamp:M,eventType:I,new:{},old:{},errors:E}),this._getPayloadRecords(R))}N.callback(_,o)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Mn.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(qt.close,{},r)}_onError(r){this._on(qt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=ah(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=ah(r.columns,r.old_record)),n}}const fl=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qg=[1e3,2e3,5e3,1e4],Yg=1e4,Xg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zg{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nl,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fl,this.ref=0,this.reconnectTimer=null,this.vsn=oh,this.logger=fl,this.conn=null,this.sendBuffer=[],this.serializer=new Wg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Cl.websocket}`,this.httpEndpoint=Qh(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return Qr.Connecting;case Pr.open:return Qr.Open;case Pr.closing:return Qr.Closing;default:return Qr.Closed}}isConnected(){return this.connectionState()===Qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Mn(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,h=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(zg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:h}=n,p=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${p}`.trim(),u),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Pr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pr.open||this.conn.readyState===Pr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(qt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Xg],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,o=!1;if(r)n=r,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const u={access_token:n,version:Dg};n&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Hh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,h,p,m,v,y,x,_,N;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Nl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:to.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:fl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:oh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(R=>Qg[R-1]||Yg),this.vsn){case Gh:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((R,T)=>T(JSON.stringify(R))),this.decode=(x=r==null?void 0:r.decode)!==null&&x!==void 0?x:((R,T)=>T(JSON.parse(R)));break;case Ug:this.encode=(_=r==null?void 0:r.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(N=r==null?void 0:r.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Is=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ev(s,r,n){const o=new URL(r,s);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function tv(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function rv(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:u,headers:h}){const p=ev(s.baseUrl,o,l),m=await tv(s.auth),v=await r(p,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...m,...h},body:u?JSON.stringify(u):void 0}),y=await v.text(),x=(v.headers.get("content-type")||"").includes("application/json"),_=x&&y?JSON.parse(y):y;if(!v.ok){const N=x?_:void 0,R=N==null?void 0:N.error;throw new Is((R==null?void 0:R.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:R==null?void 0:R.type,icebergCode:R==null?void 0:R.code,details:N})}return{status:v.status,headers:v.headers,data:_}}}}function ro(s){return s.join("")}var nv=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:ro(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ro(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ro(s.namespace)}`}),!0}catch(r){if(r instanceof Is&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof Is&&n.status===409)return;throw n}}};function Nn(s){return s.join("")}var sv=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof Is&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof Is&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},iv=class{constructor(s){var o;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=rv({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(o=s.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new nv(this.client,r),this.tableOps=new sv(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},mo=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Le(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var ov=class extends mo{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pl=class extends mo{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const Kl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),av=()=>Response,Rl=s=>{if(Array.isArray(s))return s.map(n=>Rl(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Rl(o)}),r},lv=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},uv=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Ls(s){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ls(s)}function cv(s,r){if(Ls(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(Ls(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function dv(s){var r=cv(s,"string");return Ls(r)=="symbol"?r:r+""}function hv(s,r,n){return(r=dv(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function ch(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function ie(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ch(Object(n),!0).forEach(function(o){hv(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const pl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},fv=async(s,r,n)=>{s instanceof await av()&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{const l=s.status||500,u=(o==null?void 0:o.statusCode)||l+"";r(new ov(pl(o),l,u))}).catch(o=>{r(new Pl(pl(o),o))}):r(new Pl(pl(s),s))},pv=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!o?l:(lv(o)?(l.headers=ie({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),ie(ie({},l),n))};async function Ws(s,r,n,o,l,u){return new Promise((h,p)=>{s(n,pv(r,o,l,u)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>fv(m,p,o))})}async function Ms(s,r,n,o){return Ws(s,"GET",r,n,o)}async function Vt(s,r,n,o,l){return Ws(s,"POST",r,o,l,n)}async function Ol(s,r,n,o,l){return Ws(s,"PUT",r,o,l,n)}async function mv(s,r,n,o){return Ws(s,"HEAD",r,ie(ie({},n),{},{noResolveJson:!0}),o)}async function Vl(s,r,n,o,l){return Ws(s,"DELETE",r,o,l,n)}var gv=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}};let Yh;Yh=Symbol.toStringTag;var vv=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Yh]="BlobDownloadBuilder",this.promise=null}asStream(){return new gv(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}};const yv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wv=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=n,this.fetch=Kl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,n,o){var l=this;try{let u;const h=ie(ie({},dh),o);let p=ie(ie({},l.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",l.encodeMetadata(m)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),m&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(m))):(u=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(p=ie(ie({},p),o.headers));const v=l._removeEmptyFolders(r),y=l._getFinalPath(v),x=await(s=="PUT"?Ol:Vt)(l.fetch,`${l.url}/object/${y}`,u,ie({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Le(u))return{data:null,error:u};throw u}}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,o){var l=this;const u=l._removeEmptyFolders(s),h=l._getFinalPath(u),p=new URL(l.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let m;const v=ie({upsert:dh.upsert},o),y=ie(ie({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",v.cacheControl)):(m=n,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType),{data:{path:u,fullPath:(await Ol(l.fetch,p.toString(),m,{headers:y})).Key},error:null}}catch(m){if(l.shouldThrowOnError)throw m;if(Le(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,r){var n=this;try{let o=n._getFinalPath(s);const l=ie({},n.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const u=await Vt(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(n.url+u.url),p=h.searchParams.get("token");if(!p)throw new mo("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:p},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var o=this;try{return{data:await Vt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async copy(s,r,n){var o=this;try{return{data:{path:(await Vt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async createSignedUrl(s,r,n){var o=this;try{let l=o._getFinalPath(s),u=await Vt(o.fetch,`${o.url}/object/sign/${l}`,ie({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return u={signedUrl:encodeURI(`${o.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async createSignedUrls(s,r,n){var o=this;try{const l=await Vt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:s},{headers:o.headers}),u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(h=>ie(ie({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${u}`):null})),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}download(s,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(s),h=()=>Ms(this.fetch,`${this.url}/${n}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new vv(h,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);try{return{data:Rl(await Ms(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await mv(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Le(o)&&o instanceof Pl){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,r){const n=this._getFinalPath(s),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${p}`)}}}async remove(s){var r=this;try{return{data:await Vl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async list(s,r,n){var o=this;try{const l=ie(ie(ie({},yv),r),{},{prefix:s||""});return{data:await Vt(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},n),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async listV2(s,r){var n=this;try{const o=ie({},s);return{data:await Vt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const Xh="2.89.0",Zh={"X-Client-Info":`storage-js/${Xh}`};var xv=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(s);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=ie(ie({},Zh),r),this.fetch=Kl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const n=r.listBucketOptionsToQueryString(s);return{data:await Ms(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await Ms(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async createBucket(s,r={public:!1}){var n=this;try{return{data:await Vt(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}}async updateBucket(s,r){var n=this;try{return{data:await Ol(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}}async emptyBucket(s){var r=this;try{return{data:await Vt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Vl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},_v=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},Zh),r),this.fetch=Kl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await Vt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async listBuckets(s){var r=this;try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const o=n.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return{data:await Ms(r.fetch,l,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Vl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}from(s){var r=this;if(!uv(s))throw new mo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new iv({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(l,u){const h=l[u];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(l,p),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}};const ql={"X-Client-Info":`storage-js/${Xh}`,"Content-Type":"application/json"};var ef=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var ml=class extends ef{constructor(s,r,n){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bv=class extends ef{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const Gl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),kv=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},hh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Sv=async(s,r,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const o=s.status||500,l=s;if(typeof l.json=="function")l.json().then(u=>{const h=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";r(new ml(hh(u),o,h))}).catch(()=>{const u=o+"";r(new ml(l.statusText||`HTTP ${o} error`,o,u))});else{const u=o+"";r(new ml(l.statusText||`HTTP ${o} error`,o,u))}}else r(new bv(hh(s),s))},Ev=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return o?(kv(o)?(l.headers=ie({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,ie(ie({},l),n)):l};async function jv(s,r,n,o,l,u){return new Promise((h,p)=>{s(n,Ev(r,o,l,u)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Sv(m,p,o))})}async function jt(s,r,n,o,l){return jv(s,"POST",r,o,l,n)}var Nv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},ql),r),this.fetch=Gl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getIndex(s,r){var n=this;try{return{data:await jt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async listIndexes(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteIndex(s,r){var n=this;try{return{data:await jt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}},Cv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},ql),r),this.fetch=Gl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await jt(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getVectors(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await jt(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async queryVectors(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await jt(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}},Tv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},ql),r),this.fetch=Gl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var r=this;try{return{data:await jt(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await jt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}},Pv=class extends Tv{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new Rv(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},Rv=class extends Nv{constructor(s,r,n,o){super(s,r,o),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new Ov(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Ov=class extends Cv{constructor(s,r,n,o,l){super(s,r,l),this.vectorBucketName=n,this.indexName=o}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,ie(ie({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Av=class extends xv{constructor(s,r={},n,o){super(s,r,n,o)}from(s){return new wv(this.url,this.headers,s,this.fetch)}get vectors(){return new Pv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _v(this.url+"/iceberg",this.headers,this.fetch)}};const tf="2.89.0",In=30*1e3,Al=3,gl=Al*In,Iv="http://localhost:9999",Lv="supabase.auth.token",Mv={"X-Client-Info":`gotrue-js/${tf}`},Il="X-Supabase-Api-Version",rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$v=600*1e3;class Bs extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function X(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Dv extends Bs{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Uv(s){return X(s)&&s.name==="AuthApiError"}class Yr extends Bs{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class cr extends Bs{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class St extends cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zv(s){return X(s)&&s.name==="AuthSessionMissingError"}class Cn extends cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends cr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class so extends cr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fv(s){return X(s)&&s.name==="AuthImplicitGrantRedirectError"}class fh extends cr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wv extends cr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ll extends cr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function vl(s){return X(s)&&s.name==="AuthRetryableFetchError"}class ph extends cr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Ml extends cr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mh=` 	
\r=`.split(""),Kv=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<mh.length;r+=1)s[mh[r].charCodeAt(0)]=-2;for(let r=0;r<oo.length;r+=1)s[oo[r].charCodeAt(0)]=r;return s})();function gh(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(oo[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(oo[o]),r.queuedBits-=6}}function nf(s,r,n){const o=Kv[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function vh(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{Gv(h,o,n)};for(let h=0;h<s.length;h+=1)nf(s.charCodeAt(h),l,u);return r.join("")}function Vv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function qv(s,r){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Vv(o,r)}}function Gv(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Bn(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)nf(s.charCodeAt(l),n,o);return new Uint8Array(r)}function Hv(s){const r=[];return qv(s,n=>r.push(n)),new Uint8Array(r)}function Xr(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return s.forEach(l=>gh(l,n,o)),gh(null,n,o),r.join("")}function Jv(s){return Math.round(Date.now()/1e3)+s}function Qv(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},sf=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function Yv(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const of=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Xv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ln=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Hr=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nt=async(s,r)=>{await s.removeItem(r)};class go{constructor(){this.promise=new go.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}go.promiseConstructor=Promise;function yl(s){const r=s.split(".");if(r.length!==3)throw new Ml("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Bv.test(r[o]))throw new Ml("JWT not in base64url format");return{header:JSON.parse(vh(r[0])),payload:JSON.parse(vh(r[1])),signature:Bn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Zv(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function ey(s,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!r(u,null,h)){o(h);return}}catch(h){if(!r(u,h)){l(h);return}}})()})}function ty(s){return("0"+s.toString(16)).substr(-2)}function ry(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,ty).join("")}async function ny(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function sy(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await ny(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(s,r,n=!1){const o=ry();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await Ln(s,`${r}-code-verifier`,l);const u=await sy(o);return[u,o===u?"plain":"s256"]}const iy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oy(s){const r=s.headers.get(Il);if(!r||!r.match(iy))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function ay(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function ly(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(s){if(!uy.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wl(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cy(s,r){return new Proxy(s,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function yh(s){return JSON.parse(JSON.stringify(s))}const Jr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),dy=[502,503,504];async function wh(s){var r;if(!Xv(s))throw new Ll(Jr(s),0);if(dy.includes(s.status))throw new Ll(Jr(s),s.status);let n;try{n=await s.json()}catch(u){throw new Yr(Jr(u),u)}let o;const l=oy(s);if(l&&l.getTime()>=rf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new ph(Jr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new St}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new ph(Jr(n),s.status,n.weak_password.reasons);throw new Dv(Jr(n),s.status||500,o)}const hy=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function se(s,r,n,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[Il]||(u[Il]=rf["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await fy(s,r,n+p,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function fy(s,r,n,o,l,u){const h=hy(r,o,l,u);let p;try{p=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new Ll(Jr(m),0)}if(p.ok||await wh(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(m){await wh(m)}}function Kt(s){var r;let n=null;gy(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=Jv(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:o},error:null}}function xh(s){const r=Kt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Rr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function py(s){return{data:s,error:null}}function my(s){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=s,h=po(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function _h(s){return s}function gy(s){return s.access_token&&s.refresh_token&&s.expires_in}const xl=["global","local","others"];class vy{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=of(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=xl[0]){if(xl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(X(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=po(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:my,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(X(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Rr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_h});if(y.error)throw y.error;const x=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(R=>{const T=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(R.split(";")[1].split("=")[1]);v[`${j}Page`]=T}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(X(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){Pn(r);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Rr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Pn(r);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Rr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){Pn(r);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){Pn(r.userId);try{const{data:n,error:o}=await se(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Pn(r.userId),Pn(r.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_h});if(y.error)throw y.error;const x=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(R=>{const T=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(R.split(";")[1].split("=")[1]);v[`${j}Page`]=T}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(X(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(X(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}}function bh(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const Rn={debug:!!(globalThis&&sf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class af extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class yy extends af{}async function wy(s,r,n){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new yy(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Rn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lf(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function _y(s){return parseInt(s,16)}function by(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function ky(s){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:h,notBefore:p,requestId:m,resources:v,scheme:y,uri:x,version:_}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const N=lf(s.address),R=y?`${y}://${o}`:o,T=s.statement?`${s.statement}
`:"",j=`${R} wants you to sign in with your Ethereum account:
${N}

${T}`;let M=`URI: ${x}
Version: ${_}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(l&&(M+=`
Expiration Time: ${l.toISOString()}`),p&&(M+=`
Not Before: ${p.toISOString()}`),m&&(M+=`
Request ID: ${m}`),v){let I=`
Resources:`;for(const E of v){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);I+=`
- ${E}`}M+=I}return`${j}
${M}`}class Ke extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class ao extends Ke{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Sy({error:s,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ke({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(uf(h)){if(u.rp.id!==h)return new Ke({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Ey({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ke({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(uf(o)){if(n.rpId!==o)return new Ke({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class jy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Ny=new jy;function Cy(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:o}=s,l=po(s,["challenge","user","excludeCredentials"]),u=Bn(r).buffer,h=Object.assign(Object.assign({},n),{id:Bn(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:h});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const v=o[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Bn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function Ty(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,o=po(s,["challenge","allowCredentials"]),l=Bn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];u.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Bn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Py(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Xr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Xr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Ry(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Xr(new Uint8Array(l.authenticatorData)),clientDataJSON:Xr(new Uint8Array(l.clientDataJSON)),signature:Xr(new Uint8Array(l.signature)),userHandle:l.userHandle?Xr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function uf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function kh(){var s,r;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Oy(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ao("Browser returned unexpected credential type",r)}:{data:null,error:new ao("Empty credential response",r)}}catch(r){return{data:null,error:Sy({error:r,options:s})}}}async function Ay(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ao("Browser returned unexpected credential type",r)}:{data:null,error:new ao("Empty credential response",r)}}catch(r){return{data:null,error:Ey({error:r,options:s})}}}const Iy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ly={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lo(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of s)if(l)for(const u in l){const h=l[u];if(h!==void 0)if(Array.isArray(h))o[u]=h;else if(n(h))o[u]=h;else if(r(h)){const p=o[u];r(p)?o[u]=lo(p,h):o[u]=lo(h)}else o[u]=h}return o}function My(s,r){return lo(Iy,s,r||{})}function By(s,r){return lo(Ly,s,r||{})}class $y{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:p};const m=l??Ny.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=My(h.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:x}=await Oy({publicKey:v,signal:m});return y?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const v=By(h.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:x}=await Ay(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new Yr("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Bs("rpId is required for WebAuthn authentication")};try{if(!kh())return{data:null,error:new Yr("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new Yr("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Bs("rpId is required for WebAuthn registration")};try{if(!kh())return{data:null,error:new Yr("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new Yr("Unexpected error in register",h)}}}}xy();const Dy={url:Iv,storageKey:Lv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sh(s,r,n){return await n()}const On={};class $s{get jwks(){var r,n;return(n=(r=On[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=On[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Dy),r);if(this.storageKey=u.storageKey,this.instanceID=(n=$s.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,$s.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new vy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=of(u.fetch),this.lock=u.lock||Sh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&st()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=wy:this.lock=Sh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $y(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:sf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=bh(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(st()&&(n=Yv(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),st()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Fv(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return X(n)?this._returnResult({error:n}):this._returnResult({error:new Yr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Kt}),{data:h,error:p}=u;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:y,password:x,options:_}=r;let N=null,R=null;this.flowType==="pkce"&&([N,R]=await Tn(this.storage,this.storageKey)),u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:x,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:N,code_challenge_method:R},xform:Kt})}else if("phone"in r){const{phone:y,password:x,options:_}=r;u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Kt})}else throw new no("You must provide either an email or phone number and a password");const{data:h,error:p}=u;if(p||!h)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:h,options:p}=r;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:xh})}else if("phone"in r){const{phone:u,password:h,options:p}=r;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:xh})}else throw new no("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new Cn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,h,p,m,v,y,x,_;let N,R;if("message"in r)N=r.message,R=r.signature;else{const{chain:T,wallet:j,statement:M,options:I}=r;let E;if(st())if(typeof j=="object")E=j;else{const xe=window;if("ethereum"in xe&&typeof xe.ethereum=="object"&&"request"in xe.ethereum&&typeof xe.ethereum.request=="function")E=xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=j}const $=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href),q=await E.request({method:"eth_requestAccounts"}).then(xe=>xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=lf(q[0]);let ne=(o=I==null?void 0:I.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ne){const xe=await E.request({method:"eth_chainId"});ne=_y(xe)}const he={domain:$.host,address:Q,statement:M,uri:$.href,version:"1",chainId:ne,nonce:(l=I==null?void 0:I.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(u=I==null?void 0:I.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=I==null?void 0:I.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=I==null?void 0:I.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=I==null?void 0:I.signInWithEthereum)===null||y===void 0?void 0:y.resources};N=ky(he),R=await E.request({method:"personal_sign",params:[by(N),Q]})}try{const{data:T,error:j}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:R},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kt});if(j)throw j;if(!T||!T.session||!T.user){const M=new Cn;return this._returnResult({data:{user:null,session:null},error:M})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:j})}catch(T){if(X(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(r){var n,o,l,u,h,p,m,v,y,x,_,N;let R,T;if("message"in r)R=r.message,T=r.signature;else{const{chain:j,wallet:M,statement:I,options:E}=r;let $;if(st())if(typeof M=="object")$=M;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))$=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=M}const q=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const Q=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),I?{statement:I}:null));let ne;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")ne=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)ne=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)R=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),T=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${q.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(l=(o=E==null?void 0:E.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((v=E==null?void 0:E.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((x=(y=E==null?void 0:E.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...E.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const Q=await $.signMessage(new TextEncoder().encode(R),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Q}}try{const{data:j,error:M}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Xr(T)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=r.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Kt});if(M)throw M;if(!j||!j.session||!j.user){const I=new Cn;return this._returnResult({data:{user:null,session:null},error:I})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:M})}catch(j){if(X(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const n=await Hr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Wv;const{data:u,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Kt});if(await nt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const p=new Cn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:h}=r,p=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kt}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new Cn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,u,h;try{if("email"in r){const{email:p,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Tn(this.storage,this.storageKey));const{error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in r){const{phone:p,options:m}=r,{data:v,error:y}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new no("You must provide either an email or phone number.")}catch(p){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Kt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,u,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Tn(this.storage,this.storageKey));const v=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:py});return!((u=v.data)===null||u===void 0)&&u.url&&st()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new St;const{error:l}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:h}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:h,error:p}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new no("You must provide either an email or phone number and a type")}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<gl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Hr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=wl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=cy(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Rr}):await this._useSession(async n=>{var o,l,u;const{data:h,error:p}=n;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Rr})})}catch(n){if(X(n))return zv(n)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new St;const h=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await Tn(this.storage,this.storageKey));const{data:v,error:y}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Rr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new St;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:h}=yl(r.access_token);if(h.exp&&(o=h.exp,l=o<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(X(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:h,error:p}=n;if(p)throw p;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new St;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!st())throw new so("No browser detected.");if(r.error||r.error_description||r.error_code)throw new so(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new so("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new fh("No code detected.");const{data:I,error:E}=await this._exchangeCodeForSession(r.code);if(E)throw E;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:p,expires_at:m,token_type:v}=r;if(!u||!p||!h||!v)throw new so("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let _=y+x;m&&(_=parseInt(m));const N=_-y;N*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const R=_-x;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,_,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,_,y);const{data:T,error:j}=await this._getUser(u);if(j)throw j;const M={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:x,expires_at:_,refresh_token:h,token_type:v,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:r.type},error:null})}catch(o){if(X(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Hr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(Uv(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Qv(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:h}=n;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Tn(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var h,p,m,v,y;const{data:x,error:_}=u;if(_)throw _;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return st()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(X(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:h,provider:p,token:m,access_token:v,nonce:y}=r,x=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kt}),{data:_,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Cn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:N}))}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:h}=n;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await ey(async l=>(l>0&&await Zv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Kt})),(l,u)=>{const h=200*Math.pow(2,l);return u&&vl(u)&&Date.now()+h-o<In})}catch(o){if(this._debug(n,"error",o),X(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),st()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Hr(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Hr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await Ln(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:wl()}else if(l&&!l.user&&!l.user){const h=await Hr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await nt(this.storage,this.storageKey+"-user"),await Ln(this.storage,this.storageKey,l)):l.user=wl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gl;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${gl}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),vl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new go;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new St;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),X(u)){const h={data:null,error:u};return vl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Ln(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=yh(l);await Ln(this.storage,this.storageKey,u)}else{const l=yh(n);await Ln(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${In}ms, refresh threshold is ${Al} ticks`),l<=Al&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof af)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,h]=await Tn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await se(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await se(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Py(r.webauthn.credential_response):Ry(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Cy(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ty(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=yl(o.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const v=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new St})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new St});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&st()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new St});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&st()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new St})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new St})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(p=>p.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+$v>l)return o;const{data:u,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:N,error:R}=await this.getSession();if(R||!N.session)return this._returnResult({data:null,error:R});o=N.session.access_token}const{header:l,payload:u,signature:h,raw:{header:p,payload:m}}=yl(o);n!=null&&n.allowExpired||ay(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:N}=await this.getUser(o);if(N)throw N;return{data:{claims:u,header:l,signature:h},error:null}}const y=ly(l.alg),x=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,h,Hv(`${p}.${m}`)))throw new Ml("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}}$s.nextInstanceID={};const Uy=$s,zy="2.89.0";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const Fy={"X-Client-Info":`supabase-js-${Ts}/${zy}`},Wy={headers:Fy},Ky={schema:"public"},Vy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qy={};function Ds(s){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ds(s)}function Gy(s,r){if(Ds(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(Ds(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Hy(s){var r=Gy(s,"string");return Ds(r)=="symbol"?r:r+""}function Jy(s,r,n){return(r=Hy(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Eh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function $e(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Eh(Object(n),!0).forEach(function(o){Jy(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const Qy=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Yy=()=>Headers,Xy=(s,r,n)=>{const o=Qy(n),l=Yy();return async(u,h)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:s;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),o(u,$e($e({},h),{},{headers:v}))}};function Zy(s){return s.endsWith("/")?s:s+"/"}function e0(s,r){var n,o;const{db:l,auth:u,realtime:h,global:p}=s,{db:m,auth:v,realtime:y,global:x}=r,_={db:$e($e({},m),l),auth:$e($e({},v),u),realtime:$e($e({},y),h),storage:{},global:$e($e($e({},x),p),{},{headers:$e($e({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function t0(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var r0=class extends Uy{constructor(s){super(s)}},n0=class{constructor(s,r,n){var o,l;this.supabaseUrl=s,this.supabaseKey=r;const u=t0(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:Ky,realtime:qy,auth:$e($e({},Vy),{},{storageKey:h}),global:Wy},m=e0(n??{},p);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=Xy(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Mg(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Av(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Rg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:u,flowType:h,lock:p,debug:m,throwOnError:v},y,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r0({url:this.authUrl.href,headers:$e($e({},_),y),storageKey:u,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:h,lock:p,debug:m,throwOnError:v,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Zg(this.realtimeUrl.href,$e($e({},s),{},{params:$e($e({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const s0=(s,r,n)=>new n0(s,r,n);function i0(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}i0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const o0="https://tkqocetvqcvksiuldmlu.supabase.co",a0="sb_publishable_37rLeUSdI8EKgzZF44B2nQ_N-vaIViE",Ct=s0(o0,a0),Us={premium:{maxGenerations:5,maxImages:15,imagesPerGeneration:3},free:{maxGenerations:1/0,maxImages:1/0,imagesPerGeneration:3}};async function uo(s){const{data:r,error:n}=await Ct.from("ai_tools").select("*").eq("key",s).eq("is_active",!0).single();return n?(console.error("Error fetching tool:",n),null):r}async function cf(s,r,n){const{data:o}=await Ct.from("ai_tool_usage").select("*").eq("child_id",s).eq("tool_id",r).eq("plan_type",n).single();if(o)return o;const{data:l,error:u}=await Ct.from("ai_tool_usage").insert({child_id:s,tool_id:r,plan_type:n,generation_count:0,image_count:0}).select().single();return u?(console.error("Error creating usage record:",u),null):l}async function Hl(s,r,n){const o=await cf(s,r,n),l=Us[n],u=(o==null?void 0:o.generation_count)??0,h=(o==null?void 0:o.image_count)??0,p=Math.max(0,l.maxGenerations-u),m=Math.max(0,l.maxImages-h);return{canGenerate:p>0&&m>=l.imagesPerGeneration,generationsUsed:u,generationsRemaining:isFinite(p)?p:-1,imagesUsed:h,imagesRemaining:isFinite(m)?m:-1,planType:n}}async function df(s){const{data:r,error:n}=await Ct.from("child_logos").insert(s).select();return n?(console.error("Error saving logos:",n),null):r}async function hf(s,r){const{error:n}=await Ct.from("child_logos").delete().eq("id",r).eq("child_id",s);return n?(console.error("Error deleting logo:",n),!1):(console.log(" Logo deleted:",r),!0)}async function Jl(s){const{data:r,error:n}=await Ct.from("child_logos").select("*").eq("child_id",s).order("created_at",{ascending:!1});return n?(console.error("Error fetching logos:",n),[]):r??[]}async function l0(s){const{data:r,error:n}=await Ct.from("child_logos").select("*").eq("child_id",s).eq("is_selected",!0).single();return n&&n.code!=="PGRST116"&&console.error("Error fetching selected logo:",n),r??null}async function Ql(s,r,n,o){await Ct.from("child_logos").update({is_selected:!1}).eq("child_id",s);const{error:l}=await Ct.from("child_logos").update({is_selected:!0}).eq("id",r).eq("child_id",s);if(l)return console.error("Error selecting logo:",l),!1;const{error:u}=await Ct.from("companies").update({logo_url:n}).eq("id",o);return u?(console.error("Error updating company logo:",u),!1):(console.log(" Logo selected and company updated"),!0)}const u0=Object.freeze(Object.defineProperty({__proto__:null,QUOTA_LIMITS:Us,checkQuota:Hl,deleteLogo:hf,getChildLogos:Jl,getOrCreateUsage:cf,getSelectedLogo:l0,getToolByKey:uo,saveLogos:df,selectLogoAndUpdateCompany:Ql},Symbol.toStringTag,{value:"Module"})),ff=O.createContext(void 0),Cs="dev_child_session";function c0({children:s}){const[r,n]=O.useState(null),[o,l]=O.useState(!0);O.useEffect(()=>{const m=localStorage.getItem(Cs);if(m)try{const v=JSON.parse(m);n(v)}catch{localStorage.removeItem(Cs)}l(!1)},[]);const u=O.useCallback(async m=>{var v;l(!0);try{const{data:y,error:x}=await Ct.from("children").select(`
          *,
          companies (*)
        `).eq("id",m).single();if(x||!y)return console.error("Error fetching child:",x),l(!1),!1;const{data:_}=await Ct.from("parents").select("users (email)").eq("id",y.parent_id).single(),N={...y,companies:Array.isArray(y.companies)?y.companies:y.companies?[y.companies]:[],parent_email:(v=_==null?void 0:_.users)==null?void 0:v.email};return n(N),localStorage.setItem(Cs,JSON.stringify(N)),console.log(" DEV MODE: Impersonating child",{child_id:m,child_name:y.name,impersonated:!0}),l(!1),!0}catch(y){return console.error("Login error:",y),l(!1),!1}},[]),h=O.useCallback(()=>{n(null),localStorage.removeItem(Cs)},[]),p=O.useCallback(m=>{n(v=>{var x;if(!v||!((x=v.companies)!=null&&x[0]))return v;const y={...v,companies:v.companies.map((_,N)=>N===0?{..._,logo_url:m}:_)};return localStorage.setItem(Cs,JSON.stringify(y)),console.log(" Session updated with new logo URL:",m),y})},[]);return d.jsx(ff.Provider,{value:{child:r,loading:o,isDevMode:!0,login:u,logout:h,updateCompanyLogoUrl:p},children:s})}function Un(){const s=O.useContext(ff);if(s===void 0)throw new Error("useChildSession must be used within a ChildSessionProvider");return s}const d0=[{icon:"",key:"food"},{icon:"",key:"crafts"},{icon:"",key:"toys"},{icon:"",key:"accessories"},{icon:"",key:"diy"}],h0=[{icon:"",key:"wordmark"},{icon:"",key:"symbol"},{icon:"",key:"emblem"},{icon:"",key:"mascot"}],f0=[{icon:"",key:"cheerful"},{icon:"",key:"premium"},{icon:"",key:"minimal"},{icon:"",key:"playful"},{icon:"",key:"traditional"}],p0=[{name:"Pastel",colors:["#FFD1DC","#B5EAD7","#C7CEEA"],key:"pastel"},{name:"Bold",colors:["#FF6B6B","#4ECDC4","#45B7D1"],key:"bold"},{name:"Earth",colors:["#8B7355","#A8C686","#E6D5B8"],key:"earth"},{name:"Bright",colors:["#FF1493","#00CED1","#FFD700"],key:"bright"},{name:"Premium",colors:["#2C3E50","#C9A961","#1A1A2E"],key:"premium"}],m0={pastel:{primary:"#FFD1DC",secondary:"#B5EAD7",tertiary:"#C7CEEA"},bold:{primary:"#FF6B6B",secondary:"#4ECDC4",tertiary:"#45B7D1"},earth:{primary:"#8B7355",secondary:"#A8C686",tertiary:"#E6D5B8"},bright:{primary:"#FF1493",secondary:"#00CED1",tertiary:"#FFD700"},premium:{primary:"#2C3E50",secondary:"#C9A961",tertiary:"#1A1A2E"}},g0=[{icon:"",key:"star"},{icon:"",key:"fire"},{icon:"",key:"leaf"},{icon:"",key:"lightning"},{icon:"",key:"heart"},{icon:"",key:"animal"}],_l={EN:["Always smile when talking to customers - it makes them feel welcome! ","Keep your prices simple - round numbers are easier to remember! ","Make your booth colorful - bright colors attract attention! ","Practice explaining your product in 10 seconds or less! ","Ask your customers what they like - it helps you improve! "],BM:["Sentiasa senyum bila bercakap dengan pelanggan - mereka akan rasa dihargai! ","Pastikan harga mudah - nombor bulat lebih senang diingat! ","Jadikan gerai anda berwarna-warni - warna cerah menarik perhatian! ","Latih diri menerangkan produk dalam 10 saat! ","Tanya pelanggan apa yang mereka suka - ia membantu anda memperbaiki! "]},v0=[{icon:"",iconImageKey:"logoMaker",titleKey:"tool.logo",descKey:"tool.logo.desc",href:"/tools/logo-maker",state:"available"},{icon:"",iconImageKey:"booth",titleKey:"tool.booth",descKey:"tool.booth.desc",href:"/tools/booth-ready",state:"available"},{icon:"",iconImageKey:"calculator",titleKey:"tool.profit",descKey:"tool.profit.desc",href:"/tools/profit-calculator",state:"available"}],y0=[{icon:"",iconImageKey:"productIdea",titleKey:"tool.product",descKey:"tool.product.desc",href:"#",state:"comingSoon"},{icon:"",iconImageKey:"packaging",titleKey:"tool.packaging",descKey:"tool.packaging.desc",href:"#",state:"comingSoon"}];function Yl({imageUrl:s,title:r,subtitle:n,showDate:o=!1,date:l,planType:u,isSelected:h=!1,onClick:p}){return d.jsxs("div",{onClick:p,className:`group relative aspect-square bg-white rounded-2xl overflow-hidden shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-high)] transition-all hover:scale-102 cursor-pointer ${h?"ring-3 ring-[var(--sunshine-orange)] scale-105":""}`,children:[d.jsx("img",{src:s,alt:r||"Logo",className:"w-full h-full object-cover"}),u==="premium"&&d.jsx("div",{className:"absolute top-2 left-2 text-lg drop-shadow-md",children:""}),h&&d.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-[var(--sunshine-orange)] flex items-center justify-center text-white text-sm shadow-md",children:""}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col justify-end p-3",children:[r&&d.jsx("h4",{className:"font-bold text-white text-sm truncate",children:r}),n&&d.jsx("p",{className:"text-[10px] text-white/70 truncate",children:n}),o&&l&&d.jsx("span",{className:"text-[10px] text-white/60 mt-1",children:l}),d.jsx("span",{className:"text-white/60 text-[10px] text-center mt-2",children:"Click to view"})]})]})}function w0(){return d.jsx("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden shadow-[var(--shadow-low)] animate-pulse",children:d.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-100"})})}const x0="/assets/logo-maker-Cq24m_tP.png",_0="/assets/booth-icon-Bi3aZ_Ep.png",b0="/assets/calculator-icon-DkpGyOJA.png",k0="/assets/product-idea-icon-CCXV7kmz.png",S0="/assets/packaging-icon-BSS_N8Fj.png",jh={logoMaker:x0,booth:_0,calculator:b0,productIdea:k0,packaging:S0};function E0(s){const r=new Date(s),o=new Date().getTime()-r.getTime(),l=Math.floor(o/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l} days ago`:r.toLocaleDateString()}function j0(){var T,j,M,I;const{t:s,language:r}=Tt(),{child:n,loading:o}=Un(),l=fo(),[u,h]=O.useState(0),[p,m]=O.useState([]),[v,y]=O.useState(!0),[x,_]=O.useState(null);if(O.useEffect(()=>{!o&&!n&&l("/dev/login")},[n,o,l]),O.useEffect(()=>{async function E(){if(n!=null&&n.id){y(!0);const $=await Jl(n.id);m($.slice(0,4)),y(!1);const q=await uo("logo_maker");if(q){const Q=await Hl(n.id,q.id,"premium");_(Q)}}else y(!1)}E()},[n==null?void 0:n.id]),O.useEffect(()=>{const E=Math.floor((Date.now()-new Date(new Date().getFullYear(),0,0).getTime())/864e5);h(E%_l.EN.length)},[]),o)return d.jsx("div",{className:"min-h-screen bg-sky-gradient flex items-center justify-center",children:d.jsx("div",{className:"text-2xl",children:"Loading..."})});if(!n)return null;const N={name:n.name,avatar:n.age&&n.age<10?"":"",companyName:((j=(T=n.companies)==null?void 0:T[0])==null?void 0:j.company_name)||`${n.name}'s Company`,companyLogo:((I=(M=n.companies)==null?void 0:M[0])==null?void 0:I.logo_url)||null,level:n.current_level,xp:n.total_xp},R=_l[r]||_l.EN;return d.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[d.jsx(Fs,{}),d.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:[d.jsxs(Nt,{to:"/",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"font-bold text-[var(--text-primary)] hidden sm:inline",children:"Home"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(zl,{}),d.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)]",children:[d.jsx("span",{className:"text-xl",children:N.avatar}),d.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N.name})]})]})]}),d.jsx("main",{className:"relative z-10 px-4 md:px-8 pb-8 pt-4",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx("section",{className:"mb-8",children:d.jsx("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-[var(--shadow-medium)]",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[var(--sky-blue-light)] to-[var(--sky-blue)] flex items-center justify-center text-4xl shadow-[var(--shadow-float)]",children:N.companyLogo?d.jsx("img",{src:N.companyLogo,alt:"Company logo",className:"w-full h-full rounded-full object-cover"}):""}),d.jsxs("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-full bg-[var(--golden-yellow)] flex items-center justify-center text-white text-sm font-bold shadow-md",children:["Lv",N.level]})]}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-[var(--text-primary)] mb-1",children:N.companyName}),d.jsxs("p",{className:"text-[var(--text-secondary)]",children:[s("dashboard.welcome")," ",d.jsx("span",{className:"font-semibold",children:N.name}),"! "]})]}),d.jsxs("div",{className:"flex gap-3 md:ml-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-[var(--sky-blue)] to-[var(--sky-blue-light)] rounded-2xl shadow-md",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsx("p",{className:"text-2xl font-extrabold text-white leading-none",children:N.xp}),d.jsx("p",{className:"text-xs font-bold text-white/80",children:"XP"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-[var(--sunshine-orange)] to-[var(--golden-yellow)] rounded-2xl shadow-md",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-2xl font-extrabold text-white leading-none",children:[x?x.generationsRemaining===-1?"":x.generationsRemaining:5,"/",Us.premium.maxGenerations]}),d.jsx("p",{className:"text-xs font-bold text-white/80",children:"Credits"})]})]})]})]})})}),d.jsxs("div",{className:"bg-gradient-to-r from-[var(--sky-blue-light)] to-[var(--mint-green)] rounded-3xl p-6 shadow-[var(--shadow-medium)] mb-8",children:[d.jsx("h3",{className:"font-bold text-[var(--text-primary)] mb-2",children:s("dashboard.tip.title")}),d.jsx("p",{className:"text-[var(--text-primary)]",children:R[u]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] mb-6",children:[" ",s("dashboard.tools")]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:v0.map(E=>d.jsx(El,{icon:E.icon,iconImage:jh[E.iconImageKey],titleKey:E.titleKey,descKey:E.descKey,href:E.href,state:E.state},E.titleKey))}),d.jsx("h3",{className:"text-lg font-bold text-[var(--text-muted)] mt-8 mb-4",children:" Coming Soon"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y0.map(E=>d.jsx(El,{icon:E.icon,iconImage:jh[E.iconImageKey],titleKey:E.titleKey,descKey:E.descKey,href:E.href,state:E.state},E.titleKey))})]}),d.jsxs("section",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)]",children:[" ",s("dashboard.recent")]}),d.jsxs(Nt,{to:"/creations",className:"text-sm font-semibold text-[var(--sky-blue)] hover:underline",children:[s("dashboard.seeMore")," "]})]}),v?d.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(E=>d.jsx(w0,{},E))}):p.length>0?d.jsx("div",{className:"grid grid-cols-4 gap-4",children:p.slice(0,4).map(E=>d.jsx(Yl,{imageUrl:E.image_url,title:E.company_name||"My Logo",subtitle:`${E.business_type||""}  ${E.logo_style||""}`,showDate:!0,date:E0(E.created_at),planType:E.plan_type,onClick:()=>l("/creations")},E.id))}):d.jsxs("div",{className:"bg-white/50 rounded-2xl p-8 text-center",children:[d.jsx("p",{className:"text-[var(--text-muted)]",children:"No creations yet. Start by making a logo! "}),d.jsx(Nt,{to:"/tools/logo-maker",className:"inline-block mt-4 px-6 py-2 bg-[var(--sky-blue)] text-white font-bold rounded-full hover:scale-105 transition-transform",children:"Create Logo"})]})]}),d.jsx(Fl,{})]})})]})}function Ks({children:s,currentStep:r,totalSteps:n,toolName:o,toolIcon:l}){const{t:u}=Tt(),h=r/n*100;return d.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[d.jsx(Fs,{}),d.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:[d.jsxs(Nt,{to:"/dashboard",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-semibold text-[var(--text-primary)] text-sm",children:u("common.back")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:l}),d.jsx("span",{className:"font-bold text-[var(--text-primary)] hidden sm:block",children:o})]}),d.jsx(zl,{})]}),d.jsx("div",{className:"relative z-10 bg-white/50 px-4 py-3",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-semibold text-[var(--text-secondary)]",children:[u("wizard.step")," ",r," / ",n]}),d.jsxs("span",{className:"text-sm font-semibold text-[var(--sky-blue)]",children:[Math.round(h),"%"]})]}),d.jsx("div",{className:"h-3 bg-[var(--muted)] rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-[var(--sky-blue)] to-[var(--sunshine-orange)] rounded-full transition-all duration-500 ease-out",style:{width:`${h}%`}})})]})}),d.jsx("main",{className:"relative z-10 px-4 md:px-8 py-6 md:py-8",children:s}),d.jsx(Fl,{})]})}function ut({children:s,title:r,subtitle:n,icon:o}){return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-[var(--shadow-medium)] animate-fade-up",children:[d.jsxs("div",{className:"text-center mb-6",children:[o&&d.jsx("div",{className:"text-5xl mb-4",children:o}),d.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-[var(--text-primary)]",children:r}),n&&d.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:n})]}),s]})})}function $n({icon:s,label:r,selected:n,onClick:o,disabled:l}){return d.jsxs("button",{onClick:o,disabled:l,className:`p-4 rounded-2xl border-3 transition-all duration-200 flex flex-col items-center gap-2 ${n?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-102"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[d.jsx("span",{className:"text-3xl",children:s}),d.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)] text-center",children:r})]})}function Gt({onPrevious:s,onNext:r,canGoNext:n=!0,isLastStep:o=!1,isFirstStep:l=!1,loading:u=!1,nextLabel:h}){const{t:p}=Tt();return d.jsxs("div",{className:"flex items-center justify-between mt-8 gap-4",children:[l?d.jsx("div",{}):d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-6 py-3 rounded-full bg-white border-2 border-[var(--border-light)] text-[var(--text-secondary)] font-semibold hover:border-[var(--sky-blue)] hover:text-[var(--sky-blue)] transition-all",children:[" ",p("common.previous")]}),d.jsx("button",{onClick:r,disabled:!n||u,className:`flex items-center gap-2 px-8 py-3 rounded-full font-bold text-white transition-all ${n&&!u?"bg-[var(--sky-blue)] hover:shadow-[var(--shadow-high)] hover:scale-105":"bg-[var(--text-muted)] cursor-not-allowed"}`,children:u?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"animate-spin",children:""}),p("wizard.generating")]}):h||(o?d.jsxs(d.Fragment,{children:[p("common.finish")," "]}):d.jsxs(d.Fragment,{children:[p("common.next")," "]}))})]})}function pf({show:s,onComplete:r}){const[n,o]=O.useState([]);return O.useEffect(()=>{if(s){const l=["","","","","","",""],u=Array.from({length:20},(p,m)=>({id:m,x:Math.random()*100,emoji:l[Math.floor(Math.random()*l.length)],delay:Math.random()*.5}));o(u);const h=setTimeout(()=>{o([]),r==null||r()},2500);return()=>clearTimeout(h)}},[s,r]),!s||n.length===0?null:d.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:n.map(l=>d.jsx("div",{className:"absolute text-3xl animate-celebration",style:{left:`${l.x}%`,top:"-50px",animationDelay:`${l.delay}s`},children:l.emoji},l.id))})}function mf({isOpen:s,imageUrl:r,title:n,subtitle:o,onClose:l,onPick:u,showPickButton:h=!1,pickButtonLabel:p="Pick This One! ",onDelete:m,showDeleteButton:v=!1}){const[y,x]=O.useState(100),[_,N]=O.useState({x:0,y:0}),[R,T]=O.useState(!1),[j,M]=O.useState({x:0,y:0});if(!s)return null;const I=()=>x(ue=>Math.min(ue+25,300)),E=()=>x(ue=>Math.max(ue-25,50)),$=ue=>{ue.preventDefault(),ue.deltaY<0?I():E()},q=ue=>{y>100&&(T(!0),M({x:ue.clientX-_.x,y:ue.clientY-_.y}))},Q=ue=>{R&&N({x:ue.clientX-j.x,y:ue.clientY-j.y})},ne=()=>T(!1),he=ue=>{ue.target===ue.currentTarget&&l()},xe=()=>{const ue=document.createElement("a");ue.href=r,ue.download=`logo-${Date.now()}.webp`,ue.target="_blank",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue)},Fe=()=>{x(100),N({x:0,y:0})};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:he,children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-lg w-full shadow-2xl relative",onClick:ue=>ue.stopPropagation(),children:[d.jsx("button",{onClick:l,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-xl transition-colors z-10",children:""}),(n||o)&&d.jsxs("div",{className:"mb-4 pr-12",children:[n&&d.jsx("h3",{className:"font-bold text-lg text-[var(--text-primary)] truncate",children:n}),o&&d.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:o})]}),d.jsxs("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden border-3 border-[var(--sky-blue)] bg-gray-100 cursor-grab active:cursor-grabbing",onWheel:$,onMouseDown:q,onMouseMove:Q,onMouseUp:ne,onMouseLeave:ne,children:[d.jsx("img",{src:r,alt:"Zoomed logo",className:"w-full h-full object-contain select-none",style:{transform:`scale(${y/100}) translate(${_.x/(y/100)}px, ${_.y/(y/100)}px)`,transition:R?"none":"transform 0.2s ease-out"},draggable:!1}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-black/60 rounded-full px-3 py-2",children:[d.jsx("button",{onClick:E,className:"w-8 h-8 rounded-full bg-white/20 hover:bg-white/40 flex items-center justify-center text-white transition-colors text-sm",children:""}),d.jsxs("button",{onClick:Fe,className:"text-white text-sm font-semibold min-w-[50px] text-center hover:bg-white/20 rounded px-1",children:[y,"%"]}),d.jsx("button",{onClick:I,className:"w-8 h-8 rounded-full bg-white/20 hover:bg-white/40 flex items-center justify-center text-white transition-colors text-sm",children:""})]})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx("button",{onClick:xe,className:"flex-1 px-4 py-3 rounded-full bg-gray-100 text-[var(--text-primary)] font-bold hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:" Download"}),h&&u&&d.jsx("button",{onClick:u,className:"flex-1 px-4 py-3 rounded-full bg-[var(--sunshine-orange)] text-white font-bold hover:scale-105 transition-transform",children:p})]}),v&&m&&d.jsx("button",{onClick:m,className:"w-full mt-3 px-4 py-2.5 rounded-full border-2 border-red-400 text-red-500 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:" Delete Logo"})]})})}function N0(){var zn;const{t:s}=Tt(),{child:r}=Un(),[n,o]=O.useState(1),[l,u]=O.useState(null),[h,p]=O.useState(""),[m,v]=O.useState(""),[y,x]=O.useState(""),[_,N]=O.useState(""),[R,T]=O.useState(""),[j,M]=O.useState(""),[I,E]=O.useState(""),[$,q]=O.useState(""),[Q,ne]=O.useState(!1),[he,xe]=O.useState([]),[Fe,ue]=O.useState([]),[Z,me]=O.useState(null),[be,ke]=O.useState(!1),[Ne,fe]=O.useState(null),[F,ee]=O.useState([0,0,0]);O.useEffect(()=>{async function W(){if(r!=null&&r.id)try{const ye=await uo("logo_maker");if(ye){const _e=await Hl(r.id,ye.id,"premium");u(_e.generationsRemaining)}}catch(ye){console.warn("Failed to fetch premium credits:",ye)}}W()},[r==null?void 0:r.id]);const[V,S]=O.useState(!1),[L,oe]=O.useState(null),le=W=>{oe(W),S(!0)},ce=()=>{S(!1),oe(null)},pe=W=>{me(W),ce()},Se=async(W,ye)=>{if(W==="batch"){let Me=0;for(;Me<120;){const De=await(await fetch(`/api/check-status?id=${ye[0]}`)).json();if(ee([De.progress,De.progress,De.progress]),De.status==="succeeded"&&De.output)return De.output;if(De.status==="failed")throw new Error(De.error||"Generation failed");await new Promise(Qe=>setTimeout(Qe,1e3)),Me++}throw new Error("Generation timed out")}else{const Me=[null,null,null];let et=0;for(;et<120&&Me.some(De=>De===null);){const De=ye.map(async(Qe,ct)=>{if(Me[ct])return;const Mt=await(await fetch(`/api/check-status?id=${Qe}`)).json();if(ee(Vs=>{const Fn=[...Vs];return Fn[ct]=Mt.progress,Fn}),Mt.status==="succeeded"&&Mt.output)Me[ct]=Array.isArray(Mt.output)?Mt.output[0]:Mt.output;else if(Mt.status==="failed")throw new Error(`Card ${ct+1} failed: ${Mt.error}`)});if(await Promise.all(De),Me.every(Qe=>Qe!==null))break;await new Promise(Qe=>setTimeout(Qe,1e3)),et++}if(Me.some(De=>De===null))throw new Error("Generation timed out");return Me}},ve=async W=>{const ye=[];for(let _e=0;_e<W.length;_e++)try{const ft=await fetch("/api/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempUrl:W[_e],childId:(r==null?void 0:r.id)||"anonymous",filename:`logo-${Date.now()}-${_e}`})});if(ft.ok){const{permanentUrl:Me}=await ft.json();ye.push(Me)}else console.warn("Upload failed, using temp URL"),ye.push(W[_e])}catch(ft){console.warn("Upload error, using temp URL:",ft),ye.push(W[_e])}return ye},je=async W=>{if(r!=null&&r.id)try{const ye=await uo("logo_maker");if(ye){const _e=m0[R]||{primary:"#6B4EFF",secondary:"#FFD54F",tertiary:"#45B7D1"},ft=W.map(et=>({child_id:r.id,tool_id:ye.id,plan_type:$,company_name:h,business_type:m,logo_style:y,vibe:_,color_palette:{preset:R,primary:_e.primary,secondary:_e.secondary,tertiary:_e.tertiary},slogan:I||null,symbol:j||null,image_url:et.imageUrl,is_selected:!1})),Me=await df(ft);Me&&(ue(Me.map(et=>et.id)),console.log(" Logos saved to Supabase",Me.map(et=>et.id)))}}catch(ye){console.warn("Failed to save logos to DB:",ye)}},qe=async()=>{var W,ye;if(n===4&&$){ne(!0),fe(null),xe([]),ee([0,0,0]),o(5);try{const _e=await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logoWizardData:{businessName:h,businessType:m,logoStyle:y,vibe:_,colorPalette:R,icon:j,slogan:I},plan:$})});if(!_e.ok){const ct=await _e.json();throw new Error(ct.error||"Failed to start generation")}const{mode:ft,ids:Me}=await _e.json(),et=await Se(ft,Me),Qe=(await ve(et)).map((ct,tn)=>({id:`logo-${Date.now()}-${tn}`,imageUrl:ct,prompt:"",createdAt:new Date().toISOString(),plan:$}));xe(Qe),await je(Qe),ne(!1),o(6)}catch(_e){console.error("Error generating logos:",_e),fe(_e instanceof Error?_e.message:"Failed to generate logos"),ne(!1),o(4)}}else if(n===6&&Z!==null){if(r!=null&&r.id&&Fe[Z]&&((ye=(W=r.companies)==null?void 0:W[0])!=null&&ye.id))try{await Ql(r.id,Fe[Z],he[Z].imageUrl,r.companies[0].id),console.log(" Logo selection saved to DB")}catch(_e){console.warn("Failed to update logo selection:",_e)}ke(!0),o(7)}else o(n+1)},Ht=()=>n===1?h.trim()!==""&&m!=="":n===2?y!==""&&_!==""&&R!=="":n===3?!0:n===4?$!=="":n===6?Z!==null:!0;return d.jsxs(Ks,{currentStep:n,totalSteps:7,toolName:s("tool.logo"),toolIcon:"",children:[d.jsx(pf,{show:be}),n===1&&d.jsxs(ut,{title:s("logo.step1.title"),subtitle:s("logo.step1.subtitle"),icon:"",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-2",children:s("logo.shopName")}),d.jsx("input",{type:"text",value:h,onChange:W=>p(W.target.value),placeholder:s("logo.shopName.placeholder"),className:"w-full px-4 py-3 rounded-2xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:outline-none transition-colors text-[var(--text-primary)]",maxLength:30})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.businessType")}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3",children:d0.map(W=>d.jsx($n,{icon:W.icon,label:s(`logo.type.${W.key}`),selected:m===W.key,onClick:()=>v(W.key)},W.key))})]})]}),d.jsx(Gt,{onNext:qe,canGoNext:Ht(),isFirstStep:!0})]}),n===2&&d.jsxs(ut,{title:s("logo.step2.title"),subtitle:s("logo.step2.subtitle"),icon:"",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.style")}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:h0.map(W=>d.jsx($n,{icon:W.icon,label:s(`logo.style.${W.key}`),selected:y===W.key,onClick:()=>x(W.key)},W.key))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.vibe")}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:f0.map(W=>d.jsx($n,{icon:W.icon,label:s(`logo.vibe.${W.key}`),selected:_===W.key,onClick:()=>N(W.key)},W.key))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:s("logo.colors")}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:p0.map(W=>d.jsxs("button",{onClick:()=>T(W.key),className:`p-3 rounded-2xl border-3 transition-all duration-200 ${R===W.key?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-102"}`,children:[d.jsx("div",{className:"flex gap-1 justify-center mb-2",children:W.colors.map((ye,_e)=>d.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:ye}},_e))}),d.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)]",children:W.name})]},W.key))})]})]}),d.jsx(Gt,{onPrevious:()=>o(1),onNext:qe,canGoNext:Ht()})]}),n===3&&d.jsxs(ut,{title:s("logo.step3.title"),subtitle:s("logo.step3.subtitle"),icon:"",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-3",children:[s("logo.symbol")," (",s("common.optional"),")"]}),d.jsx("div",{className:"grid grid-cols-6 gap-3",children:g0.map(W=>d.jsx("button",{onClick:()=>M(j===W.key?"":W.key),className:`p-3 rounded-2xl text-2xl transition-all duration-200 border-3 ${j===W.key?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-105 shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:scale-102"}`,children:W.icon},W.key))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-[var(--text-primary)] mb-2",children:[s("logo.slogan")," (",s("common.optional"),")"]}),d.jsx("input",{type:"text",value:I,onChange:W=>E(W.target.value),placeholder:s("logo.slogan.placeholder"),className:"w-full px-4 py-3 rounded-2xl border-2 border-[var(--border-light)] focus:border-[var(--sky-blue)] focus:outline-none transition-colors text-[var(--text-primary)]",maxLength:50})]})]}),d.jsx(Gt,{onPrevious:()=>o(2),onNext:qe,canGoNext:Ht()})]}),n===4&&d.jsxs(ut,{title:"Choose Your Creation Mode",subtitle:"Pick how you want your logo to be created",icon:"",children:[Ne&&d.jsxs("div",{className:"mb-6 p-4 bg-[#fff0f0] border-2 border-red-200 rounded-2xl flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"text-red-600 text-sm font-medium",children:Ne})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("button",{onClick:()=>q("free"),className:`relative p-6 rounded-3xl border-3 transition-all duration-300 text-left ${$==="free"?"border-[var(--mint-green)] bg-gradient-to-br from-[#f0fff4] to-[#e6fff0] scale-[1.02] shadow-[0_8px_32px_rgba(168,230,207,0.4)]":"border-[var(--border-light)] bg-white hover:border-[var(--mint-green)] hover:shadow-lg"}`,children:[d.jsx("div",{className:"absolute -top-3 left-4",children:d.jsx("span",{className:"px-3 py-1 bg-[var(--mint-green)] text-white text-xs font-bold rounded-full",children:"FREE"})}),d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--mint-green)] to-[#6cc9a8] flex items-center justify-center text-3xl mb-4 shadow-md",children:""}),d.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Quick & Easy"}),d.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"Perfect for getting started! Generate creative logo ideas instantly with our fast AI engine."}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[d.jsx("span",{className:"text-[var(--mint-green)]",children:""}),"3 logo variations per generation"]}),d.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[d.jsx("span",{className:"text-[var(--mint-green)]",children:""}),"Fast generation (10-15 seconds)"]}),d.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[d.jsx("span",{className:"text-[var(--mint-green)]",children:""}),"Unlimited generations"]})]}),$==="free"&&d.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[var(--mint-green)] flex items-center justify-center text-white text-lg",children:""})]}),d.jsxs("button",{onClick:()=>q("premium"),className:`relative p-6 rounded-3xl border-3 transition-all duration-300 text-left ${$==="premium"?"border-[var(--golden-yellow)] bg-gradient-to-br from-[#fffef0] to-[#fff8e0] scale-[1.02] shadow-[0_8px_32px_rgba(255,200,80,0.4)]":"border-[var(--border-light)] bg-white hover:border-[var(--golden-yellow)] hover:shadow-lg"}`,children:[d.jsx("div",{className:"absolute -top-3 left-4",children:d.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-[var(--golden-yellow)] to-[var(--sunshine-orange)] text-white text-xs font-bold rounded-full",children:"PREMIUM "})}),d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--golden-yellow)] to-[var(--sunshine-orange)] flex items-center justify-center text-3xl mb-4 shadow-md",children:""}),d.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Premium Quality"}),d.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"Get stunning, professional-grade logos with enhanced details and text rendering."}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[d.jsx("span",{className:"text-[var(--golden-yellow)]",children:""}),"3 high-quality logo variations"]}),d.jsxs("li",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[d.jsx("span",{className:"text-[var(--golden-yellow)]",children:""}),"Better text & detail rendering"]}),d.jsxs("li",{className:"flex items-center gap-2 font-semibold",children:[d.jsx("span",{className:"text-[var(--golden-yellow)]",children:""}),l!==null?d.jsxs("span",{className:l>0?"text-[var(--mint-green)]":"text-red-500",children:[l," of ",Us.premium.maxGenerations," generations left"]}):d.jsxs("span",{className:"text-[var(--text-secondary)]",children:[Us.premium.maxGenerations," generations included"]})]})]}),$==="premium"&&d.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[var(--golden-yellow)] flex items-center justify-center text-white text-lg",children:""})]})]}),d.jsx(Gt,{onPrevious:()=>o(3),onNext:qe,canGoNext:Ht(),nextLabel:"Generate Logos "})]}),n===5&&Q&&d.jsx(ut,{title:s("logo.generating.title"),subtitle:s("logo.generating.subtitle"),icon:"",children:d.jsxs("div",{className:"flex flex-col items-center py-4",children:[d.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-6",children:$==="premium"?"Creating premium-quality logos with enhanced details...":"Generating creative logo ideas..."}),d.jsx("div",{className:"grid grid-cols-3 gap-4 w-full",children:[0,1,2].map(W=>d.jsxs("div",{className:"relative aspect-square bg-white rounded-2xl overflow-hidden shadow-[var(--shadow-low)]",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-50"}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-[var(--sky-blue)] to-[var(--sky-blue-light)]",style:{height:`${F[W]}%`,transition:"height 0.3s ease-out"}}),d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:F[W]<100?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-3xl mb-2 animate-pulse",children:""}),d.jsxs("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:[F[W],"%"]})]}):d.jsx("div",{className:"text-4xl",children:""})}),d.jsx("div",{className:"absolute bottom-2 left-2 right-2 text-center z-10",children:d.jsxs("span",{className:"px-2 py-1 bg-white/80 rounded-full text-xs font-semibold text-[var(--text-primary)]",children:["Logo ",W+1]})})]},W))})]})}),n===6&&he.length>0&&d.jsxs(ut,{title:s("logo.step5.title"),subtitle:s("logo.step5.subtitle"),icon:"",children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:he.map((W,ye)=>d.jsx(Yl,{imageUrl:W.imageUrl,title:`Option ${ye+1}`,isSelected:Z===ye,onClick:()=>le(ye)},W.id))}),d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx("button",{onClick:async()=>{me(null),xe([]),o(4),await new Promise(W=>setTimeout(W,50)),o(5),ne(!0),fe(null),ee([0,0,0]);try{const W=await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logoWizardData:{businessName:h,businessType:m,logoStyle:y,vibe:_,colorPalette:R,icon:j,slogan:I},plan:$})});if(!W.ok)throw new Error("Failed to start regeneration");const{mode:ye,ids:_e}=await W.json(),ft=await Se(ye,_e),et=(await ve(ft)).map((De,Qe)=>({id:`logo-${Date.now()}-${Qe}`,imageUrl:De,prompt:"",createdAt:new Date().toISOString(),plan:$}));xe(et),await je(et),ne(!1),o(6)}catch(W){console.error("Regeneration error:",W),fe(W instanceof Error?W.message:"Regeneration failed"),ne(!1),o(6)}},className:"px-5 py-2.5 rounded-full border-2 border-[var(--sky-blue)] text-[var(--sky-blue)] font-semibold hover:bg-[var(--sky-blue)]/10 transition-colors flex items-center gap-2",children:" Generate Again"})}),d.jsx(Gt,{onPrevious:()=>o(4),onNext:qe,canGoNext:Ht()})]}),L!==null&&d.jsx(mf,{isOpen:V,imageUrl:((zn=he[L])==null?void 0:zn.imageUrl)||"",title:`Option ${L+1}`,onClose:ce,showPickButton:!0,pickButtonLabel:"Pick This One! ",onPick:()=>pe(L)}),n===7&&Z!==null&&d.jsx(ut,{title:s("logo.step6.title"),subtitle:s("logo.step6.subtitle"),icon:"",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-48 h-48 rounded-3xl bg-white shadow-[var(--shadow-high)] flex items-center justify-center mb-6 border-3 border-[var(--sunshine-orange)] overflow-hidden",children:d.jsx("img",{src:he[Z].imageUrl,alt:"Selected logo",className:"w-full h-full object-cover"})}),d.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:h}),I&&d.jsxs("p",{className:"text-[var(--text-secondary)] mb-4",children:['"',I,'"']}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{className:"px-6 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)]",children:[s("logo.download")," "]}),d.jsxs(Nt,{to:"/dashboard",className:"px-6 py-3 rounded-full bg-white text-[var(--text-primary)] font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)]",children:[s("logo.backToDashboard")," "]})]})]})})]})}const C0=[{icon:"",key:"food"},{icon:"",key:"crafts"},{icon:"",key:"games"},{icon:"",key:"books"},{icon:"",key:"toys"}],T0=[{icon:"",key:"low",range:"RM10-30"},{icon:"",key:"medium",range:"RM30-50"},{icon:"",key:"high",range:"RM50+"}],P0=[{icon:"",key:"diy"},{icon:"",key:"resale"},{icon:"",key:"both"}],Nh={food:[{name:"Mini Cupcakes",desc:"Colorful cupcakes with fun toppings!",tip:"Add edible glitter for extra wow!"},{name:"Cookie Pops",desc:"Cookies on sticks - easy to eat!",tip:"Wrap in clear bags with ribbons"},{name:"Fruit Cups",desc:"Fresh fruit in cute cups!",tip:"Use star-shaped cutters for fruits"}],crafts:[{name:"Friendship Bracelets",desc:"Handmade woven bracelets!",tip:"Offer custom name options"},{name:"Bookmarks",desc:"Decorated bookmarks for readers!",tip:"Add tassels for a premium feel"},{name:"Keychains",desc:"Fun beaded keychains!",tip:"Make themed sets for better sales"}],games:[{name:"Lucky Dip Bags",desc:"Mystery bags with small toys!",tip:"Different price tiers work great"},{name:"Spin & Win Game",desc:"A spinning wheel with prizes!",tip:"Make sure prizes cost less than plays"},{name:"Ring Toss Game",desc:"Classic carnival ring toss!",tip:"Offer 3 tries per token"}],books:[{name:"Story Bookmarks",desc:"Bookmarks with mini stories!",tip:"Write original short tales"},{name:"Comic Strips",desc:"Original mini comics!",tip:"Make a series for repeat customers"},{name:"Quote Cards",desc:"Inspiring quote cards!",tip:"Add colorful illustrations"}],toys:[{name:"Slime Jars",desc:"Colorful homemade slime!",tip:"Add glitter or beads for variety"},{name:"Stress Balls",desc:"Squeezy stress relievers!",tip:"Make different shapes and faces"},{name:"Origami Figures",desc:"Folded paper creations!",tip:"Offer a how-to guide too"}]};function R0(){const{t:s}=Tt(),[r,n]=O.useState(1),[o,l]=O.useState(""),[u,h]=O.useState(""),[p,m]=O.useState(""),[v,y]=O.useState(!1),[x,_]=O.useState([]),[N,R]=O.useState(null),[T,j]=O.useState(!1),M=async()=>{r===3?(y(!0),await new Promise(E=>setTimeout(E,1500)),_(Nh[o]||Nh.food),y(!1),n(4)):r===4&&N!==null?j(!0):n(r+1)},I=()=>r===1?o!=="":r===2?u!=="":r===3?p!=="":r===4?N!==null:!0;return d.jsxs(Ks,{currentStep:r,totalSteps:4,toolName:s("tool.product"),toolIcon:"",children:[d.jsx(pf,{show:T}),r===1&&d.jsxs(ut,{title:s("product.step1.title"),subtitle:s("product.step1.subtitle"),icon:"",children:[d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-4",children:C0.map(E=>d.jsx($n,{icon:E.icon,label:s(`product.interest.${E.key}`),selected:o===E.key,onClick:()=>l(E.key)},E.key))}),d.jsx(Gt,{onNext:M,canGoNext:I(),isFirstStep:!0})]}),r===2&&d.jsxs(ut,{title:s("product.step2.title"),subtitle:s("product.step2.subtitle"),icon:"",children:[d.jsx("div",{className:"grid grid-cols-3 gap-4",children:T0.map(E=>d.jsx($n,{icon:E.icon,label:`${s(`product.budget.${E.key}`)}
${E.range}`,selected:u===E.key,onClick:()=>h(E.key)},E.key))}),d.jsx(Gt,{onPrevious:()=>n(1),onNext:M,canGoNext:I()})]}),r===3&&d.jsxs(ut,{title:s("product.step3.title"),subtitle:s("product.step3.subtitle"),icon:"",children:[d.jsx("div",{className:"grid grid-cols-3 gap-4",children:P0.map(E=>d.jsx($n,{icon:E.icon,label:s(`product.type.${E.key}`),selected:p===E.key,onClick:()=>m(E.key)},E.key))}),d.jsx(Gt,{onPrevious:()=>n(2),onNext:M,canGoNext:I(),loading:v})]}),r===4&&d.jsxs(ut,{title:s("product.step4.title"),subtitle:s("product.step4.subtitle"),icon:"",children:[d.jsx("div",{className:"space-y-4",children:x.map((E,$)=>d.jsx("button",{onClick:()=>R($),className:`w-full text-left p-4 rounded-2xl border-3 transition-all ${N===$?"border-[var(--sunshine-orange)] bg-[var(--sunshine-orange)]/10":"border-[var(--border)] bg-white hover:border-[var(--sky-blue)]"}`,children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-[var(--sky-blue-light)] flex items-center justify-center text-2xl flex-shrink-0",children:$===0?"":$===1?"":""}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-[var(--text-primary)]",children:E.name}),d.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:E.desc}),d.jsxs("p",{className:"text-xs text-[var(--sunshine-orange)] mt-2 font-semibold",children:["Tip: ",E.tip]})]})]})},$))}),d.jsx(Gt,{onPrevious:()=>n(3),onNext:M,canGoNext:I(),isLastStep:!0})]}),T&&d.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-3xl p-8 text-center max-w-md mx-4 animate-scale-in",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h2",{className:"text-2xl font-extrabold text-[var(--text-primary)] mb-2",children:s("product.success.title")}),d.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:s("product.success.desc")}),d.jsxs(Nt,{to:"/tools/packaging-idea",className:"inline-flex items-center gap-2 px-8 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-all",children:[s("product.success.next")," "]})]})})]})}function O0(){const{t:s}=Tt();return d.jsx(Ks,{currentStep:1,totalSteps:4,toolName:s("tool.packaging"),toolIcon:"",children:d.jsx(ut,{title:s("packaging.step1.title"),subtitle:s("packaging.step1.subtitle"),icon:"",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"Coming Soon!"}),d.jsx("p",{className:"text-[var(--text-secondary)]",children:"This tool is being built. Check back soon for amazing packaging ideas!"})]})})})}const A0="modulepreload",I0=function(s){return"/"+s},Ch={},L0=function(r,n,o){let l=Promise.resolve();if(n&&n.length>0){let h=function(v){return Promise.all(v.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=h(n.map(v=>{if(v=I0(v),v in Ch)return;Ch[v]=!0;const y=v.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":A0,y||(_.as="script"),_.crossOrigin="",_.href=v,m&&_.setAttribute("nonce",m),document.head.appendChild(_),y)return new Promise((N,R)=>{_.addEventListener("load",N),_.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})};function M0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:o,width:l=600,height:u=400,className:h=""}){const p=u*.7,m=Math.min(l*.35,p*.5);return d.jsxs("svg",{viewBox:`0 0 ${l} ${u}`,width:l,height:u,className:h,xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"bannerGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:n,stopOpacity:"1"}),d.jsx("stop",{offset:"100%",stopColor:n,stopOpacity:"0.85"})]}),d.jsx("filter",{id:"bannerShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:d.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodOpacity:"0.15"})}),d.jsxs("filter",{id:"logoGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"blur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx("rect",{x:"0",y:"0",width:l,height:u,fill:"#f5f5f5"}),d.jsxs("g",{id:"banner-poles",children:[d.jsx("rect",{x:l*.08,y:u*.05,width:"8",height:p+20,rx:"4",fill:"#888"}),d.jsx("rect",{x:l*.92-8,y:u*.05,width:"8",height:p+20,rx:"4",fill:"#888"})]}),d.jsxs("g",{id:"banner-main",filter:"url(#bannerShadow)",children:[d.jsx("rect",{x:l*.1,y:u*.08,width:l*.8,height:p,rx:"8",fill:"url(#bannerGradient)"}),d.jsx("rect",{x:l*.1,y:u*.08,width:l*.8,height:"12",rx:"6",fill:o}),d.jsx("rect",{x:l*.1,y:u*.08+p-12,width:l*.8,height:"12",rx:"6",fill:o})]}),d.jsxs("g",{id:"logo-area",children:[d.jsx("circle",{cx:l/2,cy:u*.08+p*.4,r:m*.6,fill:"white",filter:"url(#bannerShadow)"}),d.jsx("image",{href:s,x:l/2-m/2,y:u*.08+p*.4-m/2,width:m,height:m,preserveAspectRatio:"xMidYMid meet"})]}),d.jsx("text",{x:l/2,y:u*.08+p*.82,textAnchor:"middle",fill:"white",fontSize:l*.045,fontWeight:"bold",fontFamily:"system-ui, sans-serif",style:{textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:r}),d.jsx("ellipse",{cx:l/2,cy:u*.95,rx:l*.35,ry:u*.03,fill:"rgba(0,0,0,0.08)"})]})}function B0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:o,width:l=600,height:u=450,className:h=""}){const p=u*.45,m=u*.35,v=u*.18,y=Math.min(l*.2,m*.6);return d.jsxs("svg",{viewBox:`0 0 ${l} ${u}`,width:l,height:u,className:h,xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"tableTopGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#f0f0f0"}),d.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),d.jsxs("linearGradient",{id:"frontPanelGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:n}),d.jsx("stop",{offset:"100%",stopColor:n,stopOpacity:"0.9"})]}),d.jsx("filter",{id:"tableShadow",x:"-10%",y:"-10%",width:"120%",height:"130%",children:d.jsx("feDropShadow",{dx:"0",dy:"5",stdDeviation:"8",floodOpacity:"0.15"})}),d.jsx("filter",{id:"softShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:d.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.1"})})]}),d.jsx("rect",{x:"0",y:"0",width:l,height:u,fill:"#fafafa"}),d.jsx("rect",{x:"0",y:"0",width:l,height:u*.3,fill:"#f0f0f0"}),d.jsx("line",{x1:"0",y1:u*.3,x2:l,y2:u*.3,stroke:"#e5e5e5",strokeWidth:"2"}),d.jsxs("g",{id:"table-banner",filter:"url(#softShadow)",children:[d.jsx("rect",{x:l*.2,y:u*.05,width:l*.6,height:v,rx:"6",fill:o}),d.jsx("text",{x:l/2,y:u*.05+v*.6,textAnchor:"middle",fill:n,fontSize:l*.035,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:r})]}),d.jsxs("g",{id:"table",filter:"url(#tableShadow)",children:[d.jsx("rect",{x:l*.12,y:p+m*.1,width:"12",height:m*.9,fill:"#666"}),d.jsx("rect",{x:l*.88-12,y:p+m*.1,width:"12",height:m*.9,fill:"#666"}),d.jsx("rect",{x:l*.1,y:p+m*.15,width:l*.8,height:m*.85,rx:"4",fill:"url(#frontPanelGradient)"}),d.jsx("rect",{x:l*.1,y:p+m*.15,width:l*.8,height:"6",fill:o}),d.jsx("rect",{x:l*.08,y:p,width:l*.84,height:m*.18,rx:"3",fill:"url(#tableTopGradient)",stroke:"#ccc",strokeWidth:"1"})]}),d.jsxs("g",{id:"logo-area",children:[d.jsx("circle",{cx:l/2,cy:p+m*.55,r:y*.55,fill:"white",filter:"url(#softShadow)"}),d.jsx("image",{href:s,x:l/2-y/2,y:p+m*.55-y/2,width:y,height:y,preserveAspectRatio:"xMidYMid meet"})]}),d.jsxs("g",{id:"table-items",opacity:"0.6",children:[d.jsx("rect",{x:l*.15,y:p-u*.08,width:l*.1,height:u*.08,rx:"3",fill:"#ddd"}),d.jsx("rect",{x:l*.75,y:p-u*.06,width:l*.08,height:u*.06,rx:"3",fill:"#ddd"})]}),d.jsx("ellipse",{cx:l/2,cy:u*.97,rx:l*.4,ry:u*.02,fill:"rgba(0,0,0,0.05)"})]})}function $0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:o,width:l=400,height:u=400,className:h=""}){const p=Math.min(l,u),m=p/2,v=p*.45,y=p*.38,x=p*.4;return d.jsxs("svg",{viewBox:`0 0 ${p} ${p}`,width:p,height:p,className:h,xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"stickerRingGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:n}),d.jsx("stop",{offset:"50%",stopColor:o}),d.jsx("stop",{offset:"100%",stopColor:n})]}),d.jsx("filter",{id:"stickerShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:d.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.2"})}),d.jsxs("filter",{id:"emboss",x:"-10%",y:"-10%",width:"120%",height:"120%",children:[d.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"1",result:"blur"}),d.jsx("feOffset",{in:"blur",dx:"1",dy:"1",result:"offsetBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"offsetBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx("rect",{x:"0",y:"0",width:p,height:p,fill:"#f8f8f8"}),d.jsx("circle",{cx:m,cy:m,r:v+8,fill:"none",stroke:"#ccc",strokeWidth:"1",strokeDasharray:"8 4"}),d.jsxs("g",{id:"sticker",filter:"url(#stickerShadow)",children:[d.jsx("circle",{cx:m,cy:m,r:v,fill:"url(#stickerRingGradient)"}),Array.from({length:12}).map((_,N)=>{const R=N*30*Math.PI/180,T=m+Math.cos(R)*(v-8),j=m+Math.sin(R)*(v-8);return d.jsx("circle",{cx:T,cy:j,r:"4",fill:"white",opacity:"0.8"},N)}),d.jsx("circle",{cx:m,cy:m,r:y,fill:"white"}),d.jsx("circle",{cx:m,cy:m,r:y-3,fill:"none",stroke:n,strokeWidth:"2",opacity:"0.2"})]}),d.jsx("image",{href:s,x:m-x/2,y:m-x/2-p*.05,width:x,height:x,preserveAspectRatio:"xMidYMid meet"}),d.jsx("text",{x:m,y:m+y*.65,textAnchor:"middle",fill:n,fontSize:p*.055,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:r})]})}function D0({logoUrl:s,businessName:r,primaryColor:n,secondaryColor:o,width:l=300,height:u=400,price:h="RM __",className:p=""}){const m=l*.85,v=u*.9,y=m*.4,x=l*.04;return d.jsxs("svg",{viewBox:`0 0 ${l} ${u}`,width:l,height:u,className:p,xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"priceTagGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),d.jsx("stop",{offset:"100%",stopColor:"#f9f9f9"})]}),d.jsx("filter",{id:"tagShadow",x:"-15%",y:"-10%",width:"130%",height:"125%",children:d.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"6",floodOpacity:"0.15"})}),d.jsx("filter",{id:"stringShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:d.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1",floodOpacity:"0.2"})})]}),d.jsx("rect",{x:"0",y:"0",width:l,height:u,fill:"#f0f0f0"}),d.jsx("g",{id:"string",filter:"url(#stringShadow)",children:d.jsx("path",{d:`M ${l/2} 0 
              Q ${l/2-20} ${u*.08} ${l/2} ${u*.1+x}`,fill:"none",stroke:"#8B7355",strokeWidth:"3"})}),d.jsxs("g",{id:"price-tag",filter:"url(#tagShadow)",children:[d.jsx("rect",{x:(l-m)/2,y:u*.08,width:m,height:v,rx:"12",fill:"url(#priceTagGradient)",stroke:"#e0e0e0",strokeWidth:"1"}),d.jsx("circle",{cx:l/2,cy:u*.08+x+15,r:x,fill:"#f0f0f0",stroke:"#ccc",strokeWidth:"2"}),d.jsx("rect",{x:(l-m)/2,y:u*.08,width:m,height:"8",rx:"4",fill:n}),d.jsx("line",{x1:(l-m)/2+20,y1:u*.18,x2:(l+m)/2-20,y2:u*.18,stroke:o,strokeWidth:"2",strokeDasharray:"8 4"})]}),d.jsxs("g",{id:"logo-area",children:[d.jsx("circle",{cx:l/2,cy:u*.35,r:y*.55,fill:`${n}15`,stroke:n,strokeWidth:"2"}),d.jsx("image",{href:s,x:l/2-y/2,y:u*.35-y/2,width:y,height:y,preserveAspectRatio:"xMidYMid meet"})]}),d.jsx("text",{x:l/2,y:u*.55,textAnchor:"middle",fill:n,fontSize:l*.06,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:r}),d.jsx("line",{x1:(l-m)/2+30,y1:u*.6,x2:(l+m)/2-30,y2:u*.6,stroke:"#e0e0e0",strokeWidth:"1"}),d.jsx("text",{x:l/2,y:u*.68,textAnchor:"middle",fill:"#999",fontSize:l*.045,fontFamily:"system-ui, sans-serif",children:"PRICE"}),d.jsx("text",{x:l/2,y:u*.82,textAnchor:"middle",fill:n,fontSize:l*.12,fontWeight:"bold",fontFamily:"system-ui, sans-serif",children:h}),d.jsx("rect",{x:(l-m)/2,y:u*.08+v-8,width:m,height:"8",rx:"4",fill:o})]})}const Th=[{id:"banner",name:"Banner Booth",description:"Large backdrop banner for school fairs",icon:""},{id:"table",name:"Table Booth",description:"Table with front panel and top surface",icon:""},{id:"sticker",name:"Rounded Sticker",description:"Circular sticker badge with logo",icon:""},{id:"pricetag",name:"Price Tag",description:"Product price tag for booth items",icon:""}],U0={banner:M0,table:B0,sticker:$0,pricetag:D0},z0=O.forwardRef(function({templateId:r,...n},o){const l=U0[r];return l?d.jsx("div",{ref:o,children:d.jsx(l,{...n})}):(console.warn(`Unknown booth template: ${r}`),null)});function F0(){var ue;const{t:s}=Tt(),{child:r}=Un(),[n,o]=O.useState(1),[l,u]=O.useState([]),[h,p]=O.useState(null),[m,v]=O.useState(null),[y,x]=O.useState(!1),[_,N]=O.useState(null),R=O.useRef({}),T=(ue=r==null?void 0:r.companies)==null?void 0:ue[0],j=T==null?void 0:T.logo_url,M=(T==null?void 0:T.company_name)||(r==null?void 0:r.name)||"My Business",[I,E]=O.useState("#6B4EFF"),[$,q]=O.useState("#FFD54F");O.useEffect(()=>{async function Z(){if(j&&p(j),r!=null&&r.id)try{const{getSelectedLogo:me}=await L0(async()=>{const{getSelectedLogo:ke}=await Promise.resolve().then(()=>u0);return{getSelectedLogo:ke}},void 0),be=await me(r.id);if(be!=null&&be.color_palette){const ke=be.color_palette;ke.primary&&E(ke.primary),ke.secondary&&q(ke.secondary)}}catch(me){console.warn("Could not load logo colors:",me)}}Z()},[j,r==null?void 0:r.id]);const Q=Z=>{u(me=>me.includes(Z)?me.filter(be=>be!==Z):[...me,Z])},ne=async()=>{if(h){x(!0),N(null);try{const Z=await fetch("/api/remove-bg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:h})});if(!Z.ok)throw new Error("Failed to remove background");const be=(await Z.json()).transparentUrl;try{const ke=await fetch("/api/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempUrl:be,childId:(r==null?void 0:r.id)||"anonymous",filename:`logo-transparent-${Date.now()}`})});if(ke.ok){const{permanentUrl:Ne}=await ke.json();v(Ne)}else v(be)}catch(ke){console.warn("Permanent upload failed for transparent logo:",ke),v(be)}o(2)}catch(Z){console.error("Remove BG error:",Z),N("Failed to process logo. Using original."),v(h),o(2)}finally{x(!1)}}},he=async Z=>{var ke;const me=R.current[Z];if(!me)return;const be=me.querySelector("svg");if(be)try{const Ne=((ke=be.getAttribute("viewBox"))==null?void 0:ke.split(" ").map(Number))||[0,0,600,400],fe=Ne[2],F=Ne[3],ee=new XMLSerializer().serializeToString(be),V=new Blob([ee],{type:"image/svg+xml;charset=utf-8"}),S=URL.createObjectURL(V),L=new Image;L.onload=()=>{const oe=document.createElement("canvas");oe.width=fe*2,oe.height=F*2;const le=oe.getContext("2d");if(!le)return;le.scale(2,2),le.drawImage(L,0,0,fe,F);const ce=document.createElement("a");ce.download=`booth-${Z}-${M.replace(/\s+/g,"-")}.png`,ce.href=oe.toDataURL("image/png"),ce.click(),URL.revokeObjectURL(S)},L.src=S}catch(Ne){console.error("Export error:",Ne)}},xe=()=>n===1?!!h:n===2?l.length>0:!1,Fe=async()=>{n===1&&h?await ne():n===2&&l.length>0&&o(3)};return d.jsxs(Ks,{currentStep:n,totalSteps:3,toolName:s("tool.booth"),toolIcon:"",children:[n===1&&d.jsxs(ut,{title:"Your Logo",subtitle:"We'll use your company logo for the booth mockups",icon:"",children:[d.jsx("div",{className:"flex flex-col items-center py-8",children:j?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-40 h-40 rounded-2xl bg-white shadow-[var(--shadow-medium)] flex items-center justify-center mb-6 border-2 border-[var(--border-light)] overflow-hidden",children:d.jsx("img",{src:j,alt:"Company Logo",className:"w-full h-full object-contain p-4"})}),d.jsx("p",{className:"text-[var(--text-secondary)] mb-4 text-center",children:"We'll remove the background to make it look great on mockups!"}),_&&d.jsx("p",{className:"text-red-500 text-sm mb-4",children:_})]}):d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-40 h-40 rounded-2xl bg-gray-100 flex items-center justify-center mb-6 border-2 border-dashed border-gray-300",children:d.jsx("span",{className:"text-5xl",children:""})}),d.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-2",children:"No Logo Yet!"}),d.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:"Create a logo first to use in your booth mockups."}),d.jsx(Nt,{to:"/tools/logo-maker",className:"inline-block px-6 py-3 bg-[var(--sky-blue)] text-white font-bold rounded-full hover:scale-105 transition-transform",children:"Create Logo First "})]})}),j&&d.jsx(Gt,{onNext:Fe,canGoNext:xe(),nextLabel:y?"Processing... ":"Prepare Logo "})]}),n===2&&d.jsxs(ut,{title:"Choose Mockups",subtitle:"Select the booth materials you want to create",icon:"",children:[d.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:Th.map(Z=>d.jsxs("button",{onClick:()=>Q(Z.id),className:`relative p-6 rounded-2xl border-3 transition-all duration-300 text-left ${l.includes(Z.id)?"border-[var(--sky-blue)] bg-gradient-to-br from-[#f0f7ff] to-[#e6f0ff] scale-[1.02] shadow-[0_8px_32px_rgba(66,170,217,0.3)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)] hover:shadow-lg"}`,children:[d.jsx("div",{className:"text-4xl mb-3",children:Z.icon}),d.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-1",children:Z.name}),d.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:Z.description}),l.includes(Z.id)&&d.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[var(--sky-blue)] flex items-center justify-center text-white text-lg",children:""})]},Z.id))}),d.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-6",children:l.length===0?"Select at least one mockup type":`${l.length} mockup${l.length>1?"s":""} selected`}),d.jsx(Gt,{onPrevious:()=>o(1),onNext:Fe,canGoNext:xe(),nextLabel:"Generate Mockups "})]}),n===3&&m&&d.jsxs(ut,{title:"Your Booth Mockups",subtitle:"Download your materials for the booth!",icon:"",children:[d.jsx("div",{className:"space-y-8",children:l.map(Z=>{const me=Th.find(fe=>fe.id===Z);if(!me)return null;const ke=Z==="sticker"||Z==="pricetag"?240:480,Ne=Z==="pricetag"?320:Z==="sticker"?240:300;return d.jsxs("div",{className:"bg-white rounded-3xl shadow-[var(--shadow-medium)] border-2 border-[var(--border-light)] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--border-light)] bg-gradient-to-r from-white to-[var(--sky-lighter)]",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-[var(--sky-light)] flex items-center justify-center text-xl",children:me.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-lg",children:me.name}),d.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:me.description})]})]}),d.jsxs("button",{onClick:()=>he(Z),className:"px-6 py-3 bg-gradient-to-r from-[var(--sky-blue)] to-[var(--sky-blue-dark)] text-white font-bold rounded-full text-sm hover:scale-105 hover:shadow-lg transition-all flex items-center gap-2",children:[d.jsx("span",{children:"Download"}),d.jsx("span",{children:""})]})]}),d.jsx("div",{className:"p-8 bg-gradient-to-b from-[var(--sky-lighter)] to-white flex items-center justify-center min-h-[300px]",children:d.jsx("div",{className:"transform scale-90 hover:scale-95 transition-transform duration-300",children:d.jsx(z0,{ref:fe=>{R.current[Z]=fe},templateId:Z,logoUrl:m,businessName:M,primaryColor:I,secondaryColor:$,width:ke,height:Ne})})})]},Z)})}),d.jsxs("div",{className:"flex justify-center gap-4 mt-8 pt-6 border-t border-[var(--border-light)]",children:[d.jsx("button",{onClick:()=>o(2),className:"px-8 py-4 rounded-full bg-white text-[var(--text-primary)] font-bold hover:scale-105 transition-transform border-2 border-[var(--border-light)] shadow-sm",children:" Change Selection"}),d.jsx(Nt,{to:"/dashboard",className:"px-8 py-4 rounded-full bg-gradient-to-r from-[var(--mint-green)] to-[#7fd4a8] text-white font-bold hover:scale-105 transition-transform shadow-lg",children:"Back to Dashboard "})]})]})]})}function W0(){const{t:s}=Tt(),[r,n]=O.useState(5),[o,l]=O.useState(10),[u,h]=O.useState(20),[p,m]=O.useState(0),[v,y]=O.useState(0),[x,_]=O.useState(0),[N,R]=O.useState(0),[T,j]=O.useState(0);O.useEffect(()=>{const $=o-r,q=o*u,Q=r*u,ne=$*u,he=o>0?$/o*100:0;m($),y(q),_(Q),R(ne),j(he)},[r,o,u]);const I=p<=0?{emoji:"",text:s("profit.status.loss"),color:"#ffb6c1"}:T<20?{emoji:"",text:s("profit.status.low"),color:"#ffb84d"}:T<40?{emoji:"",text:s("profit.status.good"),color:"#60b5f4"}:{emoji:"",text:s("profit.status.great"),color:"#a8e6cf"},E={orange:"#ffb84d",blue:"#60b5f4",green:"#a8e6cf",muted:"#e8f4fc"};return d.jsx(Ks,{currentStep:1,totalSteps:1,toolName:s("tool.profit"),toolIcon:"",children:d.jsx("div",{className:"max-w-3xl mx-auto",children:d.jsxs(ut,{title:s("profit.title"),subtitle:s("profit.subtitle"),icon:"",children:[d.jsxs("div",{className:"space-y-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"font-semibold text-[var(--text-primary)]",children:s("profit.cost")}),d.jsxs("span",{className:"text-lg font-bold text-[var(--sunshine-orange)]",children:["RM ",r]})]}),d.jsx("input",{type:"range",min:"1",max:"50",value:r,onChange:$=>n(Number($.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${E.orange} 0%, ${E.orange} ${r/50*100}%, ${E.muted} ${r/50*100}%, ${E.muted} 100%)`}}),d.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[d.jsx("span",{children:"RM 1"}),d.jsx("span",{children:"RM 50"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"font-semibold text-[var(--text-primary)]",children:s("profit.price")}),d.jsxs("span",{className:"text-lg font-bold text-[var(--sky-blue)]",children:["RM ",o]})]}),d.jsx("input",{type:"range",min:"1",max:"100",value:o,onChange:$=>l(Number($.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${E.blue} 0%, ${E.blue} ${o}%, ${E.muted} ${o}%, ${E.muted} 100%)`}}),d.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[d.jsx("span",{children:"RM 1"}),d.jsx("span",{children:"RM 100"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"font-semibold text-[var(--text-primary)]",children:s("profit.quantity")}),d.jsxs("span",{className:"text-lg font-bold text-[var(--mint-green)]",children:[u," ",s("profit.items")]})]}),d.jsx("input",{type:"range",min:"1",max:"100",value:u,onChange:$=>h(Number($.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${E.green} 0%, ${E.green} ${u}%, ${E.muted} ${u}%, ${E.muted} 100%)`}}),d.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[d.jsx("span",{children:"1"}),d.jsx("span",{children:"100"})]})]})]}),d.jsxs("div",{className:"rounded-3xl p-6",style:{background:"linear-gradient(135deg, rgba(168, 213, 247, 0.5) 0%, rgba(168, 230, 207, 0.5) 100%)"},children:[d.jsx("div",{className:"text-center mb-6",children:d.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full text-white font-bold",style:{backgroundColor:I.color},children:[d.jsx("span",{className:"text-3xl",children:I.emoji}),d.jsx("span",{children:I.text})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center",children:[d.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:s("profit.revenue")}),d.jsxs("p",{className:"text-2xl font-extrabold text-[var(--text-primary)]",children:["RM ",v]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center",children:[d.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:s("profit.totalCost")}),d.jsxs("p",{className:"text-2xl font-extrabold text-[var(--sunshine-orange)]",children:["RM ",x]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center",children:[d.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-2",children:s("profit.totalProfit")}),d.jsxs("p",{className:"text-4xl font-extrabold transition-all",style:{color:N>=0?"#60b5f4":"#ffb6c1"},children:["RM ",N]}),d.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-2",children:[s("profit.perItem"),": RM ",p," | ",s("profit.margin"),": ",T.toFixed(0),"%"]})]}),d.jsxs("div",{className:"mt-6 rounded-xl p-4 text-center",style:{backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[d.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[d.jsxs("span",{className:"font-semibold",children:[s("profit.formula"),":"]})," ",s("profit.revenue")," -"," ",s("profit.totalCost")," = ",s("profit.totalProfit")]}),d.jsxs("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:["(RM ",o," x ",u,") - (RM ",r," x ",u,") = RM ",N]})]})]}),d.jsx("div",{className:"flex justify-center mt-8",children:d.jsxs(Nt,{to:"/dashboard",className:"inline-flex items-center gap-2 px-8 py-3 rounded-full bg-[var(--sky-blue)] text-white font-bold hover:scale-105 transition-all",children:[s("profit.done")," "]})})]})})})}function K0(){const[s,r]=O.useState([]),[n,o]=O.useState(null),[l,u]=O.useState(!0),[h,p]=O.useState(!1),{login:m,child:v}=Un(),y=fo();O.useEffect(()=>{v&&y("/dashboard")},[v,y]),O.useEffect(()=>{async function _(){const{data:N,error:R}=await Ct.from("children").select(`
          id,
          name,
          age,
          parent_id,
          total_xp,
          current_level,
          companies (
            company_name
          )
        `).is("deleted_at",null).order("name");if(R){console.error("Error fetching children:",R),u(!1);return}const T=(N||[]).map(j=>{var M,I;return{id:j.id,name:j.name,age:j.age,parent_id:j.parent_id,company_name:((I=(M=j.companies)==null?void 0:M[0])==null?void 0:I.company_name)||null,total_xp:j.total_xp,current_level:j.current_level}});r(T),u(!1)}_()},[]);const x=async()=>{if(!n)return;p(!0),await m(n)?y("/dashboard"):alert("Failed to login. Check console for errors."),p(!1)};return d.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[d.jsx(Fs,{}),d.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-screen px-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsx("div",{className:"mb-6 py-3 px-4 rounded-2xl text-center text-white font-bold",style:{background:"linear-gradient(90deg, #ff6b6b 0%, #ffa502 100%)"},children:" DEV MODE  Child Impersonation"}),d.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-[var(--shadow-high)]",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h1",{className:"text-2xl font-extrabold text-[var(--text-primary)]",children:"Select a Child"}),d.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:"Choose which child to impersonate for testing"})]}),d.jsx("div",{className:"space-y-3 mb-8 max-h-80 overflow-y-auto",children:l?d.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"Loading children..."}):s.length===0?d.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:["No children found in database.",d.jsx("br",{}),d.jsx("span",{className:"text-sm",children:"Add some test data first!"})]}):s.map(_=>d.jsx("button",{onClick:()=>o(_.id),className:`w-full p-4 rounded-2xl border-3 transition-all duration-200 text-left ${n===_.id?"border-[var(--sunshine-orange)] bg-[#fff5e6] scale-[1.02] shadow-[0_4px_16px_rgba(255,184,77,0.25)]":"border-[var(--border-light)] bg-white hover:border-[var(--sky-blue)]"}`,children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[var(--sky-blue-light)] to-[var(--sky-blue)] flex items-center justify-center text-xl",children:_.age&&_.age<10?"":""}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:_.name}),d.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:["Age ",_.age||"?","  Level ",_.current_level,"  ",_.total_xp," XP"]}),_.company_name&&d.jsxs("div",{className:"text-xs text-[var(--sky-blue)] mt-1",children:[" ",_.company_name]})]}),n===_.id&&d.jsx("div",{className:"text-2xl",children:""})]})},_.id))}),d.jsx("button",{onClick:x,disabled:!n||h,className:`w-full py-4 rounded-full font-bold text-lg transition-all ${n&&!h?"bg-[var(--sky-blue)] text-white hover:scale-105 shadow-[var(--shadow-medium)]":"bg-[var(--muted)] text-[var(--text-muted)] cursor-not-allowed"}`,children:h?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("span",{className:"animate-spin",children:""})," Logging in..."]}):"Login as Selected Child "})]}),d.jsxs("p",{className:"text-center text-sm text-[var(--text-muted)] mt-6",children:["This page is for development only.",d.jsx("br",{}),"Production will use proper authentication."]})]})})]})}function V0({isOpen:s,title:r,message:n,confirmLabel:o="Confirm",cancelLabel:l="Cancel",confirmVariant:u="primary",onConfirm:h,onCancel:p}){return s?d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:p,children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl",onClick:m=>m.stopPropagation(),children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-3xl ${u==="danger"?"bg-red-100":"bg-[var(--sky-blue-light)]"}`,children:u==="danger"?"":""})}),d.jsx("h3",{className:"text-xl font-bold text-center text-[var(--text-primary)] mb-2",children:r}),d.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-6",children:n}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:p,className:"flex-1 px-4 py-3 rounded-full bg-gray-100 text-[var(--text-primary)] font-bold hover:bg-gray-200 transition-colors",children:l}),d.jsx("button",{onClick:h,className:`flex-1 px-4 py-3 rounded-full font-bold hover:scale-105 transition-transform ${u==="danger"?"bg-red-500 text-white":"bg-[var(--sky-blue)] text-white"}`,children:o})]})]})}):null}function Ph(s){const r=new Date(s),o=new Date().getTime()-r.getTime(),l=Math.floor(o/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l} days ago`:r.toLocaleDateString()}function q0(){const{t:s}=Tt(),{child:r,loading:n,updateCompanyLogoUrl:o}=Un(),l=fo(),[u,h]=O.useState([]),[p,m]=O.useState(!0),[v,y]=O.useState(!1),[x,_]=O.useState(null),[N,R]=O.useState(!1),[T,j]=O.useState(null);O.useEffect(()=>{!n&&!r&&l("/dev/login")},[r,n,l]),O.useEffect(()=>{async function q(){if(r!=null&&r.id){m(!0);const Q=await Jl(r.id);h(Q),m(!1)}}q()},[r==null?void 0:r.id]);const M=q=>{_(q),y(!0)},I=()=>{y(!1),_(null)},E=()=>{x!==null&&u[x]&&(j(u[x]),R(!0))},$=async()=>{T&&(r!=null&&r.id)&&(await hf(r.id,T.id),h(q=>q.filter(Q=>Q.id!==T.id)),R(!1),j(null),I())};return n?d.jsx("div",{className:"min-h-screen bg-sky-gradient flex items-center justify-center",children:d.jsx("div",{className:"text-2xl",children:"Loading..."})}):r?d.jsxs("div",{className:"min-h-screen bg-sky-gradient relative overflow-hidden",children:[d.jsx(Fs,{}),d.jsx("header",{className:"relative z-10 flex items-center justify-between p-4 md:p-6 bg-white/50 backdrop-blur-sm",children:d.jsxs(Nt,{to:"/dashboard",className:"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-[var(--shadow-low)] hover:shadow-[var(--shadow-medium)] transition-all",children:[d.jsx("span",{className:"text-xl",children:""}),d.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:s("common.back")})]})}),d.jsx("main",{className:"relative z-10 px-4 md:px-8 pb-8 pt-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[var(--text-primary)] mb-2",children:" My Creations"}),d.jsx("p",{className:"text-[var(--text-secondary)]",children:"All the amazing logos you've created!"})]}),p?d.jsx("div",{className:"flex items-center justify-center py-16",children:d.jsx("div",{className:"animate-spin text-4xl",children:""})}):u.length>0?d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:u.map((q,Q)=>d.jsx(Yl,{imageUrl:q.image_url,title:q.company_name||"My Logo",subtitle:`${q.business_type||""}  ${q.logo_style||""}`,showDate:!0,date:Ph(q.created_at),planType:q.plan_type,onClick:()=>M(Q)},q.id))}):d.jsxs("div",{className:"bg-white/70 rounded-3xl p-12 text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"No creations yet!"}),d.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"Start your creative journey by making your first logo."}),d.jsx(Nt,{to:"/tools/logo-maker",className:"inline-block px-8 py-3 bg-[var(--sky-blue)] text-white font-bold rounded-full hover:scale-105 transition-transform shadow-[var(--shadow-medium)]",children:"Create My First Logo "})]})]})}),x!==null&&u[x]&&d.jsx(mf,{isOpen:v,imageUrl:u[x].image_url,title:u[x].company_name||"My Logo",subtitle:`Created ${Ph(u[x].created_at)}`,onClose:I,showPickButton:!0,pickButtonLabel:"Set as Company Logo ",onPick:async()=>{var Q,ne,he,xe,Fe,ue;const q=u[x];if(console.log(" Set Company Logo clicked:",{logoId:q.id,childId:r==null?void 0:r.id,companyId:(ne=(Q=r==null?void 0:r.companies)==null?void 0:Q[0])==null?void 0:ne.id}),r!=null&&r.id&&((xe=(he=r.companies)==null?void 0:he[0])!=null&&xe.id))try{const Z=await Ql(r.id,q.id,q.image_url,r.companies[0].id);console.log(" selectLogoAndUpdateCompany result:",Z),Z&&o(q.image_url),I()}catch(Z){console.error(" Error setting company logo:",Z),I()}else console.warn(" Missing child or company ID:",{childId:r==null?void 0:r.id,companyId:(ue=(Fe=r==null?void 0:r.companies)==null?void 0:Fe[0])==null?void 0:ue.id})},showDeleteButton:!0,onDelete:E}),d.jsx(V0,{isOpen:N,title:"Delete Logo?",message:"This will permanently remove this logo from your creations. This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Keep It",confirmVariant:"danger",onConfirm:$,onCancel:()=>{R(!1),j(null)}})]}):null}function G0(){const{child:s,isDevMode:r,logout:n}=Un();return!r||!s?null:d.jsxs("div",{className:"relative w-full z-50 py-2 px-4 text-center text-sm font-bold",style:{background:"linear-gradient(90deg, #ff6b6b 0%, #ffa502 50%, #ff6b6b 100%)",color:"white"},children:[d.jsx("span",{className:"mr-2",children:""}),"DEV MODE  Impersonating: ",d.jsx("span",{className:"underline",children:s.name})," (Age ",s.age,")",d.jsx("button",{onClick:n,className:"ml-4 px-3 py-1 bg-white/20 rounded-full hover:bg-white/30 transition-all text-xs",children:"Logout"})]})}function H0(){return d.jsxs(d.Fragment,{children:[d.jsx(G0,{}),d.jsxs(pg,{children:[d.jsx(er,{path:"/",element:d.jsx(Ng,{})}),d.jsx(er,{path:"/dev/login",element:d.jsx(K0,{})}),d.jsx(er,{path:"/dashboard",element:d.jsx(j0,{})}),d.jsx(er,{path:"/creations",element:d.jsx(q0,{})}),d.jsx(er,{path:"/tools/logo-maker",element:d.jsx(N0,{})}),d.jsx(er,{path:"/tools/product-idea",element:d.jsx(R0,{})}),d.jsx(er,{path:"/tools/packaging-idea",element:d.jsx(O0,{})}),d.jsx(er,{path:"/tools/booth-ready",element:d.jsx(F0,{})}),d.jsx(er,{path:"/tools/profit-calculator",element:d.jsx(W0,{})})]})]})}bm.createRoot(document.getElementById("root")).render(d.jsx(Oh.StrictMode,{children:d.jsx(_g,{children:d.jsx(jg,{children:d.jsx(c0,{children:d.jsx(H0,{})})})})}));
